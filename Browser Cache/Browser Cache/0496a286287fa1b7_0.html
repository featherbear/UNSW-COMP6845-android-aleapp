<!DOCTYPE html><html class="bc-iframe"><head>
    <meta charset="utf-8">
    <title>7NEWS, TheWest &amp; Perthnow - AMP - SWM Player</title>
    <meta name="viewport" content="user-scalable=0, width=device-width, maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <style id="bc-style-vjs">
          .video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.vjs-modal-dialog .vjs-modal-dialog-content{position:absolute;top:0;left:0;width:100%;height:100%}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.vjs-button>.vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(//vjs.zencdn.net/font/1.5.1/VideoJS.eot?#iefix) format("eot")}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABBIAAsAAAAAGoQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3RY21hcAAAAYQAAADQAAADIjn098ZnbHlmAAACVAAACv4AABEIAwnSw2hlYWQAAA1UAAAAKwAAADYSy2hLaGhlYQAADYAAAAAbAAAAJA4DByFobXR4AAANnAAAAA8AAACE4AAAAGxvY2EAAA2sAAAARAAAAEQ9NEHGbWF4cAAADfAAAAAfAAAAIAEyAIFuYW1lAAAOEAAAASUAAAIK1cf1oHBvc3QAAA84AAABDwAAAZ5AAl/0eJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGQ7xTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGBHcRdyA4RZgQRAC4HCwEAAHic7dFprsIgAEXhg8U61XmeWcBb1FuQP4w7ZQXK5boMm3yclFDSANAHmuKviBBeBPQ8ymyo8w3jOh/5r2ui5nN6v8sYNJb3WMdeWRvLji0DhozKdxM6psyYs2DJijUbtuzYc+DIiTMXrty4k8oGLb+n0xCe37ekM7Z66j1DbUy3l6PpHnLfdLO5NdSBoQ4NdWSoY9ON54mhdqa/y1NDnRnq3FAXhro01JWhrg11Y6hbQ90Z6t5QD4Z6NNSToZ4N9WKoV0O9GerdUJORPqkhTd54nJ1YDXBU1RV+576/JBs2bPYPkrDZt5vsJrv53V/I5mclhGDCTwgGBQQSTEji4hCkYIAGd4TGIWFAhV0RQTpWmQp1xv6hA4OTOlNr2zFANbHUYbq2OtNCpViRqsk+e+7bTQAhzti8vPfuPffcc88959zznbcMMPjHD/KDDGEY0ABpYX384NhlomIYlo4JISGEY9mMh2FSidYiqkEUphtNYDSY/dXg9023l4DdxlqUl0chuZRhncJKrsCQHIwcGuwfnhMIzBnuH4Sym+1D2zaGjheXlhYfD238z80mKYMmvJ5XeOTzd8z9eujbMxJNhu4C9xPE/bCMiDuSNIWgkTQwBE55hLSAE7ZwhrHLnAHZOGV/kmBGTiNjZxzI77Hb7Hqjz68TjT6vh+5JT/cCIkqS0D6CqPf5jX4Qjdx5j6vlDfZM4aZFdbVXIxtOlJaP/WottMnH6CJQ3bTiue3PrY23HjnChtuamxwvvzFjxkPrNj3z0tG9T561HDYf6OgmRWvlY3JQHoQb8ltV2Yet7YfWctEjR1AtxS/cSX6U4alf6NJEBQ7YKg9wrXQKd0IeZCb2ux75Uhh1Un+Nz+9LTOE7PK777nN5xqdTneTBhCbx446mZrhnUkrCz2YhA9dSMxaG0SYmT8hi9ZPu1E94PJYQSH6LRmhxec7Q7ZeXntgQuVpbh+a4qWNsckVyTdn0P7o7DpgPW84+uRcq0BITflBikGdUjAZ9wYBVI3mtrNvr9kpg1UsaK6t3690aoorC1lg0GpMH2HAMtkZjsSi5Ig9ESVosOh7GQfLjKNLvKpMKkLSKNFAka710GdgSi8oDMSoNhqjkKBXTgn3swtaxyzGkUzIzae9RtLdWkSlZ1KDX6EzgllzV4NV4SoDFSOGD4+HCeQUF8wrZ5Hs8zIb5EaVxy8DYFTbMCJPnLIWZxugZE2NlivC0gc1qEQUR8jEKgZcAXeH18BiCgl5nlHh0CrjB4Hb5fX4gb0J7c9PuHVsfgkx2n/vTY/JV8kn8PGxf7faOZ8qX8JVByuIf4whk9sqXli2hvPJV9hrp0hY7l8r2x37ydaVsb4xvXv/47v2NjfCl8m5oRDJclFMoE1yk0Uh1Te4/m8lFXe9qBZD0EkheicebXvzI2PLCuoKCukLuhPIeKwaHPEouxw3kMqaIUXDQ1p0mip+MyCORSCQaoUsnY1VZ38nUTrG21WvVo4f1OsEJFhvSfAFwGfT8VHRMeAVUpwLOoLzjT/REIj3O3FhuURE+nERF+0pTId5Fyxv5sfwGyg4O+my4vZv0sZm7oeQlFZORiB+tG0MweVNraeitl7yxiPIHTk4/diVxs94o5lEYishB2iAtkchEnsActoEpx44Fo8XnsQMaA22BlqC20RmhBKzYojZyYaxg+JggMc4HHY2m+L9EkWSYljirOisrO7d3VorxzyZ6Vc4lJqITAu1b2wOBdrLElAP+bFc2eGaZFVbkmJktv5uT6Jlz5D/MnBFor6ig/JPnRViBsV3LNKGGqB1ChJ0tgQywlVLFJIuQgTFttwkiKxhyQdAZMdMYtSaoAewqfvXVYPAbDT6/1mez85YS8FSDywQ6NfAnef6FNEGMilnppyvn5rB6tTyq1pOceRWnp2WJEZFXHeX5oyoem1nTTgdqc4heDY7bOeKz63vnz+/dRx+s31Ht2JGanQ5seirfWJL9tjozU/12TnEjn5oux9OzU3ckGbBzBwNOyk69JykKH0n/0LM9A72tuwM3zQpIRu4AxiToseEpgPOmbROyFe9/X2yeUvoUsCyEvjcgs7fpWP3/aKlFN0+6HFUe6D9HFz/XPwBlN9tTqNyZjFJ8UO2RUT5/h4CptCctEyeisnOyXjALEp7dXKaQKf6O7IMnGjNNACRMLxqdYJX8eMLvmmd68D+ayBLyKKYZwYxDt/GNhzETDJ05Qxlyi3pi3/Z93ndYVSumgj0V/KkIFlO6+1K3fF2+3g0q+YtuSIf0bvmLqV09nnobI6hwcjIP8aPCKayjsF5JBY3LaKAeRLSyYB1h81oTwe9SlPMkXB7G0mfL9q71gaqqwPqu67QRKS1+ObTx+sbQy9QV2OQHEScGkdFBeT7v7qisqqrs6N52i78/R+6S0qQONVj26agOVoswCyQWIV5D86vH53bxNUeXV0K+XZaHv/nm/KsHhOvylwsWnJX/HE8l/4WCv5x+l5n08z6UU8bUMa3MBpSmM7F63AxntdC9eBCKEZW9Hr+ABNqtxgAQrSbMtmrW7lKQuoSgBhSrTazWVU2QAKWY8wiiuhqFmQgWJBgoXiuWIm42N7hqZbBsgXz52O5P5uSvaNgFGnOuvsRw8I8Laha91wMvDuxqWFheN7/8GVtTltdS83DQsXRmqc5ZtcJXEVrlV2doTWk5+Yunm71dG5f55m/qY0MjI93vv9/NfpxXV9sUXrxy2fbNy1or65cOlDRnOoKFeeXcbw42H/bNDT5Qs3flgs31gWC1lD1nfUV/X7NdCnSUdHY2e8afzfKsqZ5ZljfDqjLOmk3UebNXB+aHArPYDRs+/HDDxeT5DiP+sFg7OpRaVQMGBV89PpeBdj22hCE0Uub0UqwLrNWsG0cuyadgLXTeR5rbO4+3c/vl15cur2nRq+TXCQDcS3SO+s6ak+e5/eMS+1dw3btu3YG2tvFL8XdIZvdjdW6TO/4B7IdrZWVPmctm5/59AgsPItTSbCiIBr2OqIGzmu20SMKAS7yqwGBUfGfgjDYlLLDeF0SfcLB2LSx8flT+08/kzz6yOj96rft4rpTjdPQcmLd47uKibbDq7ZSz/XtbH2nN717Nd62rU+c8Icevvv7I09wA6WvjVcafb+FsbNG+ZQ80Rn6ZZsvrP7teP2dzTdoETvNhjCmsr8FID2sJ69VYvdUcxk4AzYRlKcaE38eXNRlfW9H1as9i6acLHp1XpuNB5K7DIvkX08y1ZYvh3KfWaiCzH+ztrSDmD7LuX73x/mJelB8Yj39t8nhNQJJ2CAthpoFGLsGgtSOCJooCGoaJAMTjSWHVZ08YAa1Fg9lPI5U6DOsGVjDasJeZZ+YyhfCwfOzCxlBA69M9XLXtza7H/rav+9Tjq5xNi0wpKQIRNO4Lrzz7yp5QVYM6Jd/oc1Uvn/mQhhuWh6ENXoS2YTZ8QT42bF5d/559zp5r0Uff2VnR2tdf2/WCOd2cO0Mw6qpWPnvxpV0nrt5fZd2yItc199GWe8vlNfNDq+CH/7yAAnB9hn7T4QO4c1g9ScxsZgmzntnE/IDGndtHMw69lFwoCnYsMGx+rBp8JSBqdLzBr9QRPq/PbhWMWFtQZp1xguy/haw3TEHm3TWAnxFWQQWgt7M5OV0lCz1VRYucpWliy7z6Zd4urwPIyeZQqli2Lgg7szJV09PysATbOQtYIrB2YzbkJYkGgJ0m4AjPUap1pvYu1K9qr97z0Yl3p332b2LYB78ncYIlRkau/8GObSsOlZancACE5d5ily+c2+7h5Yj4lqhVmXXB+iXLfvdqSgqfKtQvfHDV0OnvQR1qhw42XS/vkvsh/hXcrDFP0a+SJNIomEfD1nsrYGO+1bgTOJhM8Hv6ek+7vVglxuSRwoKn17S937bm6YJCeSSG0Op1n+7tE37tcZ/p7dsTv4EUrGpDbWueKigsLHhqTVsoEj+JU0kaSjnj9tz8/gryQWwJ9BcJXBC/7smO+I/IFURJetFPrdt5WcoL6DbEJaygI8CTHfQTjf40ofD+DwalTqIAAHicY2BkYGAA4jC5t2/j+W2+MnCzM4DAtTC+5cg0OyNYnIOBCUQBAAceB90AeJxjYGRgYGcAARD5/z87IwMjAypQBAAtgwI4AHicY2BgYGAfYAwAOkQA4QAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhHicY2BkYGBQZChlYGcAASYg5gJCBob/YD4DABfTAbQAeJxdkE1qg0AYhl8Tk9AIoVDaVSmzahcF87PMARLIMoFAl0ZHY1BHdBJIT9AT9AQ9RQ9Qeqy+yteNMzDzfM+88w0K4BY/cNAMB6N2bUaPPBLukybCLvleeAAPj8JD+hfhMV7hC3u4wxs7OO4NzQSZcI/8Ltwnfwi75E/hAR7wJTyk/xYeY49fYQ/PztM+jbTZ7LY6OWdBJdX/pqs6NYWa+zMxa13oKrA6Uoerqi/JwtpYxZXJ1coUVmeZUWVlTjq0/tHacjmdxuL90OR8O0UEDYMNdtiSEpz5XQGqzlm30kzUdAYFFOb8R7NOZk0q2lwAyz1i7oAr1xoXvrOgtYhZx8wY5KRV269JZ5yGpmzPTjQhvY9je6vEElPOuJP3mWKnP5M3V+YAAAB4nG2PyXLCMBBE3YCNDWEL2ffk7o8S8oCnkCVHC5C/jzBQlUP6IHVPzYyekl5y0iL5X5/ooY8BUmQYIkeBEca4wgRTzDDHAtdY4ga3uMM9HvCIJzzjBa94wzs+8ImvZNAq8TM+HqVkKxWlrQiOxjujQkNlEzyNzl6Z/cU2XF06at7U83VQyklLpEvSnuzsb+HAPnPfQVgaupa1Jlu4sPLsFblcitaz0dHU0ZF1qatjZ1+aTXYCmp6u0gSvWNPyHLtFZ+ZeXWVSaEkqs3T8S74WklbGbNNNq4LL4+CWKtZDv2cfX8l8aFbKFhEnJnJ+IULFpqwoQnNHlHaVQtPBl+ypmbSWdmyC61KS/AKZC3Y+AA==) format("woff"),url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzJRiV3RAAABjAAAAFZjbWFwOfT3xgAAAmgAAAMiZ2x5ZgMJ0sMAAAXQAAARCGhlYWQSy2hLAAAA4AAAADZoaGVhDgMHIQAAALwAAAAkaG10eOAAAAAAAAHkAAAAhGxvY2E9NEHGAAAFjAAAAERtYXhwATIAgQAAARgAAAAgbmFtZdXH9aAAABbYAAACCnBvc3RAAl/0AAAY5AAAAZ4AAQAABwAAAAAABwAAAP//BwEAAQAAAAAAAAAAAAAAAAAAACEAAQAAAAEAAFYfTwlfDzz1AAsHAAAAAADWVg6nAAAAANZWDqcAAAAABwEHAAAAAAgAAgAAAAAAAAABAAAAIQB1AAcAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEGygGQAAUAAARxBOYAAAD6BHEE5gAAA1wAVwHOAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQPEB8SAHAAAAAKEHAAAAAAAAAQAAAAAAAAAAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAAAAAUAAAADAAAALAAAAAQAAAGSAAEAAAAAAIwAAwABAAAALAADAAoAAAGSAAQAYAAAAAQABAABAADxIP//AADxAf//AAAAAQAEAAAAAQACAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAGQAAAAAAAAACAAAPEBAADxAQAAAAEAAPECAADxAgAAAAIAAPEDAADxAwAAAAMAAPEEAADxBAAAAAQAAPEFAADxBQAAAAUAAPEGAADxBgAAAAYAAPEHAADxBwAAAAcAAPEIAADxCAAAAAgAAPEJAADxCQAAAAkAAPEKAADxCgAAAAoAAPELAADxCwAAAAsAAPEMAADxDAAAAAwAAPENAADxDQAAAA0AAPEOAADxDgAAAA4AAPEPAADxDwAAAA8AAPEQAADxEAAAABAAAPERAADxEQAAABEAAPESAADxEgAAABIAAPETAADxEwAAABMAAPEUAADxFAAAABQAAPEVAADxFQAAABUAAPEWAADxFgAAABYAAPEXAADxFwAAABcAAPEYAADxGAAAABgAAPEZAADxGQAAABkAAPEaAADxGgAAABoAAPEbAADxGwAAABsAAPEcAADxHAAAABwAAPEdAADxHQAAAB0AAPEeAADxHgAAAB4AAPEfAADxHwAAAB8AAPEgAADxIAAAACAAAAAAAAAADgBoAH4AzADgAQIBQgFsAZgBwgIYAlgCtALgAzADsAPeBDAElgTcBSQFZgWKBiAGZga0BuoHWAgSCFgIbgiEAAEAAAAABYsFiwACAAABEQECVQM2BYv76gILAAADAAAAAAZrBmsAAgAbADQAAAkCEyIHDgEHBhAXHgEXFiA3PgE3NhAnLgEnJgMiJy4BJyY0Nz4BNzYyFx4BFxYUBw4BBwYC6wHA/kCVmIuGzjk7OznOhosBMIuGzjk7OznOhouYeW9rpi0vLy2ma2/yb2umLS8vLaZrbwIwAVABUAGbOznOhov+0IuGzjk7OznOhosBMIuGzjk7+sAvLaZrb/Jva6YtLy8tpmtv8m9rpi0vAAACAAAAAAVABYsAAwAHAAABIREpAREhEQHAASv+1QJVASsBdQQW++oEFgAAAAQAAAAABiEGIAAHABcAJwAqAAABNCcmJxUXNjcUBxc2NTQnLgEnFR4BFxYBBwEhESEBEQEGBxU2Nxc3AQcXBNA0MlW4A7spcU1FQ+6VbKovMfu0XwFh/p8BKwF1AT5QWZl6mV/9YJycA4BhUlAqpbgYGGNicZKknYyHvSKaIJNlaQIsX/6f/kD+iwH2/sI9G5ojZJhfBJacnAAAAAEAAAAABKsF1gAFAAABESEBEQECCwEqAXb+igRg/kD+iwSq/osAAAACAAAAAAVmBdYACAAOAAABNCcmJxE2NzYBESEBEQEFZTQyVFQyNPwQASsBdf6LA4BhUlAq/aYqUFIBQf5A/osEqv6LAAMAAAAABiAGDwAFAA4AIgAAExEhAREBBTQnJicRNjc2AxUeARcWFAcOAQcVPgE3NhAnLgHgASsBdf6LAsU0MlVVMjS7bKovMTEvqmyV7kNFRUPuBGD+QP6LBKr+i+BhUlAq/aYqUFIC8Jogk2Vp6GllkyCaIr2HjAE6jIe9AAAABAAAAAAFiwWLAAUACwARABcAAAEjESE1IwMzNTM1IQEjFSERIwMVMxUzEQILlgF24JaW4P6KA4DgAXaW4OCWAuv+ipYCCuCW/ICWAXYCoJbgAXYABAAAAAAFiwWLAAUACwARABcAAAEzFTMRIRMjFSERIwEzNTM1IRM1IxEhNQF14Jb+iuDgAXaWAcCW4P6KlpYBdgJV4AF2AcCWAXb76uCWAcDg/oqWAAAAAAIAAAAABdYF1gATABcAAAEhIg4BFREUHgEzITI+ATURNC4BAyERIQVA/IApRCgoRCkDgClEKChEKfyAA4AF1ShEKfyAKUQoKEQpA4ApRCj76wOAAAYAAAAABmsGawAIAA0AFQAeACMALAAACQEmIyIHBgcBJS4BJwEFIQE2NzY1NAUBBgcGFRQXIQUeARcBMwEWMzI3NjcBAr4BZFJQhHt2YwESA44z7Z/+7gLl/dABel0zNfwS/t1dMzUPAjD95DPtnwESeP7dU0+Ee3Zj/u4D8AJoEy0rUf4nd6P6PP4nS/1zZn+Ej0tLAfhmf4SPS0pLo/o8Adn+CBMtK1EB2QAFAAAAAAZrBdYAEwAXABsAHwAjAAABISIOARURFB4BMyEyPgE1ETQuAQEhFSEBITUhBSE1ITUhNSEF1ftWKUUoKEUpBKopRSgoRfstASr+1gLq/RYC6gHA/tYBKv0WAuoF1ShEKfyAKUQoKEQpA4ApRCj9q5X+1ZWVlZaVAAAAAAMAAAAABiAF1gATACsAQwAAASEiDgEVERQeATMhMj4BNRE0LgEBIzUjFTM1MxUUBisBIiY1ETQ2OwEyFhUFIzUjFTM1MxUUBisBIiY1ETQ2OwEyFhUFi/vqKEUoKEUoBBYoRSgoRf2CcJWVcCsf4B8sLB/gHysCC3CVlXAsH+AfKysf4B8sBdUoRCn8gClEKChEKQOAKUQo/fYl4CVKHywsHwEqHywsH0ol4CVKHywsHwEqHywsHwAGAAAAAAYgBPYAAwAHAAsADwATABcAABMzNSMRMzUjETM1IwEhNSERITUhERUhNeCVlZWVlZUBKwQV++sEFfvrBBUDNZb+QJUBwJX+QJb+QJUCVZWVAAAAAQAAAAAGIQZsADEAAAEiBgcBNjQnAR4BMzI+ATQuASIOARUUFwEuASMiDgEUHgEzMjY3AQYVFB4BMj4BNC4BBUAqSx797AcHAg8eTys9Zzw8Z3pnPAf98R5PKz1nPDxnPStPHgIUBjtkdmQ7O2QCTx4cATcbMhsBNB0gPGd6Zzw8Zz0ZG/7NHCA8Z3pnPCAc/soZGDtkOjpkdmQ7AAAAAAIAAAAABlkGawBDAFAAAAE2NCc3PgEnAy4BDwEmLwEuASMhIgYPAQYHJyYGBwMGFh8BBhQXBw4BFxMeAT8BFh8BHgEzITI2PwE2NxcWNjcTNiYnBSIuATQ+ATIeARQOAQWrBQWeCgYHlgcaDLo8QhwDFQ7+1g4VAhxEOroNGgeVBwULnQUFnQsFB5UHGg26O0McAhUOASoOFQIcRDq6DRoHlQcFC/04R3hGRniOeEZGeAM3Kj4qewkbDAEDDAkFSy4bxg4SEg7GHC1LBQkM/v0MGwl7Kj4qewkbDP79DAkFSy4bxg4SEg7GHC1LBQkMAQMMGwlBRniOeEZGeI54RgABAAAAAAZrBmsAGAAAExQXHgEXFiA3PgE3NhAnLgEnJiAHDgEHBpU7Oc6GiwEwi4bOOTs7Oc6Gi/7Qi4bOOTsDgJiLhs45Ozs5zoaLATCLhs45Ozs5zoaLAAAAAAIAAAAABmsGawAYADEAAAEiBw4BBwYQFx4BFxYgNz4BNzYQJy4BJyYDIicuAScmNDc+ATc2MhceARcWFAcOAQcGA4CYi4bOOTs7Oc6GiwEwi4bOOTs7Oc6Gi5h5b2umLS8vLaZrb/Jva6YtLy8tpmtvBms7Oc6Gi/7Qi4bOOTs7Oc6GiwEwi4bOOTv6wC8tpmtv8m9rpi0vLy2ma2/yb2umLS8AAwAAAAAGawZrABgAMQA+AAABIgcOAQcGEBceARcWIDc+ATc2ECcuAScmAyInLgEnJjQ3PgE3NjIXHgEXFhQHDgEHBhMUDgEiLgE0PgEyHgEDgJiKhs85Ozs5z4aKATCKhs85Ozs5z4aKmHlva6YtLy8tpmtv8m9rpi0vLy2ma29nPGd6Zzw8Z3pnPAZrOznPhor+0IqGzzk7OznPhooBMIqGzzk7+sAvLaZrb/Jva6YtLy8tpmtv8m9rpi0vAlU9Zzw8Z3pnPDxnAAAABAAAAAAGIAYhABMAHwApAC0AAAEhIg4BFREUHgEzITI+ATURNC4BASM1IxUjETMVMzU7ASEyFhURFAYjITczNSMFi/vqKEUoKEUoBBYoRSgoRf2CcJVwcJVwlgEqHywsH/7WcJWVBiAoRSj76ihFKChFKAQWKEUo/ICVlQHAu7ssH/7WHyxw4AAAAAACAAAAAAZrBmsAGAAkAAABIgcOAQcGEBceARcWIDc+ATc2ECcuAScmEwcJAScJATcJARcBA4CYi4bOOTs7Oc6GiwEwi4bOOTs7Oc6Gi91p/vT+9GkBC/71aQEMAQxp/vUGazs5zoaL/tCLhs45Ozs5zoaLATCLhs45O/wJaQEL/vVpAQwBDGn+9QELaf70AAABAAAAAAXWBrYAJwAAAREJAREyFxYXFhQHBgcGIicmJyY1IxQXHgEXFjI3PgE3NjQnLgEnJgOA/osBdXpoZjs9PTtmaPRoZjs9lS8tpWtv9G9rpS0vLy2la28FiwEq/ov+iwEqPTtmaPNpZTw9PTxlaXl5b2umLS8vLaZrb/Nva6UuLwABAAAAAAU/BwAAFAAAAREjIgYdASEDIxEhESMRMzU0NjMyBT+dVjwBJSf+/s7//9Ctkwb0/vhISL3+2P0JAvcBKNq6zQAAAAAEAAAAAAaOBwAAMABFAGAAbAAAARQeAxUUBwYEIyImJyY1NDY3NiUuATU0NwYjIiY1NDY3PgEzIQcjHgEVFA4DJzI2NzY1NC4CIyIGBwYVFB4DEzI+AjU0LgEvASYvAiYjIg4DFRQeAgEzFSMVIzUjNTM1MwMfQFtaQDBI/uqfhOU5JVlKgwERIB8VLhaUy0g/TdNwAaKKg0pMMUVGMZImUBo1Ij9qQCpRGS8UKz1ZNjprWzcODxMeChwlThAgNWhvUzZGcX0Da9XVadTUaQPkJEVDUIBOWlN6c1NgPEdRii5SEipAKSQxBMGUUpo2QkBYP4xaSHNHO0A+IRs5ZjqGfVInITtlLmdnUjT8lxo0Xj4ZMCQYIwsXHTgCDiQ4XTtGazsdA2xs29ts2QADAAAAAAaABmwAAwAOACoAAAERIREBFgYrASImNDYyFgERIRE0JiMiBgcGFREhEhAvASEVIz4DMzIWAd3+tgFfAWdUAlJkZ6ZkBI/+t1FWP1UVC/63AgEBAUkCFCpHZz+r0ASP/CED3wEySWJik2Fh/N39yAISaXdFMx4z/dcBjwHwMDCQIDA4H+MAAAEAAAAABpQGAAAxAAABBgcWFRQCDgEEIyAnFjMyNy4BJxYzMjcuAT0BFhcuATU0NxYEFyY1NDYzMhc2NwYHNgaUQ18BTJvW/tKs/vHhIyvhsGmmHyEcKypwk0ROQk4seQFbxgi9hoxgbWAlaV0FaGJFDhyC/v3ut22RBIoCfWEFCxexdQQmAyyOU1hLlbMKJiSGvWYVOXM/CgAAAAEAAAAABYAHAAAiAAABFw4BBwYuAzURIzU+BDc+ATsBESEVIREUHgI3NgUwUBewWWitcE4hqEhyRDAUBQEHBPQBTf6yDSBDME4Bz+0jPgECOFx4eDoCINcaV11vVy0FB/5Y/P36HjQ1HgECAAEAAAAABoAGgABKAAABFAIEIyInNj8BHgEzMj4BNTQuASMiDgMVFBYXFj8BNjc2JyY1NDYzMhYVFAYjIiY3PgI1NCYjIgYVFBcDBhcmAjU0EiQgBBIGgM7+n9FvazsTNhRqPXm+aHfijmm2f1srUE0eCAgGAgYRM9Gpl6mJaz1KDgglFzYyPlYZYxEEzv7OAWEBogFhzgOA0f6fziBdR9MnOYnwlnLIfjpgfYZDaJ4gDCAfGAYXFD1al9mkg6ruVz0jdVkfMkJyVUkx/l5Ga1sBfOnRAWHOzv6fAAAHAAAAAAcBBM8AFwAhADgATwBmAHEAdAAAAREzNhcWFxYXFhcWBw4BBwYHBicmLwEmNxY2NzYuAQcRFAUWNzY/ATY3NjU2JyMGFxYfARYXFhcUFxY3Nj8BNjc2NzYnIwYXFh8BFhcWFRYXFjc2PwE2NzY3NicjBhcWHwEWFxYVFgUzPwEVMxEjBgsBARUnAxwcaC5MND0sTSsvCgdVREdTNWg1KgECq1JrCQcwYkABfhoSCxAKJBQXAX4dAQMCBgMnFxsBJBoSCxAKJBQWAQF+HgEEAgUEJxcbASMZEwsQCiQUFgEBfh4BBAIFBCcXGwH5Q+5B4arNDfHvAhaOAckC/QIBAwwPHzdcZXlZmC8xCAQBAQIDBMIDVkxCZDQF/pUHwgcTCyAUQEdPU8etCAgFCQZHTFxbwLoHEwsgFEBHT1PHrQgIBQkGR0xcW8C6BxMLIBRAR09Tx60ICAUJBkdMXFvAwGQBZQMMFf6D/oYB/fkBAAABAAAAAAYhBrYALAAAASIHDgEHBhURFB4BOwERITU0Nz4BNzYyFx4BFxYdASERMzI+ATURNCcuAScmA4CJfXi6MzU8Zz3g/tUpKJFeYdRhXpEoKf7V4D1nPDUzunh9BrU0M7t4fYn99j1nPAJVlWthXpAoKSkokF5ha5X9qzxnPQIKiX14uzM0AAAAAAIAAAAABUAFQAACAAYAAAkCIREzEQHAAnv9hQLrlQHAAcABwPyAA4AAAAAAAgAAAAAFQAVAAAMABgAAATMRIwkBEQHAlZUBBQJ7BUD8gAHA/kADgAAAAAAAABAAxgABAAAAAAABAAcAAAABAAAAAAACAAcABwABAAAAAAADAAcADgABAAAAAAAEAAcAFQABAAAAAAAFAAsAHAABAAAAAAAGAAcAJwABAAAAAAAKACsALgABAAAAAAALABMAWQADAAEECQABAA4AbAADAAEECQACAA4AegADAAEECQADAA4AiAADAAEECQAEAA4AlgADAAEECQAFABYApAADAAEECQAGAA4AugADAAEECQAKAFYAyAADAAEECQALACYBHlZpZGVvSlNSZWd1bGFyVmlkZW9KU1ZpZGVvSlNWZXJzaW9uIDEuMFZpZGVvSlNHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBWAGkAZABlAG8ASgBTAFIAZQBnAHUAbABhAHIAVgBpAGQAZQBvAEoAUwBWAGkAZABlAG8ASgBTAFYAZQByAHMAaQBvAG4AIAAxAC4AMABWAGkAZABlAG8ASgBTAEcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAAcwB2AGcAMgB0AHQAZgAgAGYAcgBvAG0AIABGAG8AbgB0AGUAbABsAG8AIABwAHIAbwBqAGUAYwB0AC4AaAB0AHQAcAA6AC8ALwBmAG8AbgB0AGUAbABsAG8ALgBjAG8AbQAAAAIAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIQECAQMBBAEFAQYBBwEIAQkBCgELAQwBDQEOAQ8BEAERARIBEwEUARUBFgEXARgBGQEaARsBHAEdAR4BHwEgASEBIgAEcGxheQtwbGF5LWNpcmNsZQVwYXVzZQt2b2x1bWUtbXV0ZQp2b2x1bWUtbG93CnZvbHVtZS1taWQLdm9sdW1lLWhpZ2gQZnVsbHNjcmVlbi1lbnRlcg9mdWxsc2NyZWVuLWV4aXQGc3F1YXJlB3NwaW5uZXIJc3VidGl0bGVzCGNhcHRpb25zCGNoYXB0ZXJzBXNoYXJlA2NvZwZjaXJjbGUOY2lyY2xlLW91dGxpbmUTY2lyY2xlLWlubmVyLWNpcmNsZQJoZAZjYW5jZWwGcmVwbGF5CGZhY2Vib29rBWdwbHVzCGxpbmtlZGluB3R3aXR0ZXIGdHVtYmxyCXBpbnRlcmVzdBFhdWRpby1kZXNjcmlwdGlvbgVhdWRpbwluZXh0LWl0ZW0NcHJldmlvdXMtaXRlbQAAAAA=) format("truetype");font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder,.vjs-icon-play{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.vjs-icon-play:before{content:"\f101"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:"\f102"}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder,.vjs-icon-pause{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before,.vjs-icon-pause:before{content:"\f103"}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder,.vjs-icon-volume-mute{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before,.vjs-icon-volume-mute:before{content:"\f104"}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder,.vjs-icon-volume-low{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before,.vjs-icon-volume-low:before{content:"\f105"}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder,.vjs-icon-volume-mid{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before,.vjs-icon-volume-mid:before{content:"\f106"}.video-js .vjs-mute-control .vjs-icon-placeholder,.vjs-icon-volume-high{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control .vjs-icon-placeholder:before,.vjs-icon-volume-high:before{content:"\f107"}.video-js .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-enter:before{content:"\f108"}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-exit:before{content:"\f109"}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:"\f10a"}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:"\f10b"}.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-subtitles{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-subtitles:before{content:"\f10c"}.video-js .vjs-captions-button .vjs-icon-placeholder,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-captions{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-captions-button .vjs-icon-placeholder:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-captions:before{content:"\f10d"}.video-js .vjs-chapters-button .vjs-icon-placeholder,.vjs-icon-chapters{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-chapters-button .vjs-icon-placeholder:before,.vjs-icon-chapters:before{content:"\f10e"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:"\f10f"}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:"\f110"}.video-js .vjs-play-progress,.video-js .vjs-volume-level,.vjs-icon-circle{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-progress:before,.video-js .vjs-volume-level:before,.vjs-icon-circle:before{content:"\f111"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:"\f112"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:"\f113"}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:"\f114"}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder,.vjs-icon-cancel{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before,.vjs-icon-cancel:before{content:"\f115"}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder,.vjs-icon-replay{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before,.vjs-icon-replay:before{content:"\f116"}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:"\f117"}.vjs-icon-gplus{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-gplus:before{content:"\f118"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:"\f119"}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:"\f11a"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:"\f11b"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:"\f11c"}.video-js .vjs-descriptions-button .vjs-icon-placeholder,.vjs-icon-audio-description{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-descriptions-button .vjs-icon-placeholder:before,.vjs-icon-audio-description:before{content:"\f11d"}.video-js .vjs-audio-button .vjs-icon-placeholder,.vjs-icon-audio{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-audio-button .vjs-icon-placeholder:before,.vjs-icon-audio:before{content:"\f11e"}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:"\f11f"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:"\f120"}.video-js{display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:initial}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex="-1"]{outline:0}.video-js *,.video-js :after,.video-js :before{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-fluid{width:100%;max-width:100%;height:0}.video-js.vjs-16-9{padding-top:56.25%}.video-js.vjs-4-3{padding-top:75%}.video-js.vjs-fill{width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}body.vjs-full-window{padding:0;margin:0;height:100%;overflow-y:auto}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen{width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1;visibility:visible}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.5em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);-webkit-border-radius:.3em;-moz-border-radius:.3em;border-radius:.3em;-webkit-transition:all .4s;-moz-transition:all .4s;-ms-transition:all .4s;-o-transition:all .4s;transition:all .4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.75em;margin-left:-1.5em}.video-js .vjs-big-play-button:focus,.video-js:hover .vjs-big-play-button{border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);-webkit-transition:all 0s;-moz-transition:all 0s;-ms-transition:all 0s;-o-transition:all 0s;transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-error .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:0 0;border:none;color:inherit;display:inline-block;overflow:visible;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:-webkit-linear-gradient(-90deg,rgba(0,0,0,.8),rgba(255,255,255,0));background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0));overflow:auto;box-sizing:content-box}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto;box-sizing:content-box}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115,133,159,.5)}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em 0;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,.vjs-workinghover .vjs-menu-button-popup:hover .vjs-menu{display:block}.video-js .vjs-menu-button-inline{-webkit-transition:all .4s;-moz-transition:all .4s;-ms-transition:all .4s;-o-transition:all .4s;transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline:hover,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;-webkit-transition:all .4s;-moz-transition:all .4s;-ms-transition:all .4s;-o-transition:all .4s;transition:all .4s}.vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline:hover .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;visibility:visible;opacity:1;-webkit-transition:visibility .1s,opacity .1s;-moz-transition:visibility .1s,opacity .1s;-ms-transition:visibility .1s,opacity .1s;-o-transition:visibility .1s,opacity .1s;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;-webkit-transition:visibility 1s,opacity 1s;-moz-transition:visibility 1s,opacity 1s;-ms-transition:visibility 1s,opacity 1s;-o-transition:visibility 1s,opacity 1s;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-error .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.video-js .vjs-control:focus,.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before{text-shadow:0 0 1em #fff}.video-js .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;min-width:4em}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-progress-holder{-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;-webkit-transition:all .2s;-moz-transition:all .2s;-ms-transition:all .2s;-o-transition:all .2s;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.666666666666666666em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div,.video-js .vjs-progress-holder .vjs-play-progress{position:absolute;display:block;height:100%;margin:0;padding:0;width:0;left:0;top:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;top:-.333333333333333em;z-index:1}.video-js .vjs-load-progress{background:#bfc7d3;background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:#fff;background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);-webkit-border-radius:.3em;-moz-border-radius:.3em;border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px 8px;pointer-events:none;position:relative;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;-webkit-transition:visibility 1s,opacity 1s;-moz-transition:visibility 1s,opacity 1s;-ms-transition:visibility 1s,opacity 1s;-o-transition:visibility 1s,opacity 1s;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em 0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0 0 1em #fff;-webkit-box-shadow:0 0 1em #fff;-moz-box-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none;padding-left:2em;padding-right:2em;padding-bottom:3em}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{-webkit-transition:width 1s;-moz-transition:width 1s;-ms-transition:width 1s;-o-transition:width 1s;transition:width 1s}.video-js .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel .vjs-volume-control:hover,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control,.video-js .vjs-volume-panel:hover .vjs-volume-control{visibility:visible;opacity:1;position:relative;-webkit-transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s;-moz-transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s;-ms-transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s;-o-transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:hover.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:hover .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:hover{width:9em;-webkit-transition:width .1s;-moz-transition:width .1s;-ms-transition:width .1s;-o-transition:width .1s;transition:width .1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3.5em;-webkit-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s;-moz-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s;-ms-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s;-o-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{-webkit-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s;-moz-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s;-ms-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s;-o-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none;transition:none}.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:.5em}.video-js .vjs-volume-panel{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-poster img{display:block;vertical-align:middle;margin:0 auto;max-height:100%;padding:0;width:100%}.vjs-has-started .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster{display:block}.vjs-using-native-controls .vjs-poster{display:none}.video-js .vjs-live-control{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:flex-start;-webkit-align-items:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js .vjs-time-control{-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vjs-live .vjs-time-control{display:none}.video-js .vjs-current-time,.vjs-no-flex .vjs-current-time{display:none}.vjs-no-flex .vjs-remaining-time.vjs-time-control.vjs-control{width:0!important;white-space:nowrap}.video-js .vjs-duration,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.video-js .vjs-play-control .vjs-icon-placeholder{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em;background-color:#000;background-color:rgba(0,0,0,.5)}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{-moz-transform:translateY(-3em);-ms-transform:translateY(-3em);-o-transform:translateY(-3em);-webkit-transform:translateY(-3em);transform:translateY(-3em)}.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{-moz-transform:translateY(-1.5em);-ms-transform:translateY(-1.5em);-o-transform:translateY(-1.5em);-webkit-transform:translateY(-1.5em);transform:translateY(-1.5em)}.video-js .vjs-fullscreen-control{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-playback-rate .vjs-playback-rate-value,.vjs-playback-rate>.vjs-menu-button{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:'X';font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;animation:0s linear .3s forwards vjs-spinner-show}.vjs-loading-spinner:after,.vjs-loading-spinner:before{content:"";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@-webkit-keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{100%{transform:rotate(360deg)}}@-webkit-keyframes vjs-spinner-spin{100%{-webkit-transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}100%{border-top-color:#73859f}}@-webkit-keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}100%{border-top-color:#73859f}}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{position:absolute}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"\f10d";font-size:1.5em;line-height:inherit}.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-custom-control-spacer{-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto}.video-js.vjs-layout-tiny:not(.vjs-fullscreen).vjs-no-flex .vjs-custom-control-spacer{width:auto}.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-audio-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-progress-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-subtitles-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-volume-control{display:none}.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-audio-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-subtitles-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-volume-control{display:none}.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-subtitles-button .vjs-audio-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-volume-control{display:none}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-controls,.vjs-text-track-settings .vjs-track-settings-font{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display:grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr auto}.vjs-text-track-settings .vjs-track-settings-colors{display:block;grid-column:1;grid-row:1}.vjs-text-track-settings .vjs-track-settings-font{grid-column:2;grid-row:1}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:2;grid-row:2}}.vjs-track-setting>select{margin-right:5px}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px 0}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);display:block;margin:0 0 5px 0;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:active,.vjs-track-settings-controls button:focus{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f 100%)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f 100%);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.video-js>:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;visibility:hidden}
        </style>
        <style class="bc-style-P5PBiNMA1-default">
          .bc-player-P5PBiNMA1_default *,.bc-player-P5PBiNMA1_default :after,.bc-player-P5PBiNMA1_default :before{box-sizing:inherit;font-size:inherit;color:inherit;line-height:inherit}.bc-player-P5PBiNMA1_default{width:300px;height:150px;font-size:14px;overflow:hidden}.bc-iframe,.bc-iframe body,.bc-player-P5PBiNMA1_default,.bc-player-P5PBiNMA1_default .vjs-poster{background-color:#151B17}.bc-iframe,.bc-iframe .bc-player-P5PBiNMA1_default,.bc-iframe body{margin:0;width:100%;height:100%;overflow:hidden}.bc-player-P5PBiNMA1_default.vjs-fullscreen,.bc-player-P5PBiNMA1_default.vjs-fullscreen .vjs-tech{width:100%!important;height:100%!important}.bc-player-P5PBiNMA1_default .vjs-track-setting select{color:#000;background-color:#fff}.bc-player-P5PBiNMA1_default .vjs-chapters-button .vjs-menu-item{text-transform:initial}.vjs-error-display{color:#fff;display:none;font-family:Helvetica,Arial,sans serif;font-size:16px;line-height:1.428}.vjs-error .vjs-error-display{display:block;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5)}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:14px}.vjs-errors-dialog{text-align:left;border:1px #999 solid;overflow:hidden;position:absolute;top:2%;bottom:2%;left:5%;right:5%;padding-left:1%;padding-right:1%;background:rgba(24,24,24,.8);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#CC000000, endColorstr=#CC000000)"}.vjs-errors-details{margin-top:15px}.vjs-errors-message{border:1px #999 solid;background-color:#2c2c2c;overflow:auto;margin-top:15px;padding:15px}.vjs-errors-ok-button-container{display:block;position:absolute;bottom:15px;left:15px;right:15px;text-align:center}.vjs-errors-ok-button{display:block;margin:0 auto;width:80px;height:36px;background-color:#000;border:1px #999 solid;border-radius:5px;color:#999;font-size:14px;cursor:pointer}.vjs-errors-ok-button:hover{border:1px #FFF solid;color:#CCC}.vjs-errors-content-container{overflow:auto;position:absolute;padding-bottom:15px;top:0;left:15px;right:15px;bottom:61px}.vjs-errors-headline{font-size:14px;font-weight:700;padding-right:3em}.vjs-errors-dialog .vjs-control.vjs-close-button{width:3em;height:3em;top:0}.vjs-errors-flashmessage{float:right;font-size:9px;font-style:italic}.vjs-xs.vjs-error-display{font-size:14px;background-color:#000}.vjs-xs.vjs-error-display .vjs-errors-details,.vjs-xs.vjs-error-display .vjs-errors-message{display:none}.vjs-xs .vjs-errors-content-container{top:0}.vjs-xs .vjs-errors-headline{font-size:16px;font-weight:700}.vjs-xs .vjs-errors-dialog{border:none;top:0;bottom:0;left:0;right:0}.vjs-xs.vjs-errors-flashmessage{display:none}@media (max-width:600px),(max-height:250px){.vjs-error-display{font-size:14px;background-color:#000}.vjs-error-display .vjs-errors-details,.vjs-error-display .vjs-errors-message{display:none}.vjs-error-display .vjs-errors-content-container{top:15px}.vjs-error-display .vjs-errors-headline{font-size:16px;font-weight:700}.vjs-error-display .vjs-errors-dialog{border:none;top:0;bottom:0;left:0;right:0}.vjs-errors-flashmessage{display:none}}.vjs-errors-ref-id{color:rgba(255,255,255,.5);font-size:.75em;margin:.5em 0 0}.bc-player-P5PBiNMA1_default .vjs-control-bar{background-color:rgba(0,0,0,.45);color:#fff}.bc-player-P5PBiNMA1_default .vjs-control{color:inherit}.bc-player-P5PBiNMA1_default .vjs-mouse-display:after,.bc-player-P5PBiNMA1_default .vjs-play-progress:after{border-radius:0}.bc-player-P5PBiNMA1_default .vjs-menu-button-inline:hover,.bc-player-P5PBiNMA1_default.vjs-no-flex .vjs-menu-button-inline{width:8.35em}.bc-player-P5PBiNMA1_default.vjs-ios[muted] .vjs-volume-panel{width:4em}.bc-player-P5PBiNMA1_default.vjs-ios[muted] .vjs-volume-panel .vjs-volume-control{display:none}.bc-player-P5PBiNMA1_default .vjs-control:focus:before,.bc-player-P5PBiNMA1_default .vjs-control:hover:before{text-shadow:0 0 1em #fff,0 0 1em #fff,0 0 1em #fff}.bc-player-P5PBiNMA1_default .vjs-spacer{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-box-flex:1 1 auto;-moz-box-flex:1 1 auto;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto}.bc-player-P5PBiNMA1_default .vjs-time-control{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-box-flex:0 1 auto;-moz-box-flex:0 1 auto;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;width:auto}.bc-player-P5PBiNMA1_default .vjs-time-control.vjs-time-divider{width:14px}.bc-player-P5PBiNMA1_default .vjs-time-control.vjs-time-divider div{width:100%;text-align:center}.bc-player-P5PBiNMA1_default .vjs-time-control.vjs-current-time{margin-left:1em}.bc-player-P5PBiNMA1_default .vjs-time-control .vjs-current-time-display,.bc-player-P5PBiNMA1_default .vjs-time-control .vjs-duration-display{width:100%}.bc-player-P5PBiNMA1_default .vjs-time-control .vjs-current-time-display{text-align:right}.bc-player-P5PBiNMA1_default .vjs-time-control .vjs-duration-display{text-align:left}.bc-player-P5PBiNMA1_default .vjs-remaining-time{display:none}.bc-player-P5PBiNMA1_default.vjs-no-flex .vjs-time-control.vjs-remaining-time{display:none}.bc-player-P5PBiNMA1_default.vjs-no-flex .vjs-time-control{display:table-cell;width:4em}.bc-player-P5PBiNMA1_default .vjs-play-progress,.bc-player-P5PBiNMA1_default .vjs-volume-level{background-color:#d52484}.bc-player-P5PBiNMA1_default .vjs-play-progress:before,.bc-player-P5PBiNMA1_default .vjs-volume-level:before{display:none}.bc-player-P5PBiNMA1_default .vjs-volume-level:after{display:none}.bc-player-P5PBiNMA1_default .vjs-progress-control{position:absolute;left:0;right:0;width:100%;height:1.5em;top:-1.5em}.bc-player-P5PBiNMA1_default .vjs-progress-control .vjs-load-progress,.bc-player-P5PBiNMA1_default .vjs-progress-control .vjs-play-progress,.bc-player-P5PBiNMA1_default .vjs-progress-control .vjs-progress-holder{height:100%}.bc-player-P5PBiNMA1_default .vjs-progress-control .vjs-progress-holder{margin:0}.bc-player-P5PBiNMA1_default .vjs-progress-control:hover{height:1.5em;top:-1.5em}.bc-player-P5PBiNMA1_default .vjs-control-bar{-webkit-transition:-webkit-transform .1s ease 0s;-moz-transition:-moz-transform .1s ease 0s;-ms-transition:-ms-transform .1s ease 0s;-o-transition:-o-transform .1s ease 0s;transition:transform .1s ease 0s}.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-paused.vjs-user-active .vjs-control-bar,.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-paused.vjs-user-inactive .vjs-control-bar,.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-playing.vjs-user-active .vjs-control-bar,.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-playing.vjs-user-inactive .vjs-control-bar,.bc-player-P5PBiNMA1_default.vjs-has-started.vjs-paused.vjs-ad-playing.vjs-user-inactive .vjs-control-bar,.bc-player-P5PBiNMA1_default.vjs-has-started.vjs-playing.vjs-user-inactive .vjs-control-bar{visibility:visible;opacity:1;-webkit-backface-visibility:hidden;-webkit-transform:translateY(3em);-moz-transform:translateY(3em);-ms-transform:translateY(3em);-o-transform:translateY(3em);transform:translateY(3em);-webkit-transition:-webkit-transform 1s ease 0s;-moz-transition:-moz-transform 1s ease 0s;-ms-transition:-ms-transform 1s ease 0s;-o-transition:-o-transform 1s ease 0s;transition:transform 1s ease 0s}.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-paused.vjs-user-active .vjs-progress-control,.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-paused.vjs-user-inactive .vjs-progress-control,.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-playing.vjs-user-active .vjs-progress-control,.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-playing.vjs-user-inactive .vjs-progress-control,.bc-player-P5PBiNMA1_default.vjs-has-started.vjs-paused.vjs-ad-playing.vjs-user-inactive .vjs-progress-control,.bc-player-P5PBiNMA1_default.vjs-has-started.vjs-playing.vjs-user-inactive .vjs-progress-control{height:.3em;top:-.3em;pointer-events:none;-webkit-transition:height 1s,top 1s;-moz-transition:height 1s,top 1s;-ms-transition:height 1s,top 1s;-o-transition:height 1s,top 1s;transition:height 1s,top 1s}.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-paused.vjs-user-active.vjs-fullscreen .vjs-progress-control,.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-paused.vjs-user-inactive.vjs-fullscreen .vjs-progress-control,.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-playing.vjs-user-active.vjs-fullscreen .vjs-progress-control,.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-playing.vjs-user-inactive.vjs-fullscreen .vjs-progress-control,.bc-player-P5PBiNMA1_default.vjs-has-started.vjs-playing.vjs-user-inactive.vjs-fullscreen .vjs-progress-control{opacity:0;-webkit-transition:opacity 1s;-moz-transition:opacity 1s;-ms-transition:opacity 1s;-o-transition:opacity 1s;transition:opacity 1s}.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-paused.vjs-user-active .vjs-volume-vertical,.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-paused.vjs-user-inactive .vjs-volume-vertical,.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-playing.vjs-user-active .vjs-volume-vertical,.bc-player-P5PBiNMA1_default.not-hover.vjs-has-started.vjs-playing.vjs-user-inactive .vjs-volume-vertical,.bc-player-P5PBiNMA1_default.vjs-has-started.vjs-paused.vjs-ad-playing.vjs-user-inactive .vjs-volume-vertical,.bc-player-P5PBiNMA1_default.vjs-has-started.vjs-playing.vjs-user-inactive .vjs-volume-vertical{opacity:0;-webkit-transition:opacity 1s;-moz-transition:opacity 1s;-ms-transition:opacity 1s;-o-transition:opacity 1s;transition:opacity 1s}.bc-player-P5PBiNMA1_default.vjs-live .vjs-live-control{margin-left:1em}.bc-player-P5PBiNMA1_default.vjs-live .vjs-time-control.vjs-current-time,.bc-player-P5PBiNMA1_default.vjs-live .vjs-time-control.vjs-duration,.bc-player-P5PBiNMA1_default.vjs-live .vjs-time-control.vjs-time-divider{display:none}.bc-player-P5PBiNMA1_default .vjs-big-play-button{top:50%;left:50%;margin-left:-1em;margin-top:-1em;width:2em;height:2em;line-height:2em;border:none;border-radius:50%;font-size:3.5em;background-color:rgba(0,0,0,.45);color:#fff;-webkit-transition:border-color .4s,outline .4s,background-color .4s;-moz-transition:border-color .4s,outline .4s,background-color .4s;-ms-transition:border-color .4s,outline .4s,background-color .4s;-o-transition:border-color .4s,outline .4s,background-color .4s;transition:border-color .4s,outline .4s,background-color .4s}.bc-player-P5PBiNMA1_default .vjs-big-play-button:active,.bc-player-P5PBiNMA1_default .vjs-big-play-button:focus,.bc-player-P5PBiNMA1_default:active .vjs-big-play-button,.bc-player-P5PBiNMA1_default:hover .vjs-big-play-button{background-color:#d52484}.bc-player-P5PBiNMA1_default .vjs-menu-button-popup .vjs-menu{left:-3em}.bc-player-P5PBiNMA1_default .vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:transparent;width:12em;left:-1.5em;padding-bottom:.5em}.bc-player-P5PBiNMA1_default .vjs-menu-button-popup .vjs-menu .vjs-menu-item,.bc-player-P5PBiNMA1_default .vjs-menu-button-popup .vjs-menu .vjs-menu-title{background-color:#151B17;margin:.3em 0;padding:.5em;border-radius:.3em}.bc-player-P5PBiNMA1_default .vjs-menu-button-popup .vjs-menu .vjs-menu-item.vjs-selected{background-color:#d52484}.bc-player-P5PBiNMA1_default .vjs-menu-button-popup .vjs-menu .vjs-menu-item:active,.bc-player-P5PBiNMA1_default .vjs-menu-button-popup .vjs-menu .vjs-menu-item:focus,.bc-player-P5PBiNMA1_default .vjs-menu-button-popup .vjs-menu .vjs-menu-item:hover{text-shadow:0 0 1em #fff,0 0 1em #fff,0 0 1em #fff;color:#fff}.bc-player-P5PBiNMA1_default.vjs-ad-playing .vjs-mouse-display,.bc-player-P5PBiNMA1_default.vjs-ad-playing .vjs-mouse-display:after{display:none}.bc-player-P5PBiNMA1_default.vjs-ad-playing.vjs-ad-playing .vjs-progress-control:after{pointer-events:auto;width:100%;height:100%;position:absolute;left:0;bottom:0;content:" ";user-select:none;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none}.bc-player-P5PBiNMA1_default.vjs-no-flex .vjs-spacer{display:table-cell}.bc-player-P5PBiNMA1_default.vjs-no-flex .vjs-time-control{display:table-cell;width:4em}.bc-player-P5PBiNMA1_default.vjs-no-flex .vjs-remaining-time{display:none}.vjs-mouse.bc-player-P5PBiNMA1_default .vjs-control-bar{font-size:10px}.vjs-mouse.bc-player-P5PBiNMA1_default .vjs-progress-control{height:.5em;top:-.5em}.vjs-mouse.bc-player-P5PBiNMA1_default .vjs-progress-control:hover{height:1.5em;top:-1.5em}.bc-player-P5PBiNMA1_default select{width:inherit}.bc-player-P5PBiNMA1_default .vjs-big-play-button,.bc-player-P5PBiNMA1_default .vjs-control-bar{background-color:rgba(0,0,0,.45)}.bc-player-P5PBiNMA1_default .vjs-big-play-button,.bc-player-P5PBiNMA1_default .vjs-control-bar{color:#fff}.bc-iframe .vjs-playlist-sidebar .vjs-playlist-show-hide button:hover,.bc-player-P5PBiNMA1_default .vjs-big-play-button:active,.bc-player-P5PBiNMA1_default .vjs-big-play-button:focus,.bc-player-P5PBiNMA1_default .vjs-menu-button-popup .vjs-menu .vjs-menu-item.vjs-selected,.bc-player-P5PBiNMA1_default .vjs-play-progress,.bc-player-P5PBiNMA1_default .vjs-volume-level,.bc-player-P5PBiNMA1_default:active .vjs-big-play-button,.bc-player-P5PBiNMA1_default:hover .vjs-big-play-button{background-color:#043de2}.vjs-silverlight-hide-controls .vjs-big-play-button,.vjs-silverlight-hide-controls .vjs-control-bar,.vjs-silverlight-hide-controls .vjs-dock-shelf,.vjs-silverlight-hide-controls .vjs-dock-text,.vjs-silverlight-hide-controls .vjs-poster{display:none!important}.vjs-ad-playing.vjs-ad-playing .vjs-progress-control{pointer-events:none}.vjs-ad-playing.vjs-ad-playing .vjs-play-progress{background-color:#ffe400}.vjs-ad-playing.vjs-ad-loading .vjs-loading-spinner{display:block}.vjs-ad-playing .vjs-captions-button{display:none}.vjs-ad-playing .vjs-audio-button{display:none}.vjs-ad-loading .vjs-loading-spinner:after,.vjs-ad-loading .vjs-loading-spinner:before{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-ad-loading .vjs-loading-spinner:before{border-top-color:#fff}.vjs-ad-loading .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}.vjs-ima3-ad-container{bottom:0;left:0;position:absolute;right:0;top:0}.vjs-ima3-html5 .vjs-ima3-ad-container>*,.vjs-ima3-html5 .vjs-ima3-ad-container>* iframe{width:100%!important;height:100%!important}.vjs-ima3-ad-container,.vjs-ima3-click-tracker{pointer-events:none;left:-9999px}.vjs-ima3-flash-ad-container{left:0}.vjs-ima3-ad-background{width:100%;height:100%;background-color:transparent;position:absolute;top:0;left:0}.vjs-ad-playing .vjs-ima3-ad-background{background-color:#000}.ima3-ad-loading.ima3-loading-spinner .vjs-loading-spinner{display:block}.vjs-ima3-flash.vjs-ad-playing .vjs-tech{opacity:0}.vjs-ad-playing .vjs-ima3-ad-container,.vjs-ad-playing .vjs-ima3-click-tracker,.vjs-ima3-overlay .vjs-ima3-ad-container,.vjs-ima3-overlay .vjs-ima3-click-tracker{left:0}.vjs-ima3-flash.vjs-ad-playing .vjs-ima3-ad-container,.vjs-ima3-flash.vjs-ima3-overlay .vjs-ima3-ad-container{cursor:pointer;pointer-events:auto}.vjs-mouse.vjs-ima3-html5.vjs-ad-playing .vjs-ima3-ad-container,.vjs-mouse.vjs-ima3-html5.vjs-ad-playing .vjs-ima3-click-tracker,.vjs-mouse.vjs-ima3-html5.vjs-ima3-overlay .vjs-ima3-ad-container,.vjs-mouse.vjs-ima3-html5.vjs-ima3-overlay .vjs-ima3-click-tracker{cursor:pointer;pointer-events:auto}.vjs-user-active.vjs-ad-playing.vjs-ima3-html5 .vjs-ima3-ad-container,.vjs-user-active.vjs-ad-playing.vjs-ima3-html5 .vjs-ima3-click-tracker,.vjs-user-active.vjs-ima3-overlay.vjs-ima3-html5 .vjs-ima3-ad-container,.vjs-user-active.vjs-ima3-overlay.vjs-ima3-html5 .vjs-ima3-click-tracker{cursor:pointer;pointer-events:auto}.vjs-ima3-html5.vjs-using-native-controls.vjs-ima3-paused.vjs-ima3-paused .vjs-ima3-ad-container,.vjs-ima3-html5.vjs-using-native-controls.vjs-ima3-paused.vjs-ima3-paused .vjs-ima3-click-tracker{pointer-events:none}.vjs-ima3-click-tracker{bottom:0;left:0;margin:0;position:absolute;right:0;top:0}.vjs-ima3-overlay .vjs-ima3-click-tracker{top:auto;margin:0 auto}.vjs-control-bar.vjs-control-bar.vjs-ad-control-bar.vjs-ad-control-bar{display:none}.vjs-ad-controls.vjs-ad-playing .vjs-control-bar.vjs-control-bar{display:none}.vjs-ad-controls.vjs-ad-playing.vjs-controls-disabled .vjs-ad-control-bar.vjs-ad-control-bar,.vjs-ad-controls.vjs-ad-playing.vjs-using-native-controls .vjs-ad-control-bar.vjs-ad-control-bar{display:none}.vjs-ad-playing .vjs-dock-shelf,.vjs-ad-playing .vjs-dock-text{display:none}.vjs-ad-controls.vjs-ad-playing.vjs-vpaid-playing.vjs-vpaid-controls-disabled .vjs-control-bar.vjs-ad-control-bar{display:none}.vjs-ad-controls.vjs-ad-playing .vjs-control-bar.vjs-ad-control-bar{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.vjs-ad-controls.vjs-ad-playing.vjs-no-flex .vjs-control-bar.vjs-ad-control-bar{display:table}.vjs-mouse .vjs-control-bar.vjs-ad-control-bar .vjs-progress-control:hover{height:.5em;top:-.5em}.vjs-mouse .vjs-control-bar.vjs-ad-control-bar .vjs-progress-control:hover .vjs-mouse-display,.vjs-mouse .vjs-control-bar.vjs-ad-control-bar .vjs-progress-control:hover .vjs-mouse-display:after,.vjs-mouse .vjs-progress-control:hover .vjs-play-progress:after{display:none}.vjs-ima3-flash.vjs-ad-loading .vjs-tech,.vjs-ima3-html5.vjs-ad-loading .vjs-tech{opacity:0}.vjs-ima3-autoplay.vjs-ima3-not-playing-yet .vjs-poster,.vjs-ima3-autoplay.vjs-ima3-not-playing-yet .vjs-tech{opacity:0}.vjs-ima3-html5.vjs-ad-playing .vjs-ad-control-bar .vjs-play-progress{transition:width 1s linear}.vjs-ima3-flash.vjs-ad-playing .vjs-ad-control-bar .vjs-play-progress{transition:width .25s linear}.vjs-ima3-html5.vjs-ad-playing .vjs-ad-control-bar .vjs-play-progress.vjs-play-progress-resetting{transition:width 0s linear}.vjs-ima3-flash.vjs-ad-playing .vjs-ad-control-bar .vjs-play-progress.vjs-play-progress-resetting{transition:width 0s linear}.vjs-ima3-right-click.vjs-ima3-flash .vjs-ima3-ad-container{pointer-events:auto}.bc-player-BJucbFHeg_default{width:100%;padding-top:56.25%;margin-bottom:16px}
        </style>

  </head>
  <body><video-js
        data-account="4761797480001"
        data-player="P5PBiNMA1"
        data-embed="default"
        data-application-id=""
        class="video-js vjs-default-skin"
        >
    </video-js>
    <script>(function(p){p.mark&&p.mark('bcParseStart')})(window.performance||{})</script>
    <script>(function(e,t){var r=undefined;var n=e.define;var i=t.querySelector(".bc-iframe");var a=-1;var o=function(){var e;if(i){return""}if(typeof n==="function"&&n.amd){return require.toUrl("bc")}else if(t.currentScript){return t.currentScript.src}e=t.getElementsByTagName("script");return e.length&&e[e.length-1].src||""}();var s=o&&o.split("/").slice(0,-1).join("/")||".";var u="4761797480001";var l;var c="default";var f="P5PBiNMA1";var d=function(e,t,r){var n=(e.cssRules||[]).length;try{e.insertRule(t+" { "+r+" } ",n)}catch(e){}};var p=function(){var t=e.navigator.userAgent.match(/applewebkit\/(\d*).*Version\/(\d*.\d*)/i);return v.browser.IS_ANDROID&&v.browser.ANDROID_VERSION<5&&t&&t[2]>0};var h=e.videojs;e.VIDEOJS_NO_DYNAMIC_STYLE=true;(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof r==="function"&&r.amd?r(t):e.videojs=t()})(this,function(){var r="6.8.0";var n=typeof e!=="undefined"?e:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function i(e,t){return t={exports:{}},e(t,t.exports),t.exports}var a;if(typeof e!=="undefined"){a=e}else if(typeof n!=="undefined"){a=n}else if(typeof self!=="undefined"){a=self}else{a={}}var o=a;var s={};var u=(Object.freeze||Object)({default:s});var l=u&&s||u;var c=typeof n!=="undefined"?n:typeof e!=="undefined"?e:{};var f;if(typeof t!=="undefined"){f=t}else{f=c["__GLOBAL_DOCUMENT_CACHE@4"];if(!f){f=c["__GLOBAL_DOCUMENT_CACHE@4"]=l}}var d=f;var p=o.navigator&&o.navigator.userAgent||"";var h=/AppleWebKit\/([\d.]+)/i.exec(p);var v=h?parseFloat(h.pop()):null;var y=/iPad/i.test(p);var m=/iPhone/i.test(p)&&!y;var g=/iPod/i.test(p);var _=m||y||g;var b=function(){var e=p.match(/OS (\d+)_/i);if(e&&e[1]){return e[1]}return null}();var T=/Android/i.test(p);var S=function(){var e=p.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e){return null}var t=e[1]&&parseFloat(e[1]);var r=e[2]&&parseFloat(e[2]);if(t&&r){return parseFloat(e[1]+"."+e[2])}else if(t){return t}return null}();var w=T&&/webkit/i.test(p)&&S<2.3;var E=T&&S<5&&v<537;var k=/Firefox/i.test(p);var P=/Edge/i.test(p);var O=!P&&/Chrome/i.test(p);var C=function(){var e=p.match(/Chrome\/(\d+)/);if(e&&e[1]){return parseFloat(e[1])}return null}();var A=/MSIE\s8\.0/.test(p);var x=function(){var e=/MSIE\s(\d+)\.\d/.exec(p);var t=e&&parseFloat(e[1]);if(!t&&/Trident\/7.0/i.test(p)&&/rv:11.0/.test(p)){t=11}return t}();var I=/Safari/i.test(p)&&!O&&!T&&!P;var L=I||_;var D=oe()&&("ontouchstart"in o||o.DocumentTouch&&o.document instanceof o.DocumentTouch);var R=oe()&&"backgroundSize"in o.document.createElement("video").style;var j=(Object.freeze||Object)({IS_IPAD:y,IS_IPHONE:m,IS_IPOD:g,IS_IOS:_,IOS_VERSION:b,IS_ANDROID:T,ANDROID_VERSION:S,IS_OLD_ANDROID:w,IS_NATIVE_ANDROID:E,IS_FIREFOX:k,IS_EDGE:P,IS_CHROME:O,CHROME_VERSION:C,IS_IE8:A,IE_VERSION:x,IS_SAFARI:I,IS_ANY_SAFARI:L,TOUCH_ENABLED:D,BACKGROUND_SIZE_SUPPORTED:R});var M=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var N=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var U=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t};var B=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e};var F=function(e,t){e.raw=t;return e};var q=Object.prototype.toString;var H=function e(t){return z(t)?Object.keys(t):[]};function V(e,t){H(e).forEach(function(r){return t(e[r],r)})}function W(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return H(e).reduce(function(r,n){return t(r,e[n],n)},r)}function G(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}if(Object.assign){return Object.assign.apply(Object,[e].concat(r))}r.forEach(function(t){if(!t){return}V(t,function(t,r){e[r]=t})});return e}function z(e){return!!e&&(typeof e==="undefined"?"undefined":M(e))==="object"}function X(e){return z(e)&&q.call(e)==="[object Object]"&&e.constructor===Object}var Y=void 0;var K="info";var $=[];var J=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!!x&&x<11;var i=Y.levels[K];var a=new RegExp("^("+i+")$");if(t!=="log"){r.unshift(t.toUpperCase()+":")}if($){$.push([].concat(r))}r.unshift("VIDEOJS:");if(!o.console){return}var s=o.console[t];if(!s&&t==="debug"){s=o.console.info||o.console.log}if(!s||!i||!a.test(t)){return}if(n){r=r.map(function(e){if(z(e)||Array.isArray(e)){try{return JSON.stringify(e)}catch(t){return String(e)}}return String(e)}).join(" ")}if(!s.apply){s(r)}else{s[Array.isArray(r)?"apply":"call"](o.console,r)}};Y=function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}J("log",r)};Y.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:K};Y.level=function(e){if(typeof e==="string"){if(!Y.levels.hasOwnProperty(e)){throw new Error('"'+e+'" in not a valid log level')}K=e}return K};Y.history=function(){return $?[].concat($):[]};Y.history.clear=function(){if($){$.length=0}};Y.history.disable=function(){if($!==null){$.length=0;$=null}};Y.history.enable=function(){if($===null){$=[]}};Y.error=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}return J("error",t)};Y.warn=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}return J("warn",t)};Y.debug=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}return J("debug",t)};var Q=Y;function Z(e){return e.replace(/\n\r?\s*/g,"")}var ee=function e(t){var r="",n=0;for(;n<arguments.length;n++)r+=Z(t[n])+(arguments[n+1]||"");return r};function te(e,t){if(!e||!t){return""}if(typeof o.getComputedStyle==="function"){var r=o.getComputedStyle(e);return r?r[t]:""}return e.currentStyle[t]||""}var re=F(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function ne(e){return typeof e==="string"&&/\S/.test(e)}function ie(e){if(/\s/.test(e)){throw new Error("class has illegal whitespace characters")}}function ae(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function oe(){return d===o.document&&typeof d.createElement!=="undefined"}function se(e){return z(e)&&e.nodeType===1}function ue(){try{return o.parent!==o.self}catch(e){return true}}function le(e){return function(t,r){if(!ne(t)){return d[e](null)}if(ne(r)){r=d.querySelector(r)}var n=se(r)?r:d;return n[e]&&n[e](t)}}function ce(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div";var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var n=arguments[3];var i=d.createElement(e);Object.getOwnPropertyNames(t).forEach(function(e){var r=t[e];if(e.indexOf("aria-")!==-1||e==="role"||e==="type"){Q.warn(ee(re,e,r));i.setAttribute(e,r)}else if(e==="textContent"){fe(i,r)}else{i[e]=r}});Object.getOwnPropertyNames(r).forEach(function(e){i.setAttribute(e,r[e])});if(n){xe(i,n)}return i}function fe(e,t){if(typeof e.textContent==="undefined"){e.innerText=t}else{e.textContent=t}return e}function de(e,t){if(t.firstChild){t.insertBefore(e,t.firstChild)}else{t.appendChild(e)}}function pe(e,t){ie(t);if(e.classList){return e.classList.contains(t)}return ae(t).test(e.className)}function he(e,t){if(e.classList){e.classList.add(t)}else if(!pe(e,t)){e.className=(e.className+" "+t).trim()}return e}function ve(e,t){if(e.classList){e.classList.remove(t)}else{ie(t);e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")}return e}function ye(e,t,r){var n=pe(e,t);if(typeof r==="function"){r=r(e,t)}if(typeof r!=="boolean"){r=!n}if(r===n){return}if(r){he(e,t)}else{ve(e,t)}return e}function me(e,t){Object.getOwnPropertyNames(t).forEach(function(r){var n=t[r];if(n===null||typeof n==="undefined"||n===false){e.removeAttribute(r)}else{e.setAttribute(r,n===true?"":n)}})}function ge(e){var t={};var r=","+"autoplay,controls,playsinline,loop,muted,default,defaultMuted"+",";if(e&&e.attributes&&e.attributes.length>0){var n=e.attributes;for(var i=n.length-1;i>=0;i--){var a=n[i].name;var o=n[i].value;if(typeof e[a]==="boolean"||r.indexOf(","+a+",")!==-1){o=o!==null?true:false}t[a]=o}}return t}function _e(e,t){return e.getAttribute(t)}function be(e,t,r){e.setAttribute(t,r)}function Te(e,t){e.removeAttribute(t)}function Se(){d.body.focus();d.onselectstart=function(){return false}}function we(){d.onselectstart=function(){return true}}function Ee(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect();var r={};["bottom","height","left","right","top","width"].forEach(function(e){if(t[e]!==undefined){r[e]=t[e]}});if(!r.height){r.height=parseFloat(te(e,"height"))}if(!r.width){r.width=parseFloat(te(e,"width"))}return r}}function ke(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode){t=e.getBoundingClientRect()}if(!t){return{left:0,top:0}}var r=d.documentElement;var n=d.body;var i=r.clientLeft||n.clientLeft||0;var a=o.pageXOffset||n.scrollLeft;var s=t.left+a-i;var u=r.clientTop||n.clientTop||0;var l=o.pageYOffset||n.scrollTop;var c=t.top+l-u;return{left:Math.round(s),top:Math.round(c)}}function Pe(e,t){var r={};var n=ke(e);var i=e.offsetWidth;var a=e.offsetHeight;var o=n.top;var s=n.left;var u=t.pageY;var l=t.pageX;if(t.changedTouches){l=t.changedTouches[0].pageX;u=t.changedTouches[0].pageY}r.y=Math.max(0,Math.min(1,(o-u+a)/a));r.x=Math.max(0,Math.min(1,(l-s)/i));return r}function Oe(e){return z(e)&&e.nodeType===3}function Ce(e){while(e.firstChild){e.removeChild(e.firstChild)}return e}function Ae(e){if(typeof e==="function"){e=e()}return(Array.isArray(e)?e:[e]).map(function(e){if(typeof e==="function"){e=e()}if(se(e)||Oe(e)){return e}if(typeof e==="string"&&/\S/.test(e)){return d.createTextNode(e)}}).filter(function(e){return e})}function xe(e,t){Ae(t).forEach(function(t){return e.appendChild(t)});return e}function Ie(e,t){return xe(Ce(e),t)}function Le(e){if(e.button===undefined&&e.buttons===undefined){return true}if(e.button===0&&e.buttons===undefined){return true}if(x===9){return true}if(e.button!==0||e.buttons!==1){return false}return true}var De=le("querySelector");var Re=le("querySelectorAll");var je=(Object.freeze||Object)({isReal:oe,isEl:se,isInFrame:ue,createEl:ce,textContent:fe,prependTo:de,hasClass:pe,addClass:he,removeClass:ve,toggleClass:ye,setAttributes:me,getAttributes:ge,getAttribute:_e,setAttribute:be,removeAttribute:Te,blockTextSelection:Se,unblockTextSelection:we,getBoundingClientRect:Ee,findPosition:ke,getPointerPosition:Pe,isTextNode:Oe,emptyEl:Ce,normalizeContent:Ae,appendContent:xe,insertContent:Ie,isSingleLeftClick:Le,$:De,$$:Re});var Me=1;function Ne(){return Me++}var Ue={};var Be="vdata"+(new Date).getTime();function Fe(e){var t=e[Be];if(!t){t=e[Be]=Ne()}if(!Ue[t]){Ue[t]={}}return Ue[t]}function qe(e){var t=e[Be];if(!t){return false}return!!Object.getOwnPropertyNames(Ue[t]).length}function He(e){var t=e[Be];if(!t){return}delete Ue[t];try{delete e[Be]}catch(t){if(e.removeAttribute){e.removeAttribute(Be)}else{e[Be]=null}}}function Ve(e,t){var r=Fe(e);if(r.handlers[t].length===0){delete r.handlers[t];if(e.removeEventListener){e.removeEventListener(t,r.dispatcher,false)}else if(e.detachEvent){e.detachEvent("on"+t,r.dispatcher)}}if(Object.getOwnPropertyNames(r.handlers).length<=0){delete r.handlers;delete r.dispatcher;delete r.disabled}if(Object.getOwnPropertyNames(r).length===0){He(e)}}function We(e,t,r,n){r.forEach(function(r){e(t,r,n)})}function Ge(e){function t(){return true}function r(){return false}if(!e||!e.isPropagationStopped){var n=e||o.event;e={};for(var i in n){if(i!=="layerX"&&i!=="layerY"&&i!=="keyLocation"&&i!=="webkitMovementX"&&i!=="webkitMovementY"){if(!(i==="returnValue"&&n.preventDefault)){e[i]=n[i]}}}if(!e.target){e.target=e.srcElement||d}if(!e.relatedTarget){e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement}e.preventDefault=function(){if(n.preventDefault){n.preventDefault()}e.returnValue=false;n.returnValue=false;e.defaultPrevented=true};e.defaultPrevented=false;e.stopPropagation=function(){if(n.stopPropagation){n.stopPropagation()}e.cancelBubble=true;n.cancelBubble=true;e.isPropagationStopped=t};e.isPropagationStopped=r;e.stopImmediatePropagation=function(){if(n.stopImmediatePropagation){n.stopImmediatePropagation()}e.isImmediatePropagationStopped=t;e.stopPropagation()};e.isImmediatePropagationStopped=r;if(e.clientX!==null&&e.clientX!==undefined){var a=d.documentElement;var s=d.body;e.pageX=e.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0);e.pageY=e.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode;if(e.button!==null&&e.button!==undefined){e.button=e.button&1?0:e.button&4?1:e.button&2?2:0}}return e}var ze=false;(function(){try{var e=Object.defineProperty({},"passive",{get:function e(){ze=true}});o.addEventListener("test",null,e);o.removeEventListener("test",null,e)}catch(e){}})();var Xe=["touchstart","touchmove"];function Ye(e,t,r){if(Array.isArray(t)){return We(Ye,e,t,r)}var n=Fe(e);if(!n.handlers){n.handlers={}}if(!n.handlers[t]){n.handlers[t]=[]}if(!r.guid){r.guid=Ne()}n.handlers[t].push(r);if(!n.dispatcher){n.disabled=false;n.dispatcher=function(t,r){if(n.disabled){return}t=Ge(t);var i=n.handlers[t.type];if(i){var a=i.slice(0);for(var o=0,s=a.length;o<s;o++){if(t.isImmediatePropagationStopped()){break}else{try{a[o].call(e,t,r)}catch(e){Q.error(e)}}}}}}if(n.handlers[t].length===1){if(e.addEventListener){var i=false;if(ze&&Xe.indexOf(t)>-1){i={passive:true}}e.addEventListener(t,n.dispatcher,i)}else if(e.attachEvent){e.attachEvent("on"+t,n.dispatcher)}}}function Ke(e,t,r){if(!qe(e)){return}var n=Fe(e);if(!n.handlers){return}if(Array.isArray(t)){return We(Ke,e,t,r)}var i=function e(t,r){n.handlers[r]=[];Ve(t,r)};if(t===undefined){for(var a in n.handlers){if(Object.prototype.hasOwnProperty.call(n.handlers||{},a)){i(e,a)}}return}var o=n.handlers[t];if(!o){return}if(!r){i(e,t);return}if(r.guid){for(var s=0;s<o.length;s++){if(o[s].guid===r.guid){o.splice(s--,1)}}}Ve(e,t)}function $e(e,t,r){var n=qe(e)?Fe(e):{};var i=e.parentNode||e.ownerDocument;if(typeof t==="string"){t={type:t,target:e}}else if(!t.target){t.target=e}t=Ge(t);if(n.dispatcher){n.dispatcher.call(e,t,r)}if(i&&!t.isPropagationStopped()&&t.bubbles===true){$e.call(null,i,t,r)}else if(!i&&!t.defaultPrevented){var a=Fe(t.target);if(t.target[t.type]){a.disabled=true;if(typeof t.target[t.type]==="function"){t.target[t.type]()}a.disabled=false}}return!t.defaultPrevented}function Je(e,t,r){if(Array.isArray(t)){return We(Je,e,t,r)}var n=function n(){Ke(e,t,n);r.apply(this,arguments)};n.guid=r.guid=r.guid||Ne();Ye(e,t,n)}var Qe=(Object.freeze||Object)({fixEvent:Ge,on:Ye,off:Ke,trigger:$e,one:Je});var Ze=false;var et=void 0;var tt=function e(){if(!oe()){return}var t=d.getElementsByTagName("video");var r=d.getElementsByTagName("audio");var n=d.getElementsByTagName("video-js");var i=[];if(t&&t.length>0){for(var a=0,o=t.length;a<o;a++){i.push(t[a])}}if(r&&r.length>0){for(var s=0,u=r.length;s<u;s++){i.push(r[s])}}if(n&&n.length>0){for(var l=0,c=n.length;l<c;l++){i.push(n[l])}}if(i&&i.length>0){for(var f=0,p=i.length;f<p;f++){var h=i[f];if(h&&h.getAttribute){if(h.player===undefined){var v=h.getAttribute("data-setup");if(v!==null){et(h)}}}else{rt(1);break}}}else if(!Ze){rt(1)}};function rt(e,t){if(t){et=t}o.setTimeout(tt,e)}if(oe()&&d.readyState==="complete"){Ze=true}else{Je(o,"load",function(){Ze=true})}var nt=function e(t){var r=d.createElement("style");r.className=t;return r};var it=function e(t,r){if(t.styleSheet){t.styleSheet.cssText=r}else{t.textContent=r}};var at=function e(t,r,n){if(!r.guid){r.guid=Ne()}var i=function e(){return r.apply(t,arguments)};i.guid=n?n+"_"+r.guid:r.guid;return i};var ot=function e(t,r){var n=Date.now();var i=function e(){var i=Date.now();if(i-n>=r){t.apply(undefined,arguments);n=i}};return i};var st=function e(t,r,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:o;var a=void 0;return function(){var e=this;var o=arguments;var s=function r(){a=null;s=null;if(!n){t.apply(e,o)}};if(!a&&n){t.apply(e,o)}i.clearTimeout(a);a=i.setTimeout(s,r)}};var ut=function e(){};ut.prototype.allowedEvents_={};ut.prototype.on=function(e,t){var r=this.addEventListener;this.addEventListener=function(){};Ye(this,e,t);this.addEventListener=r};ut.prototype.addEventListener=ut.prototype.on;ut.prototype.off=function(e,t){Ke(this,e,t)};ut.prototype.removeEventListener=ut.prototype.off;ut.prototype.one=function(e,t){var r=this.addEventListener;this.addEventListener=function(){};Je(this,e,t);this.addEventListener=r};ut.prototype.trigger=function(e){var t=e.type||e;if(typeof e==="string"){e={type:t}}e=Ge(e);if(this.allowedEvents_[t]&&this["on"+t]){this["on"+t](e)}$e(this,e)};ut.prototype.dispatchEvent=ut.prototype.trigger;var lt=function e(t){return t instanceof ut||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return typeof t[e]==="function"})};var ct=function e(t){return typeof t==="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length};var ft=function e(t){if(!t.nodeName&&!lt(t)){throw new Error("Invalid target; must be a DOM node or evented object.")}};var dt=function e(t){if(!ct(t)){throw new Error("Invalid event type; must be a non-empty string or array.")}};var pt=function e(t){if(typeof t!=="function"){throw new Error("Invalid listener; must be a function.")}};var ht=function e(t,r){var n=r.length<3||r[0]===t||r[0]===t.eventBusEl_;var i=void 0;var a=void 0;var o=void 0;if(n){i=t.eventBusEl_;if(r.length>=3){r.shift()}a=r[0];o=r[1]}else{i=r[0];a=r[1];o=r[2]}ft(i);dt(a);pt(o);o=at(t,o);return{isTargetingSelf:n,target:i,type:a,listener:o}};var vt=function e(t,r,n,i){ft(t);if(t.nodeName){Qe[r](t,n,i)}else{t[r](n,i)}};var yt={on:function e(){var t=this;for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var a=ht(this,n),o=a.isTargetingSelf,s=a.target,u=a.type,l=a.listener;vt(s,"on",u,l);if(!o){var c=function e(){return t.off(s,u,l)};c.guid=l.guid;var f=function e(){return t.off("dispose",c)};f.guid=l.guid;vt(this,"on","dispose",c);vt(s,"on","dispose",f)}},one:function e(){var t=this;for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var a=ht(this,n),o=a.isTargetingSelf,s=a.target,u=a.type,l=a.listener;if(o){vt(s,"one",u,l)}else{var c=function e(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}t.off(s,u,e);l.apply(null,n)};c.guid=l.guid;vt(s,"one",u,c)}},off:function e(t,r,n){if(!t||ct(t)){Ke(this.eventBusEl_,t,r)}else{var i=t;var a=r;ft(i);dt(a);pt(n);n=at(this,n);this.off("dispose",n);if(i.nodeName){Ke(i,a,n);Ke(i,"dispose",n)}else if(lt(i)){i.off(a,n);i.off("dispose",n)}}},trigger:function e(t,r){return $e(this.eventBusEl_,t,r)}};function mt(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=t.eventBusKey;if(r){if(!e[r].nodeName){throw new Error('The eventBusKey "'+r+'" does not refer to an element.')}e.eventBusEl_=e[r]}else{e.eventBusEl_=ce("span",{className:"vjs-event-bus"})}G(e,yt);e.on("dispose",function(){e.off();o.setTimeout(function(){e.eventBusEl_=null},0)});return e}var gt={state:{},setState:function e(t){var r=this;if(typeof t==="function"){t=t()}var n=void 0;V(t,function(e,t){if(r.state[t]!==e){n=n||{};n[t]={from:r.state[t],to:e}}r.state[t]=e});if(n&&lt(this)){this.trigger({changes:n,type:"statechanged"})}return n}};function _t(e,t){G(e,gt);e.state=G({},e.state,t);if(typeof e.handleStateChanged==="function"&&lt(e)){e.on("statechanged",e.handleStateChanged)}return e}function bt(e){if(typeof e!=="string"){return e}return e.charAt(0).toUpperCase()+e.slice(1)}function Tt(e,t){return bt(e)===bt(t)}function St(){var e={};for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}r.forEach(function(t){if(!t){return}V(t,function(t,r){if(!X(t)){e[r]=t;return}if(!X(e[r])){e[r]={}}e[r]=St(e[r],t)})});return e}var wt=function(){function e(t,r,n){N(this,e);if(!t&&this.play){this.player_=t=this}else{this.player_=t}this.options_=St({},this.options_);r=this.options_=St(this.options_,r);this.id_=r.id||r.el&&r.el.id;if(!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+Ne()}this.name_=r.name||null;if(r.el){this.el_=r.el}else if(r.createEl!==false){this.el_=this.createEl()}if(r.evented!==false){mt(this,{eventBusKey:this.el_?"el_":null})}_t(this,this.constructor.defaultState);this.children_=[];this.childIndex_={};this.childNameIndex_={};if(r.initChildren!==false){this.initChildren()}this.ready(n);if(r.reportTouchActivity!==false){this.enableTouchActivity()}}e.prototype.dispose=function e(){this.trigger({type:"dispose",bubbles:false});if(this.children_){for(var t=this.children_.length-1;t>=0;t--){if(this.children_[t].dispose){this.children_[t].dispose()}}}this.children_=null;this.childIndex_=null;this.childNameIndex_=null;if(this.el_){if(this.el_.parentNode){this.el_.parentNode.removeChild(this.el_)}He(this.el_);this.el_=null}this.player_=null};e.prototype.player=function e(){return this.player_};e.prototype.options=function e(t){Q.warn("this.options() has been deprecated and will be moved to the constructor in 6.0");if(!t){return this.options_}this.options_=St(this.options_,t);return this.options_};e.prototype.el=function e(){return this.el_};e.prototype.createEl=function e(t,r,n){return ce(t,r,n)};e.prototype.localize=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t;var i=this.player_.language&&this.player_.language();var a=this.player_.languages&&this.player_.languages();var o=a&&a[i];var s=i&&i.split("-")[0];var u=a&&a[s];var l=n;if(o&&o[t]){l=o[t]}else if(u&&u[t]){l=u[t]}if(r){l=l.replace(/\{(\d+)\}/g,function(e,t){var n=r[t-1];var i=n;if(typeof n==="undefined"){i=e}return i})}return l};e.prototype.contentEl=function e(){return this.contentEl_||this.el_};e.prototype.id=function e(){return this.id_};e.prototype.name=function e(){return this.name_};e.prototype.children=function e(){return this.children_};e.prototype.getChildById=function e(t){return this.childIndex_[t]};e.prototype.getChild=function e(t){if(!t){return}t=bt(t);return this.childNameIndex_[t]};e.prototype.addChild=function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.children_.length;var a=void 0;var o=void 0;if(typeof r==="string"){o=bt(r);var s=n.componentClass||o;n.name=o;var u=e.getComponent(s);if(!u){throw new Error("Component "+s+" does not exist")}if(typeof u!=="function"){return null}a=new u(this.player_||this,n)}else{a=r}this.children_.splice(i,0,a);if(typeof a.id==="function"){this.childIndex_[a.id()]=a}o=o||a.name&&bt(a.name());if(o){this.childNameIndex_[o]=a}if(typeof a.el==="function"&&a.el()){var l=this.contentEl().children;var c=l[i]||null;this.contentEl().insertBefore(a.el(),c)}return a};e.prototype.removeChild=function e(t){if(typeof t==="string"){t=this.getChild(t)}if(!t||!this.children_){return}var r=false;for(var n=this.children_.length-1;n>=0;n--){if(this.children_[n]===t){r=true;this.children_.splice(n,1);break}}if(!r){return}this.childIndex_[t.id()]=null;this.childNameIndex_[t.name()]=null;var i=t.el();if(i&&i.parentNode===this.contentEl()){this.contentEl().removeChild(t.el())}};e.prototype.initChildren=function t(){var r=this;var n=this.options_.children;if(n){var i=this.options_;var a=function e(t){var n=t.name;var a=t.opts;if(i[n]!==undefined){a=i[n]}if(a===false){return}if(a===true){a={}}a.playerOptions=r.options_.playerOptions;var o=r.addChild(n,a);if(o){r[n]=o}};var o=void 0;var s=e.getComponent("Tech");if(Array.isArray(n)){o=n}else{o=Object.keys(n)}o.concat(Object.keys(this.options_).filter(function(e){return!o.some(function(t){if(typeof t==="string"){return e===t}return e===t.name})})).map(function(e){var t=void 0;var i=void 0;if(typeof e==="string"){t=e;i=n[t]||r.options_[t]||{}}else{t=e.name;i=e}return{name:t,opts:i}}).filter(function(t){var r=e.getComponent(t.opts.componentClass||bt(t.name));return r&&!s.isTech(r)}).forEach(a)}};e.prototype.buildCSSClass=function e(){return""};e.prototype.ready=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!t){return}if(!this.isReady_){this.readyQueue_=this.readyQueue_||[];this.readyQueue_.push(t);return}if(r){t.call(this)}else{this.setTimeout(t,1)}};e.prototype.triggerReady=function e(){this.isReady_=true;this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[];if(e&&e.length>0){e.forEach(function(e){e.call(this)},this)}this.trigger("ready")},1)};e.prototype.$=function e(t,r){return De(t,r||this.contentEl())};e.prototype.$$=function e(t,r){return Re(t,r||this.contentEl())};e.prototype.hasClass=function e(t){return pe(this.el_,t)};e.prototype.addClass=function e(t){he(this.el_,t)};e.prototype.removeClass=function e(t){ve(this.el_,t)};e.prototype.toggleClass=function e(t,r){ye(this.el_,t,r)};e.prototype.show=function e(){this.removeClass("vjs-hidden")};e.prototype.hide=function e(){this.addClass("vjs-hidden")};e.prototype.lockShowing=function e(){this.addClass("vjs-lock-showing")};e.prototype.unlockShowing=function e(){this.removeClass("vjs-lock-showing")};e.prototype.getAttribute=function e(t){return _e(this.el_,t)};e.prototype.setAttribute=function e(t,r){be(this.el_,t,r)};e.prototype.removeAttribute=function e(t){Te(this.el_,t)};e.prototype.width=function e(t,r){return this.dimension("width",t,r)};e.prototype.height=function e(t,r){return this.dimension("height",t,r)};e.prototype.dimensions=function e(t,r){this.width(t,true);this.height(r)};e.prototype.dimension=function e(t,r,n){if(r!==undefined){if(r===null||r!==r){r=0}if((""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1){this.el_.style[t]=r}else if(r==="auto"){this.el_.style[t]=""}else{this.el_.style[t]=r+"px"}if(!n){this.trigger("componentresize")}return}if(!this.el_){return 0}var i=this.el_.style[t];var a=i.indexOf("px");if(a!==-1){return parseInt(i.slice(0,a),10)}return parseInt(this.el_["offset"+bt(t)],10)};e.prototype.currentDimension=function e(t){var r=0;if(t!=="width"&&t!=="height"){throw new Error("currentDimension only accepts width or height value")}if(typeof o.getComputedStyle==="function"){var n=o.getComputedStyle(this.el_);r=n.getPropertyValue(t)||n[t]}r=parseFloat(r);if(r===0){var i="offset"+bt(t);r=this.el_[i]}return r};e.prototype.currentDimensions=function e(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}};e.prototype.currentWidth=function e(){return this.currentDimension("width")};e.prototype.currentHeight=function e(){return this.currentDimension("height")};e.prototype.focus=function e(){this.el_.focus()};e.prototype.blur=function e(){this.el_.blur()};e.prototype.emitTapEvents=function e(){var t=0;var r=null;var n=10;var i=200;var a=void 0;this.on("touchstart",function(e){if(e.touches.length===1){r={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY};t=(new Date).getTime();a=true}});this.on("touchmove",function(e){if(e.touches.length>1){a=false}else if(r){var t=e.touches[0].pageX-r.pageX;var i=e.touches[0].pageY-r.pageY;var o=Math.sqrt(t*t+i*i);if(o>n){a=false}}});var o=function e(){a=false};this.on("touchleave",o);this.on("touchcancel",o);this.on("touchend",function(e){r=null;if(a===true){var n=(new Date).getTime()-t;if(n<i){e.preventDefault();this.trigger("tap")}}})};e.prototype.enableTouchActivity=function e(){if(!this.player()||!this.player().reportUserActivity){return}var t=at(this.player(),this.player().reportUserActivity);var r=void 0;this.on("touchstart",function(){t();this.clearInterval(r);r=this.setInterval(t,250)});var n=function e(n){t();this.clearInterval(r)};this.on("touchmove",t);this.on("touchend",n);this.on("touchcancel",n)};e.prototype.setTimeout=function e(t,r){var n=this;t=at(this,t);var i=o.setTimeout(t,r);var a=function e(){return n.clearTimeout(i)};a.guid="vjs-timeout-"+i;this.on("dispose",a);return i};e.prototype.clearTimeout=function e(t){o.clearTimeout(t);var r=function e(){};r.guid="vjs-timeout-"+t;this.off("dispose",r);return t};e.prototype.setInterval=function e(t,r){var n=this;t=at(this,t);var i=o.setInterval(t,r);var a=function e(){return n.clearInterval(i)};a.guid="vjs-interval-"+i;this.on("dispose",a);return i};e.prototype.clearInterval=function e(t){o.clearInterval(t);var r=function e(){};r.guid="vjs-interval-"+t;this.off("dispose",r);return t};e.prototype.requestAnimationFrame=function e(t){var r=this;if(this.supportsRaf_){t=at(this,t);var n=o.requestAnimationFrame(t);var i=function e(){return r.cancelAnimationFrame(n)};i.guid="vjs-raf-"+n;this.on("dispose",i);return n}return this.setTimeout(t,1e3/60)};e.prototype.cancelAnimationFrame=function e(t){if(this.supportsRaf_){o.cancelAnimationFrame(t);var r=function e(){};r.guid="vjs-raf-"+t;this.off("dispose",r);return t}return this.clearTimeout(t)};e.registerComponent=function t(r,n){if(typeof r!=="string"||!r){throw new Error('Illegal component name, "'+r+'"; must be a non-empty string.')}var i=e.getComponent("Tech");var a=i&&i.isTech(n);var o=e===n||e.prototype.isPrototypeOf(n.prototype);if(a||!o){var s=void 0;if(a){s="techs must be registered using Tech.registerTech()"}else{s="must be a Component subclass"}throw new Error('Illegal component, "'+r+'"; '+s+".")}r=bt(r);if(!e.components_){e.components_={}}var u=e.getComponent("Player");if(r==="Player"&&u&&u.players){var l=u.players;var c=Object.keys(l);if(l&&c.length>0&&c.map(function(e){return l[e]}).every(Boolean)){throw new Error("Can not register Player component after player has been created.")}}e.components_[r]=n;return n};e.getComponent=function t(r){if(!r){return}r=bt(r);if(e.components_&&e.components_[r]){return e.components_[r]}};return e}();wt.prototype.supportsRaf_=typeof o.requestAnimationFrame==="function"&&typeof o.cancelAnimationFrame==="function";wt.registerComponent("Component",wt);function Et(e,t,r){if(typeof t!=="number"||t<0||t>r){throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+r+").")}}function kt(e,t,r,n){Et(e,n,r.length-1);return r[n][t]}function Pt(e){if(e===undefined||e.length===0){return{length:0,start:function e(){throw new Error("This TimeRanges object is empty")},end:function e(){throw new Error("This TimeRanges object is empty")}}}return{length:e.length,start:kt.bind(null,"start",0,e),end:kt.bind(null,"end",1,e)}}function Ot(e,t){if(Array.isArray(e)){return Pt(e)}else if(e===undefined||t===undefined){return Pt()}return Pt([[e,t]])}function Ct(e,t){var r=0;var n=void 0;var i=void 0;if(!t){return 0}if(!e||!e.length){e=Ot(0,0)}for(var a=0;a<e.length;a++){n=e.start(a);i=e.end(a);if(i>t){i=t}r+=i-n}return r/t}var At={};var xt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var It=xt[0];var Lt=void 0;for(var Dt=0;Dt<xt.length;Dt++){if(xt[Dt][1]in d){Lt=xt[Dt];break}}if(Lt){for(var Rt=0;Rt<Lt.length;Rt++){At[It[Rt]]=Lt[Rt]}}function jt(e){if(e instanceof jt){return e}if(typeof e==="number"){this.code=e}else if(typeof e==="string"){this.message=e}else if(z(e)){if(typeof e.code==="number"){this.code=e.code}G(this,e)}if(!this.message){this.message=jt.defaultMessages[this.code]||""}}jt.prototype.code=0;jt.prototype.message="";jt.prototype.status=null;jt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];jt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Mt=0;Mt<jt.errorTypes.length;Mt++){jt[jt.errorTypes[Mt]]=Mt;jt.prototype[jt.errorTypes[Mt]]=Mt}var Nt=Ut;function Ut(e,t){var r;var n=null;try{r=JSON.parse(e,t)}catch(e){n=e}return[n,r]}function Bt(e){return e!==undefined&&e!==null&&typeof e.then==="function"}function Ft(e){if(Bt(e)){e.then(null,function(e){})}}var qt=function e(t){var r=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,r,n){if(t[r]){e[r]=t[r]}return e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return r};var Ht=function e(t){var r=t.$$("track");var n=Array.prototype.map.call(r,function(e){return e.track});var i=Array.prototype.map.call(r,function(e){var t=qt(e.track);if(e.src){t.src=e.src}return t});return i.concat(Array.prototype.filter.call(t.textTracks(),function(e){return n.indexOf(e)===-1}).map(qt))};var Vt=function e(t,r){t.forEach(function(e){var t=r.addRemoteTextTrack(e).track;if(!e.src&&e.cues){e.cues.forEach(function(e){return t.addCue(e)})}});return r.textTracks()};var Wt={textTracksToJson:Ht,jsonToTextTracks:Vt,trackToJson_:qt};var Gt="vjs-modal-dialog";var zt=27;var Xt=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=false;i.closeable(!i.options_.uncloseable);i.content(i.options_.content);i.contentEl_=ce("div",{className:Gt+"-content"},{role:"document"});i.descEl_=ce("p",{className:Gt+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")});fe(i.descEl_,i.description());i.el_.appendChild(i.descEl_);i.el_.appendChild(i.contentEl_);return i}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})};t.prototype.dispose=function t(){this.contentEl_=null;this.descEl_=null;this.previouslyActiveEl_=null;e.prototype.dispose.call(this)};t.prototype.buildCSSClass=function t(){return Gt+" vjs-hidden "+e.prototype.buildCSSClass.call(this)};t.prototype.handleKeyPress=function e(t){if(t.which===zt&&this.closeable()){this.close()}};t.prototype.label=function e(){return this.localize(this.options_.label||"Modal Window")};t.prototype.description=function e(){var t=this.options_.description||this.localize("This is a modal window.");if(this.closeable()){t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")}return t};t.prototype.open=function e(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen");this.opened_=true;if(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_){this.fill()}this.wasPlaying_=!t.paused();if(this.options_.pauseOnOpen&&this.wasPlaying_){t.pause()}if(this.closeable()){this.on(this.el_.ownerDocument,"keydown",at(this,this.handleKeyPress))}this.hadControls_=t.controls();t.controls(false);this.show();this.conditionalFocus_();this.el().setAttribute("aria-hidden","false");this.trigger("modalopen");this.hasBeenOpened_=true}};t.prototype.opened=function e(t){if(typeof t==="boolean"){this[t?"open":"close"]()}return this.opened_};t.prototype.close=function e(){if(!this.opened_){return}var t=this.player();this.trigger("beforemodalclose");this.opened_=false;if(this.wasPlaying_&&this.options_.pauseOnOpen){t.play()}if(this.closeable()){this.off(this.el_.ownerDocument,"keydown",at(this,this.handleKeyPress))}if(this.hadControls_){t.controls(true)}this.hide();this.el().setAttribute("aria-hidden","true");this.trigger("modalclose");this.conditionalBlur_();if(this.options_.temporary){this.dispose()}};t.prototype.closeable=function e(t){if(typeof t==="boolean"){var e=this.closeable_=!!t;var r=this.getChild("closeButton");if(e&&!r){var n=this.contentEl_;this.contentEl_=this.el_;r=this.addChild("closeButton",{controlText:"Close Modal Dialog"});this.contentEl_=n;this.on(r,"close",this.close)}if(!e&&r){this.off(r,"close",this.close);this.removeChild(r);r.dispose()}}return this.closeable_};t.prototype.fill=function e(){this.fillWith(this.content())};t.prototype.fillWith=function e(t){var r=this.contentEl();var n=r.parentNode;var i=r.nextSibling;this.trigger("beforemodalfill");this.hasBeenFilled_=true;n.removeChild(r);this.empty();Ie(r,t);this.trigger("modalfill");if(i){n.insertBefore(r,i)}else{n.appendChild(r)}var a=this.getChild("closeButton");if(a){n.appendChild(a.el_)}};t.prototype.empty=function e(){this.trigger("beforemodalempty");Ce(this.contentEl());this.trigger("modalempty")};t.prototype.content=function e(t){if(typeof t!=="undefined"){this.content_=t}return this.content_};t.prototype.conditionalFocus_=function e(){var t=d.activeElement;var r=this.player_.el_;this.previouslyActiveEl_=null;if(r.contains(t)||r===t){this.previouslyActiveEl_=t;this.focus();this.on(d,"keydown",this.handleKeyDown)}};t.prototype.conditionalBlur_=function e(){if(this.previouslyActiveEl_){this.previouslyActiveEl_.focus();this.previouslyActiveEl_=null}this.off(d,"keydown",this.handleKeyDown)};t.prototype.handleKeyDown=function e(t){if(t.which!==9){return}var r=this.focusableEls_();var n=this.el_.querySelector(":focus");var i=void 0;for(var a=0;a<r.length;a++){if(n===r[a]){i=a;break}}if(d.activeElement===this.el_){i=0}if(t.shiftKey&&i===0){r[r.length-1].focus();t.preventDefault()}else if(!t.shiftKey&&i===r.length-1){r[0].focus();t.preventDefault()}};t.prototype.focusableEls_=function e(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(e){return(e instanceof o.HTMLAnchorElement||e instanceof o.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof o.HTMLInputElement||e instanceof o.HTMLSelectElement||e instanceof o.HTMLTextAreaElement||e instanceof o.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof o.HTMLIFrameElement||e instanceof o.HTMLObjectElement||e instanceof o.HTMLEmbedElement||e.hasAttribute("tabindex")&&e.getAttribute("tabindex")!==-1||e.hasAttribute("contenteditable")})};return t}(wt);Xt.prototype.options_={pauseOnOpen:true,temporary:true};wt.registerComponent("ModalDialog",Xt);var Yt=function(e){U(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;N(this,t);var a=B(this,e.call(this));if(!i){i=a;if(A){i=d.createElement("custom");for(var o in t.prototype){if(o!=="constructor"){i[o]=t.prototype[o]}}}}i.tracks_=[];Object.defineProperty(i,"length",{get:function e(){return this.tracks_.length}});for(var s=0;s<r.length;s++){i.addTrack(r[s])}return n=i,B(a,n)}t.prototype.addTrack=function e(t){var r=this.tracks_.length;if(!(""+r in this)){Object.defineProperty(this,r,{get:function e(){return this.tracks_[r]}})}if(this.tracks_.indexOf(t)===-1){this.tracks_.push(t);this.trigger({track:t,type:"addtrack"})}};t.prototype.removeTrack=function e(t){var r=void 0;for(var n=0,i=this.length;n<i;n++){if(this[n]===t){r=this[n];if(r.off){r.off()}this.tracks_.splice(n,1);break}}if(!r){return}this.trigger({track:r,type:"removetrack"})};t.prototype.getTrackById=function e(t){var r=null;for(var n=0,i=this.length;n<i;n++){var a=this[n];if(a.id===t){r=a;break}}return r};return t}(ut);Yt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var Kt in Yt.prototype.allowedEvents_){Yt.prototype["on"+Kt]=null}var $t=function e(t,r){for(var n=0;n<t.length;n++){if(!Object.keys(t[n]).length||r.id===t[n].id){continue}t[n].enabled=false}};var Jt=function(e){U(t,e);function t(){var r,n;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];N(this,t);var a=void 0;for(var o=i.length-1;o>=0;o--){if(i[o].enabled){$t(i,i[o]);break}}if(A){a=d.createElement("custom");for(var s in Yt.prototype){if(s!=="constructor"){a[s]=Yt.prototype[s]}}for(var u in t.prototype){if(u!=="constructor"){a[u]=t.prototype[u]}}}a=(r=B(this,e.call(this,i,a)),r);a.changing_=false;return n=a,B(r,n)}t.prototype.addTrack=function t(r){var n=this;if(r.enabled){$t(this,r)}e.prototype.addTrack.call(this,r);if(!r.addEventListener){return}r.addEventListener("enabledchange",function(){if(n.changing_){return}n.changing_=true;$t(n,r);n.changing_=false;n.trigger("change")})};return t}(Yt);var Qt=function e(t,r){for(var n=0;n<t.length;n++){if(!Object.keys(t[n]).length||r.id===t[n].id){continue}t[n].selected=false}};var Zt=function(e){U(t,e);function t(){var r,n;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];N(this,t);var a=void 0;for(var o=i.length-1;o>=0;o--){if(i[o].selected){Qt(i,i[o]);break}}if(A){a=d.createElement("custom");for(var s in Yt.prototype){if(s!=="constructor"){a[s]=Yt.prototype[s]}}for(var u in t.prototype){if(u!=="constructor"){a[u]=t.prototype[u]}}}a=(r=B(this,e.call(this,i,a)),r);a.changing_=false;Object.defineProperty(a,"selectedIndex",{get:function e(){for(var t=0;t<this.length;t++){if(this[t].selected){return t}}return-1},set:function e(){}});return n=a,B(r,n)}t.prototype.addTrack=function t(r){var n=this;if(r.selected){Qt(this,r)}e.prototype.addTrack.call(this,r);if(!r.addEventListener){return}r.addEventListener("selectedchange",function(){if(n.changing_){return}n.changing_=true;Qt(n,r);n.changing_=false;n.trigger("change")})};return t}(Yt);var er=function(e){U(t,e);function t(){var r,n;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];N(this,t);var a=void 0;if(A){a=d.createElement("custom");for(var o in Yt.prototype){if(o!=="constructor"){a[o]=Yt.prototype[o]}}for(var s in t.prototype){if(s!=="constructor"){a[s]=t.prototype[s]}}}a=(r=B(this,e.call(this,i,a)),r);return n=a,B(r,n)}t.prototype.addTrack=function t(r){e.prototype.addTrack.call(this,r);r.addEventListener("modechange",at(this,function(){this.trigger("change")}));var n=["metadata","chapters"];if(n.indexOf(r.kind)===-1){r.addEventListener("modechange",at(this,function(){this.trigger("selectedlanguagechange")}))}};return t}(Yt);var tr=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];N(this,e);var r=this;if(A){r=d.createElement("custom");for(var n in e.prototype){if(n!=="constructor"){r[n]=e.prototype[n]}}}r.trackElements_=[];Object.defineProperty(r,"length",{get:function e(){return this.trackElements_.length}});for(var i=0,a=t.length;i<a;i++){r.addTrackElement_(t[i])}if(A){return r}}e.prototype.addTrackElement_=function e(t){var r=this.trackElements_.length;if(!(""+r in this)){Object.defineProperty(this,r,{get:function e(){return this.trackElements_[r]}})}if(this.trackElements_.indexOf(t)===-1){this.trackElements_.push(t)}};e.prototype.getTrackElementByTrack_=function e(t){var r=void 0;for(var n=0,i=this.trackElements_.length;n<i;n++){if(t===this.trackElements_[n].track){r=this.trackElements_[n];break}}return r};e.prototype.removeTrackElement_=function e(t){for(var r=0,n=this.trackElements_.length;r<n;r++){if(t===this.trackElements_[r]){this.trackElements_.splice(r,1);break}}};return e}();var rr=function(){function e(t){N(this,e);var r=this;if(A){r=d.createElement("custom");for(var n in e.prototype){if(n!=="constructor"){r[n]=e.prototype[n]}}}e.prototype.setCues_.call(r,t);Object.defineProperty(r,"length",{get:function e(){return this.length_}});if(A){return r}}e.prototype.setCues_=function e(t){var r=this.length||0;var n=0;var i=t.length;this.cues_=t;this.length_=t.length;var a=function e(t){if(!(""+t in this)){Object.defineProperty(this,""+t,{get:function e(){return this.cues_[t]}})}};if(r<i){n=r;for(;n<i;n++){a.call(this,n)}}};e.prototype.getCueById=function e(t){var r=null;for(var n=0,i=this.length;n<i;n++){var a=this[n];if(a.id===t){r=a;break}}return r};return e}();var nr={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"};var ir={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"};var ar={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"};var or={disabled:"disabled",hidden:"hidden",showing:"showing"};var sr=function(e){U(t,e);function t(){var r;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};N(this,t);var i=B(this,e.call(this));var a=i;if(A){a=d.createElement("custom");for(var o in t.prototype){if(o!=="constructor"){a[o]=t.prototype[o]}}}var s={id:n.id||"vjs_track_"+Ne(),kind:n.kind||"",label:n.label||"",language:n.language||""};var u=function e(t){Object.defineProperty(a,t,{get:function e(){return s[t]},set:function e(){}})};for(var l in s){u(l)}return r=a,B(i,r)}return t}(ut);var ur=function e(t){var r=["protocol","hostname","port","pathname","search","hash","host"];var n=d.createElement("a");n.href=t;var i=n.host===""&&n.protocol!=="file:";var a=void 0;if(i){a=d.createElement("div");a.innerHTML='<a href="'+t+'"></a>';n=a.firstChild;a.setAttribute("style","display:none; position:absolute;");d.body.appendChild(a)}var s={};for(var u=0;u<r.length;u++){s[r[u]]=n[r[u]]}if(s.protocol==="http:"){s.host=s.host.replace(/:80$/,"")}if(s.protocol==="https:"){s.host=s.host.replace(/:443$/,"")}if(!s.protocol){s.protocol=o.location.protocol}if(i){d.body.removeChild(a)}return s};var lr=function e(t){if(!t.match(/^https?:\/\//)){var r=d.createElement("div");r.innerHTML='<a href="'+t+'">x</a>';t=r.firstChild.href}return t};var cr=function e(t){if(typeof t==="string"){var r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i;var n=r.exec(t);if(n){return n.pop().toLowerCase()}}return""};var fr=function e(t){var r=o.location;var n=ur(t);var i=n.protocol===":"?r.protocol:n.protocol;var a=i+n.host!==r.protocol+r.host;return a};var dr=(Object.freeze||Object)({parseUrl:ur,getAbsoluteURL:lr,getFileExtension:cr,isCrossOrigin:fr});var pr=vr;var hr=Object.prototype.toString;function vr(t){var r=hr.call(t);return r==="[object Function]"||typeof t==="function"&&r!=="[object RegExp]"||typeof e!=="undefined"&&(t===e.setTimeout||t===e.alert||t===e.confirm||t===e.prompt)}var yr=i(function(e,t){t=e.exports=r;function r(e){return e.replace(/^\s*|\s*$/g,"")}t.left=function(e){return e.replace(/^\s*/,"")};t.right=function(e){return e.replace(/\s*$/,"")}});var mr=br;var gr=Object.prototype.toString;var _r=Object.prototype.hasOwnProperty;function br(e,t,r){if(!pr(t)){throw new TypeError("iterator must be a function")}if(arguments.length<3){r=this}if(gr.call(e)==="[object Array]")Tr(e,t,r);else if(typeof e==="string")Sr(e,t,r);else wr(e,t,r)}function Tr(e,t,r){for(var n=0,i=e.length;n<i;n++){if(_r.call(e,n)){t.call(r,e[n],n,e)}}}function Sr(e,t,r){for(var n=0,i=e.length;n<i;n++){t.call(r,e.charAt(n),n,e)}}function wr(e,t,r){for(var n in e){if(_r.call(e,n)){t.call(r,e[n],n,e)}}}var Er=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var kr=function(e){if(!e)return{};var t={};mr(yr(e).split("\n"),function(e){var r=e.indexOf(":"),n=yr(e.slice(0,r)).toLowerCase(),i=yr(e.slice(r+1));if(typeof t[n]==="undefined"){t[n]=i}else if(Er(t[n])){t[n].push(i)}else{t[n]=[t[n],i]}});return t};var Pr=Cr;var Or=Object.prototype.hasOwnProperty;function Cr(){var e={};for(var t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Or.call(r,n)){e[n]=r[n]}}}return e}var Ar=Dr;Dr.XMLHttpRequest=o.XMLHttpRequest||Mr;Dr.XDomainRequest="withCredentials"in new Dr.XMLHttpRequest?Dr.XMLHttpRequest:o.XDomainRequest;xr(["get","put","post","patch","head","delete"],function(e){Dr[e==="delete"?"del":e]=function(t,r,n){r=Lr(t,r,n);r.method=e.toUpperCase();return Rr(r)}});function xr(e,t){for(var r=0;r<e.length;r++){t(e[r])}}function Ir(e){for(var t in e){if(e.hasOwnProperty(t))return false}return true}function Lr(e,t,r){var n=e;if(pr(t)){r=t;if(typeof e==="string"){n={uri:e}}}else{n=Pr(t,{uri:e})}n.callback=r;return n}function Dr(e,t,r){t=Lr(e,t,r);return Rr(t)}function Rr(e){if(typeof e.callback==="undefined"){throw new Error("callback argument missing")}var t=false;var r=function r(n,i,a){if(!t){t=true;e.callback(n,i,a)}};function n(){if(s.readyState===4){setTimeout(o,0)}}function i(){var e=undefined;if(s.response){e=s.response}else{e=s.responseText||jr(s)}if(v){try{e=JSON.parse(e)}catch(e){}}return e}function a(e){clearTimeout(y);if(!(e instanceof Error)){e=new Error(""+(e||"Unknown XMLHttpRequest Error"))}e.statusCode=0;return r(e,m)}function o(){if(l)return;var t;clearTimeout(y);if(e.useXDR&&s.status===undefined){t=200}else{t=s.status===1223?204:s.status}var n=m;var a=null;if(t!==0){n={body:i(),statusCode:t,method:f,headers:{},url:c,rawRequest:s};if(s.getAllResponseHeaders){n.headers=kr(s.getAllResponseHeaders())}}else{a=new Error("Internal XMLHttpRequest Error")}return r(a,n,n.body)}var s=e.xhr||null;if(!s){if(e.cors||e.useXDR){s=new Dr.XDomainRequest}else{s=new Dr.XMLHttpRequest}}var u;var l;var c=s.url=e.uri||e.url;var f=s.method=e.method||"GET";var d=e.body||e.data;var p=s.headers=e.headers||{};var h=!!e.sync;var v=false;var y;var m={body:undefined,headers:{},statusCode:0,method:f,url:c,rawRequest:s};if("json"in e&&e.json!==false){v=true;p["accept"]||p["Accept"]||(p["Accept"]="application/json");if(f!=="GET"&&f!=="HEAD"){p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json");d=JSON.stringify(e.json===true?d:e.json)}}s.onreadystatechange=n;s.onload=o;s.onerror=a;s.onprogress=function(){};s.onabort=function(){l=true};s.ontimeout=a;s.open(f,c,!h,e.username,e.password);if(!h){s.withCredentials=!!e.withCredentials}if(!h&&e.timeout>0){y=setTimeout(function(){if(l)return;l=true;s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT";a(e)},e.timeout)}if(s.setRequestHeader){for(u in p){if(p.hasOwnProperty(u)){s.setRequestHeader(u,p[u])}}}else if(e.headers&&!Ir(e.headers)){throw new Error("Headers cannot be set on an XDomainRequest object")}if("responseType"in e){s.responseType=e.responseType}if("beforeSend"in e&&typeof e.beforeSend==="function"){e.beforeSend(s)}s.send(d||null);return s}function jr(e){if(e.responseType==="document"){return e.responseXML}var t=e.responseXML&&e.responseXML.documentElement.nodeName==="parsererror";if(e.responseType===""&&!t){return e.responseXML}return null}function Mr(){}var Nr=function e(t,r){var n=new o.WebVTT.Parser(o,o.vttjs,o.WebVTT.StringDecoder());var i=[];n.oncue=function(e){r.addCue(e)};n.onparsingerror=function(e){i.push(e)};n.onflush=function(){r.trigger({type:"loadeddata",target:r})};n.parse(t);if(i.length>0){if(o.console&&o.console.groupCollapsed){o.console.groupCollapsed("Text Track parsing errors for "+r.src)}i.forEach(function(e){return Q.error(e)});if(o.console&&o.console.groupEnd){o.console.groupEnd()}}n.flush()};var Ur=function e(t,r){var n={uri:t};var i=fr(t);if(i){n.cors=i}Ar(n,at(this,function(e,t,n){if(e){return Q.error(e,t)}r.loaded_=true;if(typeof o.WebVTT!=="function"){if(r.tech_){var i=function e(){return Nr(n,r)};r.tech_.on("vttjsloaded",i);r.tech_.on("vttjserror",function(){Q.error("vttjs failed to load, stopping trying to process "+r.src);r.tech_.off("vttjsloaded",i)})}}else{Nr(n,r)}}))};var Br=function(e){U(t,e);function t(){var r,n;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};N(this,t);if(!i.tech){throw new Error("A tech was not provided.")}var a=St(i,{kind:ar[i.kind]||"subtitles",language:i.language||i.srclang||""});var o=or[a.mode]||"disabled";var s=a["default"];if(a.kind==="metadata"||a.kind==="chapters"){o="hidden"}var u=(r=B(this,e.call(this,a)),r);u.tech_=a.tech;if(A){for(var l in t.prototype){if(l!=="constructor"){u[l]=t.prototype[l]}}}u.cues_=[];u.activeCues_=[];var c=new rr(u.cues_);var f=new rr(u.activeCues_);var d=false;var p=at(u,function(){this.activeCues;if(d){this.trigger("cuechange");d=false}});if(o!=="disabled"){u.tech_.ready(function(){u.tech_.on("timeupdate",p)},true)}Object.defineProperty(u,"default",{get:function e(){return s},set:function e(){}});Object.defineProperty(u,"mode",{get:function e(){return o},set:function e(t){var r=this;if(!or[t]){return}o=t;if(o==="showing"){this.tech_.ready(function(){r.tech_.on("timeupdate",p)},true)}this.trigger("modechange")}});Object.defineProperty(u,"cues",{get:function e(){if(!this.loaded_){return null}return c},set:function e(){}});Object.defineProperty(u,"activeCues",{get:function e(){if(!this.loaded_){return null}if(this.cues.length===0){return f}var t=this.tech_.currentTime();var r=[];for(var n=0,i=this.cues.length;n<i;n++){var a=this.cues[n];if(a.startTime<=t&&a.endTime>=t){r.push(a)}else if(a.startTime===a.endTime&&a.startTime<=t&&a.startTime+.5>=t){r.push(a)}}d=false;if(r.length!==this.activeCues_.length){d=true}else{for(var o=0;o<r.length;o++){if(this.activeCues_.indexOf(r[o])===-1){d=true}}}this.activeCues_=r;f.setCues_(this.activeCues_);return f},set:function e(){}});if(a.src){u.src=a.src;Ur(a.src,u)}else{u.loaded_=true}return n=u,B(r,n)}t.prototype.addCue=function e(t){var r=t;if(o.vttjs&&!(t instanceof o.vttjs.VTTCue)){r=new o.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var n in t){if(!(n in r)){r[n]=t[n]}}r.id=t.id;r.originalCue_=t}var i=this.tech_.textTracks();for(var a=0;a<i.length;a++){if(i[a]!==this){i[a].removeCue(r)}}this.cues_.push(r);this.cues.setCues_(this.cues_)};t.prototype.removeCue=function e(t){var r=this.cues_.length;while(r--){var n=this.cues_[r];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(r,1);this.cues.setCues_(this.cues_);break}}};return t}(sr);Br.prototype.allowedEvents_={cuechange:"cuechange"};var Fr=function(e){U(t,e);function t(){var r,n;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};N(this,t);var a=St(i,{kind:ir[i.kind]||""});var o=(r=B(this,e.call(this,a)),r);var s=false;if(A){for(var u in t.prototype){if(u!=="constructor"){o[u]=t.prototype[u]}}}Object.defineProperty(o,"enabled",{get:function e(){return s},set:function e(t){if(typeof t!=="boolean"||t===s){return}s=t;this.trigger("enabledchange")}});if(a.enabled){o.enabled=a.enabled}o.loaded_=true;return n=o,B(r,n)}return t}(sr);var qr=function(e){U(t,e);function t(){var r,n;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};N(this,t);var a=St(i,{kind:nr[i.kind]||""});var o=(r=B(this,e.call(this,a)),r);var s=false;if(A){for(var u in t.prototype){if(u!=="constructor"){o[u]=t.prototype[u]}}}Object.defineProperty(o,"selected",{get:function e(){return s},set:function e(t){if(typeof t!=="boolean"||t===s){return}s=t;this.trigger("selectedchange")}});if(a.selected){o.selected=a.selected}return n=o,B(r,n)}return t}(sr);var Hr=0;var Vr=1;var Wr=2;var Gr=3;var zr=function(e){U(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};N(this,t);var n=B(this,e.call(this));var i=void 0;var a=n;if(A){a=d.createElement("custom");for(var o in t.prototype){if(o!=="constructor"){a[o]=t.prototype[o]}}}var s=new Br(r);a.kind=s.kind;a.src=s.src;a.srclang=s.language;a.label=s.label;a["default"]=s["default"];Object.defineProperty(a,"readyState",{get:function e(){return i}});Object.defineProperty(a,"track",{get:function e(){return s}});i=Hr;s.addEventListener("loadeddata",function(){i=Wr;a.trigger({type:"load",target:a})});if(A){var u;return u=a,B(n,u)}return n}return t}(ut);zr.prototype.allowedEvents_={load:"load"};zr.NONE=Hr;zr.LOADING=Vr;zr.LOADED=Wr;zr.ERROR=Gr;var Xr={audio:{ListClass:Jt,TrackClass:Fr,capitalName:"Audio"},video:{ListClass:Zt,TrackClass:qr,capitalName:"Video"},text:{ListClass:er,TrackClass:Br,capitalName:"Text"}};Object.keys(Xr).forEach(function(e){Xr[e].getterName=e+"Tracks";Xr[e].privateName=e+"Tracks_"});var Yr={remoteText:{ListClass:er,TrackClass:Br,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:tr,TrackClass:zr,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}};var Kr=St(Xr,Yr);Yr.names=Object.keys(Yr);Xr.names=Object.keys(Xr);Kr.names=[].concat(Yr.names).concat(Xr.names);var $r={};function Jr(e,t,r,n){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};var a=e.textTracks();i.kind=t;if(r){i.label=r}if(n){i.language=n}i.tech=e;var o=new Kr.text.TrackClass(i);a.addTrack(o);return o}var Qr=function(e){U(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};N(this,t);r.reportTouchActivity=false;var i=B(this,e.call(this,null,r,n));i.hasStarted_=false;i.on("playing",function(){this.hasStarted_=true});i.on("loadstart",function(){this.hasStarted_=false});Kr.names.forEach(function(e){var t=Kr[e];if(r&&r[t.getterName]){i[t.privateName]=r[t.getterName]}});if(!i.featuresProgressEvents){i.manualProgressOn()}if(!i.featuresTimeupdateEvents){i.manualTimeUpdatesOn()}["Text","Audio","Video"].forEach(function(e){if(r["native"+e+"Tracks"]===false){i["featuresNative"+e+"Tracks"]=false}});if(r.nativeCaptions===false||r.nativeTextTracks===false){i.featuresNativeTextTracks=false}else if(r.nativeCaptions===true||r.nativeTextTracks===true){i.featuresNativeTextTracks=true}if(!i.featuresNativeTextTracks){i.emulateTextTracks()}i.autoRemoteTextTracks_=new Kr.text.ListClass;i.initTrackListeners();if(!r.nativeControlsForTouch){i.emitTapEvents()}if(i.constructor){i.name_=i.constructor.name||"Unknown Tech"}return i}t.prototype.triggerSourceset=function e(t){var r=this;if(!this.isReady_){this.one("ready",function(){return r.setTimeout(function(){return r.triggerSourceset(t)},1)})}this.trigger({src:t,type:"sourceset"})};t.prototype.manualProgressOn=function e(){this.on("durationchange",this.onDurationChange);this.manualProgress=true;this.one("ready",this.trackProgress)};t.prototype.manualProgressOff=function e(){this.manualProgress=false;this.stopTrackingProgress();this.off("durationchange",this.onDurationChange)};t.prototype.trackProgress=function e(t){this.stopTrackingProgress();this.progressInterval=this.setInterval(at(this,function(){var e=this.bufferedPercent();if(this.bufferedPercent_!==e){this.trigger("progress")}this.bufferedPercent_=e;if(e===1){this.stopTrackingProgress()}}),500)};t.prototype.onDurationChange=function e(t){this.duration_=this.duration()};t.prototype.buffered=function e(){return Ot(0,0)};t.prototype.bufferedPercent=function e(){return Ct(this.buffered(),this.duration_)};t.prototype.stopTrackingProgress=function e(){this.clearInterval(this.progressInterval)};t.prototype.manualTimeUpdatesOn=function e(){this.manualTimeUpdates=true;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime)};t.prototype.manualTimeUpdatesOff=function e(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};t.prototype.trackCurrentTime=function e(){if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:true})},250)};t.prototype.stopTrackingCurrentTime=function e(){this.clearInterval(this.currentTimeInterval);this.trigger({type:"timeupdate",target:this,manuallyTriggered:true})};t.prototype.dispose=function t(){this.clearTracks(Xr.names);if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}e.prototype.dispose.call(this)};t.prototype.clearTracks=function e(t){var r=this;t=[].concat(t);t.forEach(function(e){var t=r[e+"Tracks"]()||[];var n=t.length;while(n--){var i=t[n];if(e==="text"){r.removeRemoteTextTrack(i)}t.removeTrack(i)}})};t.prototype.cleanupAutoTextTracks=function e(){var t=this.autoRemoteTextTracks_||[];var r=t.length;while(r--){var n=t[r];this.removeRemoteTextTrack(n)}};t.prototype.reset=function e(){};t.prototype.error=function e(t){if(t!==undefined){this.error_=new jt(t);this.trigger("error")}return this.error_};t.prototype.played=function e(){if(this.hasStarted_){return Ot(0,0)}return Ot()};t.prototype.setCurrentTime=function e(){if(this.manualTimeUpdates){this.trigger({type:"timeupdate",target:this,manuallyTriggered:true})}};t.prototype.initTrackListeners=function e(){var t=this;Xr.names.forEach(function(e){var r=Xr[e];var n=function r(){t.trigger(e+"trackchange")};var i=t[r.getterName]();i.addEventListener("removetrack",n);i.addEventListener("addtrack",n);t.on("dispose",function(){i.removeEventListener("removetrack",n);i.removeEventListener("addtrack",n)})})};t.prototype.addWebVttScript_=function e(){var t=this;if(o.WebVTT){return}if(d.body.contains(this.el())){if(!this.options_["vtt.js"]&&X($r)&&Object.keys($r).length>0){this.trigger("vttjsloaded");return}var r=d.createElement("script");r.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js";r.onload=function(){t.trigger("vttjsloaded")};r.onerror=function(){t.trigger("vttjserror")};this.on("dispose",function(){r.onload=null;r.onerror=null});o.WebVTT=true;this.el().parentNode.appendChild(r)}else{this.ready(this.addWebVttScript_)}};t.prototype.emulateTextTracks=function e(){var t=this;var r=this.textTracks();var n=this.remoteTextTracks();var i=function e(t){return r.addTrack(t.track)};var a=function e(t){return r.removeTrack(t.track)};n.on("addtrack",i);n.on("removetrack",a);this.addWebVttScript_();var o=function e(){return t.trigger("texttrackchange")};var s=function e(){o();for(var t=0;t<r.length;t++){var n=r[t];n.removeEventListener("cuechange",o);if(n.mode==="showing"){n.addEventListener("cuechange",o)}}};s();r.addEventListener("change",s);r.addEventListener("addtrack",s);r.addEventListener("removetrack",s);this.on("dispose",function(){n.off("addtrack",i);n.off("removetrack",a);r.removeEventListener("change",s);r.removeEventListener("addtrack",s);r.removeEventListener("removetrack",s);for(var e=0;e<r.length;e++){var t=r[e];t.removeEventListener("cuechange",o)}})};t.prototype.addTextTrack=function e(t,r,n){if(!t){throw new Error("TextTrack kind is required but was not provided")}return Jr(this,t,r,n)};t.prototype.createRemoteTextTrack=function e(t){var r=St(t,{tech:this});return new Yr.remoteTextEl.TrackClass(r)};t.prototype.addRemoteTextTrack=function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments[1];var i=this.createRemoteTextTrack(r);if(n!==true&&n!==false){Q.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js');n=true}this.remoteTextTrackEls().addTrackElement_(i);this.remoteTextTracks().addTrack(i.track);if(n!==true){this.ready(function(){return t.autoRemoteTextTracks_.addTrack(i.track)})}return i};t.prototype.removeRemoteTextTrack=function e(t){var r=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(r);this.remoteTextTracks().removeTrack(t);this.autoRemoteTextTracks_.removeTrack(t)};t.prototype.getVideoPlaybackQuality=function e(){return{}};t.prototype.setPoster=function e(){};t.prototype.playsinline=function e(){};t.prototype.setPlaysinline=function e(){};t.prototype.canPlayType=function e(){return""};t.canPlayType=function e(){return""};t.canPlaySource=function e(r,n){return t.canPlayType(r.type)};t.isTech=function e(r){return r.prototype instanceof t||r instanceof t||r===t};t.registerTech=function e(r,n){if(!t.techs_){t.techs_={}}if(!t.isTech(n)){throw new Error("Tech "+r+" must be a Tech")}if(!t.canPlayType){throw new Error("Techs must have a static canPlayType method on them")}if(!t.canPlaySource){throw new Error("Techs must have a static canPlaySource method on them")}r=bt(r);t.techs_[r]=n;if(r!=="Tech"){t.defaultTechOrder_.push(r)}return n};t.getTech=function e(r){if(!r){return}r=bt(r);if(t.techs_&&t.techs_[r]){return t.techs_[r]}if(o&&o.videojs&&o.videojs[r]){Q.warn("The "+r+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)");return o.videojs[r]}};return t}(wt);Kr.names.forEach(function(e){var t=Kr[e];Qr.prototype[t.getterName]=function(){this[t.privateName]=this[t.privateName]||new t.ListClass;return this[t.privateName]}});Qr.prototype.featuresVolumeControl=true;Qr.prototype.featuresFullscreenResize=false;Qr.prototype.featuresPlaybackRate=false;Qr.prototype.featuresProgressEvents=false;Qr.prototype.featuresSourceset=false;Qr.prototype.featuresTimeupdateEvents=false;Qr.prototype.featuresNativeTextTracks=false;Qr.withSourceHandlers=function(e){e.registerSourceHandler=function(t,r){var n=e.sourceHandlers;if(!n){n=e.sourceHandlers=[]}if(r===undefined){r=n.length}n.splice(r,0,t)};e.canPlayType=function(t){var r=e.sourceHandlers||[];var n=void 0;for(var i=0;i<r.length;i++){n=r[i].canPlayType(t);if(n){return n}}return""};e.selectSourceHandler=function(t,r){var n=e.sourceHandlers||[];var i=void 0;for(var a=0;a<n.length;a++){i=n[a].canHandleSource(t,r);if(i){return n[a]}}return null};e.canPlaySource=function(t,r){var n=e.selectSourceHandler(t,r);if(n){return n.canHandleSource(t,r)}return""};var t=["seekable","duration"];t.forEach(function(e){var t=this[e];if(typeof t!=="function"){return}this[e]=function(){if(this.sourceHandler_&&this.sourceHandler_[e]){return this.sourceHandler_[e].apply(this.sourceHandler_,arguments)}return t.apply(this,arguments)}},e.prototype);e.prototype.setSource=function(t){var r=e.selectSourceHandler(t,this.options_);if(!r){if(e.nativeSourceHandler){r=e.nativeSourceHandler}else{Q.error("No source hander found for the current source.")}}this.disposeSourceHandler();this.off("dispose",this.disposeSourceHandler);if(r!==e.nativeSourceHandler){this.currentSource_=t}this.sourceHandler_=r.handleSource(t,this,this.options_);this.on("dispose",this.disposeSourceHandler)};e.prototype.disposeSourceHandler=function(){if(this.currentSource_){this.clearTracks(["audio","video"]);this.currentSource_=null}this.cleanupAutoTextTracks();if(this.sourceHandler_){if(this.sourceHandler_.dispose){this.sourceHandler_.dispose()}this.sourceHandler_=null}}};wt.registerComponent("Tech",Qr);Qr.registerTech("Tech",Qr);Qr.defaultTechOrder_=[];var Zr={};var en={};var tn={};function rn(e,t){Zr[e]=Zr[e]||[];Zr[e].push(t)}function nn(e,t,r){e.setTimeout(function(){return yn(t,Zr[t.type],r,e)},1)}function an(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}function on(e,t,r){return e.reduceRight(dn(r),t[r]())}function sn(e,t,r,n){return t[r](e.reduce(dn(r),n))}function un(e,t,r){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var i="call"+bt(r);var a=e.reduce(dn(i),n);var o=a===tn;var s=o?null:t[r](a);pn(e,r,s,o);return s}var ln={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1};var cn={setCurrentTime:1};var fn={play:1,pause:1};function dn(e){return function(t,r){if(t===tn){return tn}if(r[e]){return r[e](t)}return t}}function pn(e,t,r,n){for(var i=e.length-1;i>=0;i--){var a=e[i];if(a[t]){a[t](n,r)}}}function hn(e){en[e.id()]=null}function vn(e,t){var r=en[e.id()];var n=null;if(r===undefined||r===null){n=t(e);en[e.id()]=[[t,n]];return n}for(var i=0;i<r.length;i++){var a=r[i],o=a[0],s=a[1];if(o!==t){continue}n=s}if(n===null){n=t(e);r.push([t,n])}return n}function yn(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var r=arguments[2];var n=arguments[3];var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];var a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var o=t[0],s=t.slice(1);if(typeof o==="string"){yn(e,Zr[o],r,n,i,a)}else if(o){var u=vn(n,o);u.setSource(G({},e),function(t,o){if(t){return yn(e,s,r,n,i,a)}i.push(u);yn(o,e.type===o.type?s:Zr[o.type],r,n,i,a)})}else if(s.length){yn(e,s,r,n,i,a)}else if(a){r(e,i)}else{yn(e,Zr["*"],r,n,i,true)}}var mn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"};var gn=function e(t){if(Array.isArray(t)){var r=[];t.forEach(function(t){t=e(t);if(Array.isArray(t)){r=r.concat(t)}else if(z(t)){r.push(t)}});t=r}else if(typeof t==="string"&&t.trim()){t=[_n({src:t})]}else if(z(t)&&typeof t.src==="string"&&t.src&&t.src.trim()){t=[_n(t)]}else{t=[]}return t};function _n(e){var t=cr(e.src);var r=mn[t.toLowerCase()];if(!e.type&&r){e.type=r}return e}var bn=function(e){U(t,e);function t(r,n,i){N(this,t);var a=St({createEl:false},n);var o=B(this,e.call(this,r,a,i));if(!n.playerOptions.sources||n.playerOptions.sources.length===0){for(var s=0,u=n.playerOptions.techOrder;s<u.length;s++){var l=bt(u[s]);var c=Qr.getTech(l);if(!l){c=wt.getComponent(l)}if(c&&c.isSupported()){r.loadTech_(l);break}}}else{r.src(n.playerOptions.sources)}return o}return t}(wt);wt.registerComponent("MediaLoader",bn);var Tn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.emitTapEvents();i.enable();return i}t.prototype.createEl=function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};n=G({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n);if(r==="button"){Q.error("Creating a ClickableComponent with an HTML element of "+r+" is not supported; use a Button instead.")}i=G({role:"button","aria-live":"polite"},i);this.tabIndex_=n.tabIndex;var a=e.prototype.createEl.call(this,r,n,i);this.createControlTextEl(a);return a};t.prototype.dispose=function t(){this.controlTextEl_=null;e.prototype.dispose.call(this)};t.prototype.createControlTextEl=function e(t){this.controlTextEl_=ce("span",{className:"vjs-control-text"});if(t){t.appendChild(this.controlTextEl_)}this.controlText(this.controlText_,t);return this.controlTextEl_};t.prototype.controlText=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.el();if(t===undefined){return this.controlText_||"Need Text"}var n=this.localize(t);this.controlText_=t;fe(this.controlTextEl_,n);if(!this.nonIconControl){r.setAttribute("title",n)}};t.prototype.buildCSSClass=function t(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)};t.prototype.enable=function e(){if(!this.enabled_){this.enabled_=true;this.removeClass("vjs-disabled");this.el_.setAttribute("aria-disabled","false");if(typeof this.tabIndex_!=="undefined"){this.el_.setAttribute("tabIndex",this.tabIndex_)}this.on(["tap","click"],this.handleClick);this.on("focus",this.handleFocus);this.on("blur",this.handleBlur)}};t.prototype.disable=function e(){this.enabled_=false;this.addClass("vjs-disabled");this.el_.setAttribute("aria-disabled","true");if(typeof this.tabIndex_!=="undefined"){this.el_.removeAttribute("tabIndex")}this.off(["tap","click"],this.handleClick);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur)};t.prototype.handleClick=function e(t){};t.prototype.handleFocus=function e(t){Ye(d,"keydown",at(this,this.handleKeyPress))};t.prototype.handleKeyPress=function t(r){if(r.which===32||r.which===13){r.preventDefault();this.trigger("click")}else if(e.prototype.handleKeyPress){e.prototype.handleKeyPress.call(this,r)}};t.prototype.handleBlur=function e(t){Ke(d,"keydown",at(this,this.handleKeyPress))};return t}(wt);wt.registerComponent("ClickableComponent",Tn);var Sn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.update();r.on("posterchange",at(i,i.update));return i}t.prototype.dispose=function t(){this.player().off("posterchange",this.update);e.prototype.dispose.call(this)};t.prototype.createEl=function e(){var t=ce("div",{className:"vjs-poster",tabIndex:-1});if(!R){this.fallbackImg_=ce("img");t.appendChild(this.fallbackImg_)}return t};t.prototype.update=function e(t){var r=this.player().poster();this.setSrc(r);if(r){this.show()}else{this.hide()}};t.prototype.setSrc=function e(t){if(this.fallbackImg_){this.fallbackImg_.src=t}else{var r="";if(t){r='url("'+t+'")'}this.el_.style.backgroundImage=r}};t.prototype.handleClick=function e(t){if(!this.player_.controls()){return}if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};return t}(Tn);wt.registerComponent("PosterImage",Sn);var wn="#222";var En="#ccc";var kn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Pn(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function On(e,t,r){try{e.style[t]=r}catch(e){return}}var Cn=function(e){U(t,e);function t(r,n,i){N(this,t);var a=B(this,e.call(this,r,n,i));r.on("loadstart",at(a,a.toggleDisplay));r.on("texttrackchange",at(a,a.updateDisplay));r.on("loadstart",at(a,a.preselectTrack));r.ready(at(a,function(){if(r.tech_&&r.tech_.featuresNativeTextTracks){this.hide();return}r.on("fullscreenchange",at(this,this.updateDisplay));var e=this.options_.playerOptions.tracks||[];for(var t=0;t<e.length;t++){this.player_.addRemoteTextTrack(e[t],true)}this.preselectTrack()}));return a}t.prototype.preselectTrack=function e(){var t={captions:1,subtitles:1};var r=this.player_.textTracks();var n=this.player_.cache_.selectedLanguage;var i=void 0;var a=void 0;var o=void 0;for(var s=0;s<r.length;s++){var u=r[s];if(n&&n.enabled&&n.language===u.language){if(u.kind===n.kind){o=u}else if(!o){o=u}}else if(n&&!n.enabled){o=null;i=null;a=null}else if(u["default"]){if(u.kind==="descriptions"&&!i){i=u}else if(u.kind in t&&!a){a=u}}}if(o){o.mode="showing"}else if(a){a.mode="showing"}else if(i){i.mode="showing"}};t.prototype.toggleDisplay=function e(){if(this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks){this.hide()}else{this.show()}};t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})};t.prototype.clearDisplay=function e(){if(typeof o.WebVTT==="function"){o.WebVTT.processCues(o,[],this.el_)}};t.prototype.updateDisplay=function e(){var t=this.player_.textTracks();this.clearDisplay();var r=null;var n=null;var i=t.length;while(i--){var a=t[i];if(a.mode==="showing"){if(a.kind==="descriptions"){r=a}else{n=a}}}if(n){if(this.getAttribute("aria-live")!=="off"){this.setAttribute("aria-live","off")}this.updateForTrack(n)}else if(r){if(this.getAttribute("aria-live")!=="assertive"){this.setAttribute("aria-live","assertive")}this.updateForTrack(r)}};t.prototype.updateForTrack=function e(t){if(typeof o.WebVTT!=="function"||!t.activeCues){return}var r=[];for(var n=0;n<t.activeCues.length;n++){r.push(t.activeCues[n])}o.WebVTT.processCues(o,r,this.el_);if(!this.player_.textTrackSettings){return}var i=this.player_.textTrackSettings.getValues();var a=r.length;while(a--){var s=r[a];if(!s){continue}var u=s.displayState;if(i.color){u.firstChild.style.color=i.color}if(i.textOpacity){On(u.firstChild,"color",Pn(i.color||"#fff",i.textOpacity))}if(i.backgroundColor){u.firstChild.style.backgroundColor=i.backgroundColor}if(i.backgroundOpacity){On(u.firstChild,"backgroundColor",Pn(i.backgroundColor||"#000",i.backgroundOpacity))}if(i.windowColor){if(i.windowOpacity){On(u,"backgroundColor",Pn(i.windowColor,i.windowOpacity))}else{u.style.backgroundColor=i.windowColor}}if(i.edgeStyle){if(i.edgeStyle==="dropshadow"){u.firstChild.style.textShadow="2px 2px 3px "+wn+", 2px 2px 4px "+wn+", 2px 2px 5px "+wn}else if(i.edgeStyle==="raised"){u.firstChild.style.textShadow="1px 1px "+wn+", 2px 2px "+wn+", 3px 3px "+wn}else if(i.edgeStyle==="depressed"){u.firstChild.style.textShadow="1px 1px "+En+", 0 1px "+En+", -1px -1px "+wn+", 0 -1px "+wn}else if(i.edgeStyle==="uniform"){u.firstChild.style.textShadow="0 0 4px "+wn+", 0 0 4px "+wn+", 0 0 4px "+wn+", 0 0 4px "+wn}}if(i.fontPercent&&i.fontPercent!==1){var l=o.parseFloat(u.style.fontSize);u.style.fontSize=l*i.fontPercent+"px";u.style.height="auto";u.style.top="auto";u.style.bottom="2px"}if(i.fontFamily&&i.fontFamily!=="default"){if(i.fontFamily==="small-caps"){u.firstChild.style.fontVariant="small-caps"}else{u.firstChild.style.fontFamily=kn[i.fontFamily]}}}};return t}(wt);wt.registerComponent("TextTrackDisplay",Cn);var An=function(e){U(t,e);function t(){N(this,t);return B(this,e.apply(this,arguments))}t.prototype.createEl=function t(){var r=this.player_.isAudio();var n=this.localize(r?"Audio Player":"Video Player");var i=ce("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])});var a=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});a.appendChild(i);return a};return t}(wt);wt.registerComponent("LoadingSpinner",An);var xn=function(e){U(t,e);function t(){N(this,t);return B(this,e.apply(this,arguments))}t.prototype.createEl=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};t="button";r=G({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},r);n=G({type:"button","aria-live":"polite"},n);var i=wt.prototype.createEl.call(this,t,r,n);this.createControlTextEl(i);return i};t.prototype.addChild=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=this.constructor.name;Q.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead.");return wt.prototype.addChild.call(this,t,r)};t.prototype.enable=function t(){e.prototype.enable.call(this);this.el_.removeAttribute("disabled")};t.prototype.disable=function t(){e.prototype.disable.call(this);this.el_.setAttribute("disabled","disabled")};t.prototype.handleKeyPress=function t(r){if(r.which===32||r.which===13){return}e.prototype.handleKeyPress.call(this,r)};return t}(Tn);wt.registerComponent("Button",xn);var In=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.mouseused_=false;i.on("mousedown",i.handleMouseDown);return i}t.prototype.buildCSSClass=function e(){return"vjs-big-play-button"};t.prototype.handleClick=function e(t){var r=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){return}var n=this.player_.getChild("controlBar");var i=n&&n.getChild("playToggle");if(!i){this.player_.focus();return}var a=function e(){return i.focus()};if(Bt(r)){r.then(a,function(){})}else{this.setTimeout(a,1)}};t.prototype.handleKeyPress=function t(r){this.mouseused_=false;e.prototype.handleKeyPress.call(this,r)};t.prototype.handleMouseDown=function e(t){this.mouseused_=true};return t}(xn);In.prototype.controlText_="Play Video";wt.registerComponent("BigPlayButton",In);var Ln=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.controlText(n&&n.controlText||i.localize("Close"));return i}t.prototype.buildCSSClass=function t(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)};t.prototype.handleClick=function e(t){this.trigger({type:"close",bubbles:false})};return t}(xn);wt.registerComponent("CloseButton",Ln);var Dn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.on(r,"play",i.handlePlay);i.on(r,"pause",i.handlePause);i.on(r,"ended",i.handleEnded);return i}t.prototype.buildCSSClass=function t(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)};t.prototype.handleClick=function e(t){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};t.prototype.handleSeeked=function e(t){this.removeClass("vjs-ended");if(this.player_.paused()){this.handlePause(t)}else{this.handlePlay(t)}};t.prototype.handlePlay=function e(t){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.controlText("Pause")};t.prototype.handlePause=function e(t){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.controlText("Play")};t.prototype.handleEnded=function e(t){this.removeClass("vjs-playing");this.addClass("vjs-ended");this.controlText("Replay");this.one(this.player_,"seeked",this.handleSeeked)};return t}(xn);Dn.prototype.controlText_="Play";wt.registerComponent("PlayToggle",Dn);var Rn=function e(t,r){t=t<0?0:t;var n=Math.floor(t%60);var i=Math.floor(t/60%60);var a=Math.floor(t/3600);var o=Math.floor(r/60%60);var s=Math.floor(r/3600);if(isNaN(t)||t===Infinity){a=i=n="-"}a=a>0||s>0?a+":":"";i=((a||o>=10)&&i<10?"0"+i:i)+":";n=n<10?"0"+n:n;return a+i+n};var jn=Rn;function Mn(e){jn=e}function Nn(){jn=Rn}var Un=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e;return jn(e,t)};var Bn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.throttledUpdateContent=ot(at(i,i.updateContent),25);i.on(r,"timeupdate",i.throttledUpdateContent);return i}t.prototype.createEl=function t(r){var n=this.buildCSSClass();var i=e.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control"});this.contentEl_=ce("div",{className:n+"-display"},{"aria-live":"off"},ce("span",{className:"vjs-control-text",textContent:this.localize(this.controlText_)}));this.updateTextNode_();i.appendChild(this.contentEl_);return i};t.prototype.dispose=function t(){this.contentEl_=null;this.textNode_=null;e.prototype.dispose.call(this)};t.prototype.updateTextNode_=function e(){if(!this.contentEl_){return}while(this.contentEl_.firstChild){this.contentEl_.removeChild(this.contentEl_.firstChild)}this.textNode_=d.createTextNode(this.formattedTime_||"0:00");this.contentEl_.appendChild(this.textNode_)};t.prototype.formatTime_=function e(t){return Un(t)};t.prototype.updateFormattedTime_=function e(t){var r=this.formatTime_(t);if(r===this.formattedTime_){return}this.formattedTime_=r;this.requestAnimationFrame(this.updateTextNode_)};t.prototype.updateContent=function e(t){};return t}(wt);Bn.prototype.controlText_="Time";wt.registerComponent("TimeDisplay",Bn);var Fn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.on(r,"ended",i.handleEnded);return i}t.prototype.buildCSSClass=function e(){return"vjs-current-time"};t.prototype.updateContent=function e(t){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(r)};t.prototype.handleEnded=function e(t){if(!this.player_.duration()){return}this.updateFormattedTime_(this.player_.duration())};return t}(Bn);Fn.prototype.controlText_="Current Time";wt.registerComponent("CurrentTimeDisplay",Fn);var qn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.on(r,"durationchange",i.updateContent);i.on(r,"loadedmetadata",i.throttledUpdateContent);return i}t.prototype.buildCSSClass=function e(){return"vjs-duration"};t.prototype.updateContent=function e(t){var r=this.player_.duration();if(r&&this.duration_!==r){this.duration_=r;this.updateFormattedTime_(r)}};return t}(Bn);qn.prototype.controlText_="Duration Time";wt.registerComponent("DurationDisplay",qn);var Hn=function(e){U(t,e);function t(){N(this,t);return B(this,e.apply(this,arguments))}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};return t}(wt);wt.registerComponent("TimeDivider",Hn);var Vn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.on(r,"durationchange",i.throttledUpdateContent);i.on(r,"ended",i.handleEnded);return i}t.prototype.buildCSSClass=function e(){return"vjs-remaining-time"};t.prototype.formatTime_=function t(r){return"-"+e.prototype.formatTime_.call(this,r)};t.prototype.updateContent=function e(t){if(!this.player_.duration()){return}if(this.player_.remainingTimeDisplay){this.updateFormattedTime_(this.player_.remainingTimeDisplay())}else{this.updateFormattedTime_(this.player_.remainingTime())}};t.prototype.handleEnded=function e(t){if(!this.player_.duration()){return}this.updateFormattedTime_(0)};return t}(Bn);Vn.prototype.controlText_="Remaining Time";wt.registerComponent("RemainingTimeDisplay",Vn);var Wn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.updateShowing();i.on(i.player(),"durationchange",i.updateShowing);return i}t.prototype.createEl=function t(){var r=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});this.contentEl_=ce("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"});r.appendChild(this.contentEl_);return r};t.prototype.dispose=function t(){this.contentEl_=null;e.prototype.dispose.call(this)};t.prototype.updateShowing=function e(t){if(this.player().duration()===Infinity){this.show()}else{this.hide()}};return t}(wt);wt.registerComponent("LiveDisplay",Wn);var Gn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.bar=i.getChild(i.options_.barName);i.vertical(!!i.options_.vertical);i.enable();return i}t.prototype.enabled=function e(){return this.enabled_};t.prototype.enable=function e(){if(this.enabled()){return}this.on("mousedown",this.handleMouseDown);this.on("touchstart",this.handleMouseDown);this.on("focus",this.handleFocus);this.on("blur",this.handleBlur);this.on("click",this.handleClick);this.on(this.player_,"controlsvisible",this.update);if(this.playerEvent){this.on(this.player_,this.playerEvent,this.update)}this.removeClass("disabled");this.setAttribute("tabindex",0);this.enabled_=true};t.prototype.disable=function e(){if(!this.enabled()){return}var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown);this.off("touchstart",this.handleMouseDown);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur);this.off("click",this.handleClick);this.off(this.player_,"controlsvisible",this.update);this.off(t,"mousemove",this.handleMouseMove);this.off(t,"mouseup",this.handleMouseUp);this.off(t,"touchmove",this.handleMouseMove);this.off(t,"touchend",this.handleMouseUp);this.removeAttribute("tabindex");this.addClass("disabled");if(this.playerEvent){this.off(this.player_,this.playerEvent,this.update)}this.enabled_=false};t.prototype.createEl=function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};n.className=n.className+" vjs-slider";n=G({tabIndex:0},n);i=G({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i);return e.prototype.createEl.call(this,r,n,i)};t.prototype.handleMouseDown=function e(t){var r=this.bar.el_.ownerDocument;t.preventDefault();Se();this.addClass("vjs-sliding");this.trigger("slideractive");this.on(r,"mousemove",this.handleMouseMove);this.on(r,"mouseup",this.handleMouseUp);this.on(r,"touchmove",this.handleMouseMove);this.on(r,"touchend",this.handleMouseUp);this.handleMouseMove(t)};t.prototype.handleMouseMove=function e(t){};t.prototype.handleMouseUp=function e(){var t=this.bar.el_.ownerDocument;we();this.removeClass("vjs-sliding");this.trigger("sliderinactive");this.off(t,"mousemove",this.handleMouseMove);this.off(t,"mouseup",this.handleMouseUp);this.off(t,"touchmove",this.handleMouseMove);this.off(t,"touchend",this.handleMouseUp);this.update()};t.prototype.update=function e(){if(!this.el_){return}var t=this.getPercent();var r=this.bar;if(!r){return}if(typeof t!=="number"||t!==t||t<0||t===Infinity){t=0}var n=(t*100).toFixed(2)+"%";var i=r.el().style;if(this.vertical()){i.height=n}else{i.width=n}return t};t.prototype.calculateDistance=function e(t){var r=Pe(this.el_,t);if(this.vertical()){return r.y}return r.x};t.prototype.handleFocus=function e(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)};t.prototype.handleKeyPress=function e(t){if(t.which===37||t.which===40){t.preventDefault();this.stepBack()}else if(t.which===38||t.which===39){t.preventDefault();this.stepForward()}};t.prototype.handleBlur=function e(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)};t.prototype.handleClick=function e(t){t.stopImmediatePropagation();t.preventDefault()};t.prototype.vertical=function e(t){if(t===undefined){return this.vertical_||false}this.vertical_=!!t;if(this.vertical_){this.addClass("vjs-slider-vertical")}else{this.addClass("vjs-slider-horizontal")}};return t}(wt);wt.registerComponent("Slider",Gn);var zn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.partEls_=[];i.on(r,"progress",i.update);return i}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})};t.prototype.dispose=function t(){this.partEls_=null;e.prototype.dispose.call(this)};t.prototype.update=function e(t){var r=this.player_.buffered();var n=this.player_.duration();var i=this.player_.bufferedEnd();var a=this.partEls_;var o=function e(t,r){var n=t/r||0;return(n>=1?1:n)*100+"%"};this.el_.style.width=o(i,n);for(var s=0;s<r.length;s++){var u=r.start(s);var l=r.end(s);var c=a[s];if(!c){c=this.el_.appendChild(ce());a[s]=c}c.style.left=o(u,i);c.style.width=o(l-u,i)}for(var f=a.length;f>r.length;f--){this.el_.removeChild(a[f-1])}a.length=r.length};return t}(wt);wt.registerComponent("LoadProgressBar",zn);var Xn=function(e){U(t,e);function t(){N(this,t);return B(this,e.apply(this,arguments))}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})};t.prototype.update=function e(t,r,n){var i=Ee(this.el_);var a=Ee(this.player_.el());var o=t.width*r;if(!a||!i){return}var s=t.left-a.left+o;var u=t.width-o+(a.right-t.right);var l=i.width/2;if(s<l){l+=l-s}else if(u<l){l=u}if(l<0){l=0}else if(l>i.width){l=i.width}this.el_.style.right="-"+l+"px";fe(this.el_,n)};return t}(wt);wt.registerComponent("TimeTooltip",Xn);var Yn=function(e){U(t,e);function t(){N(this,t);return B(this,e.apply(this,arguments))}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})};t.prototype.update=function e(t,r){var n=this;if(this.rafId_){this.cancelAnimationFrame(this.rafId_)}this.rafId_=this.requestAnimationFrame(function(){var e=n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime();var i=Un(e,n.player_.duration());var a=n.getChild("timeTooltip");if(a){a.update(t,r,i)}})};return t}(wt);Yn.prototype.options_={children:[]};if((!x||x>8)&&!_&&!T){Yn.prototype.options_.children.push("timeTooltip")}wt.registerComponent("PlayProgressBar",Yn);var Kn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.update=ot(at(i,i.update),25);return i}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})};t.prototype.update=function e(t,r){var n=this;if(this.rafId_){this.cancelAnimationFrame(this.rafId_)}this.rafId_=this.requestAnimationFrame(function(){var e=n.player_.duration();var i=Un(r*e,e);n.el_.style.left=t.width*r+"px";n.getChild("timeTooltip").update(t,r,i)})};return t}(wt);Kn.prototype.options_={children:["timeTooltip"]};wt.registerComponent("MouseTimeDisplay",Kn);var $n=5;var Jn=30;var Qn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.update=ot(at(i,i.update),Jn);i.on(r,"timeupdate",i.update);i.on(r,"ended",i.handleEnded);i.updateInterval=null;i.on(r,["playing"],function(){i.clearInterval(i.updateInterval);i.updateInterval=i.setInterval(function(){i.requestAnimationFrame(function(){i.update()})},Jn)});i.on(r,["ended","pause","waiting"],function(){i.clearInterval(i.updateInterval)});i.on(r,["timeupdate","ended"],i.update);return i}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})};t.prototype.update_=function e(t,r){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(r*100).toFixed(2));this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Un(t,n),Un(n,n)],"{1} of {2}"));this.bar.update(Ee(this.el_),r)};t.prototype.update=function t(r){var n=e.prototype.update.call(this);this.update_(this.getCurrentTime_(),n);return n};t.prototype.getCurrentTime_=function e(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()};t.prototype.handleEnded=function e(t){this.update_(this.player_.duration(),1)};t.prototype.getPercent=function e(){var t=this.getCurrentTime_()/this.player_.duration();return t>=1?1:t};t.prototype.handleMouseDown=function t(r){if(!Le(r)){return}r.stopPropagation();this.player_.scrubbing(true);this.videoWasPlaying=!this.player_.paused();this.player_.pause();e.prototype.handleMouseDown.call(this,r)};t.prototype.handleMouseMove=function e(t){if(!Le(t)){return}var r=this.calculateDistance(t)*this.player_.duration();if(r===this.player_.duration()){r=r-.1}this.player_.currentTime(r)};t.prototype.enable=function t(){e.prototype.enable.call(this);var r=this.getChild("mouseTimeDisplay");if(!r){return}r.show()};t.prototype.disable=function t(){e.prototype.disable.call(this);var r=this.getChild("mouseTimeDisplay");if(!r){return}r.hide()};t.prototype.handleMouseUp=function t(r){e.prototype.handleMouseUp.call(this,r);if(r){r.stopPropagation()}this.player_.scrubbing(false);this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:true});if(this.videoWasPlaying){Ft(this.player_.play())}};t.prototype.stepForward=function e(){this.player_.currentTime(this.player_.currentTime()+$n)};t.prototype.stepBack=function e(){this.player_.currentTime(this.player_.currentTime()-$n)};t.prototype.handleAction=function e(t){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};t.prototype.handleKeyPress=function t(r){if(r.which===32||r.which===13){r.preventDefault();this.handleAction(r)}else if(e.prototype.handleKeyPress){e.prototype.handleKeyPress.call(this,r)}};return t}(Gn);Qn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};if((!x||x>8)&&!_&&!T){Qn.prototype.options_.children.splice(1,0,"mouseTimeDisplay")}Qn.prototype.playerEvent="timeupdate";wt.registerComponent("SeekBar",Qn);var Zn=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.handleMouseMove=ot(at(i,i.handleMouseMove),25);i.throttledHandleMouseSeek=ot(at(i,i.handleMouseSeek),25);i.enable();return i}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};t.prototype.handleMouseMove=function e(t){var r=this.getChild("seekBar");if(r){var n=r.getChild("mouseTimeDisplay");var i=r.el();var a=Ee(i);var o=Pe(i,t).x;if(o>1){o=1}else if(o<0){o=0}if(n){n.update(a,o)}}};t.prototype.handleMouseSeek=function e(t){var r=this.getChild("seekBar");if(r){r.handleMouseMove(t)}};t.prototype.enabled=function e(){return this.enabled_};t.prototype.disable=function e(){this.children().forEach(function(e){return e.disable&&e.disable()});if(!this.enabled()){return}this.off(["mousedown","touchstart"],this.handleMouseDown);this.off(this.el_,"mousemove",this.handleMouseMove);this.handleMouseUp();this.addClass("disabled");this.enabled_=false};t.prototype.enable=function e(){this.children().forEach(function(e){return e.enable&&e.enable()});if(this.enabled()){return}this.on(["mousedown","touchstart"],this.handleMouseDown);this.on(this.el_,"mousemove",this.handleMouseMove);this.removeClass("disabled");this.enabled_=true};t.prototype.handleMouseDown=function e(t){var r=this.el_.ownerDocument;var n=this.getChild("seekBar");if(n){n.handleMouseDown(t)}this.on(r,"mousemove",this.throttledHandleMouseSeek);this.on(r,"touchmove",this.throttledHandleMouseSeek);this.on(r,"mouseup",this.handleMouseUp);this.on(r,"touchend",this.handleMouseUp)};t.prototype.handleMouseUp=function e(t){var r=this.el_.ownerDocument;var n=this.getChild("seekBar");if(n){n.handleMouseUp(t)}this.off(r,"mousemove",this.throttledHandleMouseSeek);this.off(r,"touchmove",this.throttledHandleMouseSeek);this.off(r,"mouseup",this.handleMouseUp);this.off(r,"touchend",this.handleMouseUp)};return t}(wt);Zn.prototype.options_={children:["seekBar"]};wt.registerComponent("ProgressControl",Zn);var ei=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.on(r,"fullscreenchange",i.handleFullscreenChange);return i}t.prototype.buildCSSClass=function t(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)};t.prototype.handleFullscreenChange=function e(t){if(this.player_.isFullscreen()){this.controlText("Non-Fullscreen")}else{this.controlText("Fullscreen")}};t.prototype.handleClick=function e(t){if(!this.player_.isFullscreen()){this.player_.requestFullscreen()}else{this.player_.exitFullscreen()}};return t}(xn);ei.prototype.controlText_="Fullscreen";wt.registerComponent("FullscreenToggle",ei);var ti=function e(t,r){if(r.tech_&&!r.tech_.featuresVolumeControl){t.addClass("vjs-hidden")}t.on(r,"loadstart",function(){if(!r.tech_.featuresVolumeControl){t.addClass("vjs-hidden")}else{t.removeClass("vjs-hidden")}})};var ri=function(e){U(t,e);function t(){N(this,t);return B(this,e.apply(this,arguments))}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};return t}(wt);wt.registerComponent("VolumeLevel",ri);var ni=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.on("slideractive",i.updateLastVolume_);i.on(r,"volumechange",i.updateARIAAttributes);r.ready(function(){return i.updateARIAAttributes()});return i}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})};t.prototype.handleMouseDown=function t(r){if(!Le(r)){return}e.prototype.handleMouseDown.call(this,r)};t.prototype.handleMouseMove=function e(t){if(!Le(t)){return}this.checkMuted();this.player_.volume(this.calculateDistance(t))};t.prototype.checkMuted=function e(){if(this.player_.muted()){this.player_.muted(false)}};t.prototype.getPercent=function e(){if(this.player_.muted()){return 0}return this.player_.volume()};t.prototype.stepForward=function e(){this.checkMuted();this.player_.volume(this.player_.volume()+.1)};t.prototype.stepBack=function e(){this.checkMuted();this.player_.volume(this.player_.volume()-.1)};t.prototype.updateARIAAttributes=function e(t){var r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r);this.el_.setAttribute("aria-valuetext",r+"%")};t.prototype.volumeAsPercentage_=function e(){return Math.round(this.player_.volume()*100)};t.prototype.updateLastVolume_=function e(){var t=this;var r=this.player_.volume();this.one("sliderinactive",function(){if(t.player_.volume()===0){t.player_.lastVolume_(r)}})};return t}(Gn);ni.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};ni.prototype.playerEvent="volumechange";wt.registerComponent("VolumeBar",ni);var ii=function(e){U(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};N(this,t);n.vertical=n.vertical||false;if(typeof n.volumeBar==="undefined"||X(n.volumeBar)){n.volumeBar=n.volumeBar||{};n.volumeBar.vertical=n.vertical}var i=B(this,e.call(this,r,n));ti(i,r);i.throttledHandleMouseMove=ot(at(i,i.handleMouseMove),25);i.on("mousedown",i.handleMouseDown);i.on("touchstart",i.handleMouseDown);i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active");i.addClass("vjs-slider-active");i.trigger("slideractive")});i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active");i.removeClass("vjs-slider-active");i.trigger("sliderinactive")});return i}t.prototype.createEl=function t(){var r="vjs-volume-horizontal";if(this.options_.vertical){r="vjs-volume-vertical"}return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+r})};t.prototype.handleMouseDown=function e(t){var r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove);this.on(r,"touchmove",this.throttledHandleMouseMove);this.on(r,"mouseup",this.handleMouseUp);this.on(r,"touchend",this.handleMouseUp)};t.prototype.handleMouseUp=function e(t){var r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove);this.off(r,"touchmove",this.throttledHandleMouseMove);this.off(r,"mouseup",this.handleMouseUp);this.off(r,"touchend",this.handleMouseUp)};t.prototype.handleMouseMove=function e(t){this.volumeBar.handleMouseMove(t)};return t}(wt);ii.prototype.options_={children:["volumeBar"]};wt.registerComponent("VolumeControl",ii);var ai=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));ti(i,r);i.on(r,["loadstart","volumechange"],i.update);return i}t.prototype.buildCSSClass=function t(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)};t.prototype.handleClick=function e(t){var r=this.player_.volume();var n=this.player_.lastVolume_();if(r===0){var i=n<.1?.1:n;this.player_.volume(i);this.player_.muted(false)}else{this.player_.muted(this.player_.muted()?false:true)}};t.prototype.update=function e(t){this.updateIcon_();this.updateControlText_()};t.prototype.updateIcon_=function e(){var t=this.player_.volume();var r=3;if(t===0||this.player_.muted()){r=0}else if(t<.33){r=1}else if(t<.67){r=2}for(var n=0;n<4;n++){ve(this.el_,"vjs-vol-"+n)}he(this.el_,"vjs-vol-"+r)};t.prototype.updateControlText_=function e(){var t=this.player_.muted()||this.player_.volume()===0;var r=t?"Unmute":"Mute";if(this.controlText()!==r){this.controlText(r)}};return t}(xn);ai.prototype.controlText_="Mute";wt.registerComponent("MuteToggle",ai);var oi=function(e){U(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};N(this,t);if(typeof n.inline!=="undefined"){n.inline=n.inline}else{n.inline=true}if(typeof n.volumeControl==="undefined"||X(n.volumeControl)){n.volumeControl=n.volumeControl||{};n.volumeControl.vertical=!n.inline}var i=B(this,e.call(this,r,n));ti(i,r);i.on(i.volumeControl,["slideractive"],i.sliderActive_);i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_);return i}t.prototype.sliderActive_=function e(){this.addClass("vjs-slider-active")};t.prototype.sliderInactive_=function e(){this.removeClass("vjs-slider-active")};t.prototype.createEl=function t(){var r="vjs-volume-panel-horizontal";if(!this.options_.inline){r="vjs-volume-panel-vertical"}return e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+r})};return t}(wt);oi.prototype.options_={children:["muteToggle","volumeControl"]};wt.registerComponent("VolumePanel",oi);var si=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));if(n){i.menuButton_=n.menuButton}i.focusedChild_=-1;i.on("keydown",i.handleKeyPress);return i}t.prototype.addItem=function e(t){this.addChild(t);t.on("click",at(this,function(e){if(this.menuButton_){this.menuButton_.unpressButton();if(t.name()!=="CaptionSettingsMenuItem"){this.menuButton_.focus()}}}))};t.prototype.createEl=function t(){var r=this.options_.contentElType||"ul";this.contentEl_=ce(r,{className:"vjs-menu-content"});this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});n.appendChild(this.contentEl_);Ye(n,"click",function(e){e.preventDefault();e.stopImmediatePropagation()});return n};t.prototype.dispose=function t(){this.contentEl_=null;e.prototype.dispose.call(this)};t.prototype.handleKeyPress=function e(t){if(t.which===37||t.which===40){t.preventDefault();this.stepForward()}else if(t.which===38||t.which===39){t.preventDefault();this.stepBack()}};t.prototype.stepForward=function e(){var t=0;if(this.focusedChild_!==undefined){t=this.focusedChild_+1}this.focus(t)};t.prototype.stepBack=function e(){var t=0;if(this.focusedChild_!==undefined){t=this.focusedChild_-1}this.focus(t)};t.prototype.focus=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=this.children().slice();var n=r.length&&r[0].className&&/vjs-menu-title/.test(r[0].className);if(n){r.shift()}if(r.length>0){if(t<0){t=0}else if(t>=r.length){t=r.length-1}this.focusedChild_=t;r[t].el_.focus()}};return t}(wt);wt.registerComponent("Menu",si);var ui=function(e){U(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};N(this,t);var i=B(this,e.call(this,r,n));i.menuButton_=new xn(r,n);i.menuButton_.controlText(i.controlText_);i.menuButton_.el_.setAttribute("aria-haspopup","true");var a=xn.prototype.buildCSSClass();i.menuButton_.el_.className=i.buildCSSClass()+" "+a;i.menuButton_.removeClass("vjs-control");i.addChild(i.menuButton_);i.update();i.enabled_=true;i.on(i.menuButton_,"tap",i.handleClick);i.on(i.menuButton_,"click",i.handleClick);i.on(i.menuButton_,"focus",i.handleFocus);i.on(i.menuButton_,"blur",i.handleBlur);i.on("keydown",i.handleSubmenuKeyPress);return i}t.prototype.update=function e(){var t=this.createMenu();if(this.menu){this.menu.dispose();this.removeChild(this.menu)}this.menu=t;this.addChild(t);this.buttonPressed_=false;this.menuButton_.el_.setAttribute("aria-expanded","false");if(this.items&&this.items.length<=this.hideThreshold_){this.hide()}else{this.show()}};t.prototype.createMenu=function e(){var t=new si(this.player_,{menuButton:this});this.hideThreshold_=0;if(this.options_.title){var r=ce("li",{className:"vjs-menu-title",innerHTML:bt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;t.children_.unshift(r);de(r,t.contentEl())}this.items=this.createItems();if(this.items){for(var n=0;n<this.items.length;n++){t.addItem(this.items[n])}}return t};t.prototype.createItems=function e(){};t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})};t.prototype.buildWrapperCSSClass=function t(){var r="vjs-menu-button";if(this.options_.inline===true){r+="-inline"}else{r+="-popup"}var n=xn.prototype.buildCSSClass();return"vjs-menu-button "+r+" "+n+" "+e.prototype.buildCSSClass.call(this)};t.prototype.buildCSSClass=function t(){var r="vjs-menu-button";if(this.options_.inline===true){r+="-inline"}else{r+="-popup"}return"vjs-menu-button "+r+" "+e.prototype.buildCSSClass.call(this)};t.prototype.controlText=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(t,r)};t.prototype.handleClick=function e(t){this.one(this.menu.contentEl(),"mouseleave",at(this,function(e){this.unpressButton();this.el_.blur()}));if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}};t.prototype.focus=function e(){this.menuButton_.focus()};t.prototype.blur=function e(){this.menuButton_.blur()};t.prototype.handleFocus=function e(){Ye(d,"keydown",at(this,this.handleKeyPress))};t.prototype.handleBlur=function e(){Ke(d,"keydown",at(this,this.handleKeyPress))};t.prototype.handleKeyPress=function e(t){if(t.which===27||t.which===9){if(this.buttonPressed_){this.unpressButton()}if(t.which!==9){t.preventDefault();this.menuButton_.el_.focus()}}else if(t.which===38||t.which===40){if(!this.buttonPressed_){this.pressButton();t.preventDefault()}}};t.prototype.handleSubmenuKeyPress=function e(t){if(t.which===27||t.which===9){if(this.buttonPressed_){this.unpressButton()}if(t.which!==9){t.preventDefault();this.menuButton_.el_.focus()}}};t.prototype.pressButton=function e(){if(this.enabled_){this.buttonPressed_=true;this.menu.lockShowing();this.menuButton_.el_.setAttribute("aria-expanded","true");if(_&&ue()){return}this.menu.focus()}};t.prototype.unpressButton=function e(){if(this.enabled_){this.buttonPressed_=false;this.menu.unlockShowing();this.menuButton_.el_.setAttribute("aria-expanded","false")}};t.prototype.disable=function e(){this.unpressButton();this.enabled_=false;this.addClass("vjs-disabled");this.menuButton_.disable()};t.prototype.enable=function e(){this.enabled_=true;this.removeClass("vjs-disabled");this.menuButton_.enable()};return t}(wt);wt.registerComponent("MenuButton",ui);var li=function(e){U(t,e);function t(r,n){N(this,t);var i=n.tracks;var a=B(this,e.call(this,r,n));if(a.items.length<=1){a.hide()}if(!i){return B(a)}var o=at(a,a.update);i.addEventListener("removetrack",o);i.addEventListener("addtrack",o);a.player_.on("ready",o);a.player_.on("dispose",function(){i.removeEventListener("removetrack",o);i.removeEventListener("addtrack",o)});return a}return t}(ui);wt.registerComponent("TrackButton",li);var ci=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.selectable=n.selectable;i.isSelected_=n.selected||false;i.selected(i.isSelected_);if(i.selectable){i.el_.setAttribute("role","menuitemcheckbox")}else{i.el_.setAttribute("role","menuitem")}return i}t.prototype.createEl=function t(r,n,i){this.nonIconControl=true;return e.prototype.createEl.call(this,"li",G({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)};t.prototype.handleClick=function e(t){this.selected(true)};t.prototype.selected=function e(t){if(this.selectable){if(t){this.addClass("vjs-selected");this.el_.setAttribute("aria-checked","true");this.controlText(", selected");this.isSelected_=true}else{this.removeClass("vjs-selected");this.el_.setAttribute("aria-checked","false");this.controlText("");this.isSelected_=false}}};return t}(Tn);wt.registerComponent("MenuItem",ci);var fi=function(e){U(t,e);function t(r,n){N(this,t);var i=n.track;var a=r.textTracks();n.label=i.label||i.language||"Unknown";n.selected=i.mode==="showing";var s=B(this,e.call(this,r,n));s.track=i;var u=function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}s.handleTracksChange.apply(s,r)};var l=function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}s.handleSelectedLanguageChange.apply(s,r)};r.on(["loadstart","texttrackchange"],u);a.addEventListener("change",u);a.addEventListener("selectedlanguagechange",l);s.on("dispose",function(){r.off(["loadstart","texttrackchange"],u);a.removeEventListener("change",u);a.removeEventListener("selectedlanguagechange",l)});if(a.onchange===undefined){var c=void 0;s.on(["tap","click"],function(){if(M(o.Event)!=="object"){try{c=new o.Event("change")}catch(e){}}if(!c){c=d.createEvent("Event");c.initEvent("change",true,true)}a.dispatchEvent(c)})}s.handleTracksChange();return s}t.prototype.handleClick=function t(r){var n=this.track.kind;var i=this.track.kinds;var a=this.player_.textTracks();if(!i){i=[n]}e.prototype.handleClick.call(this,r);if(!a){return}for(var o=0;o<a.length;o++){var s=a[o];if(s===this.track&&i.indexOf(s.kind)>-1){if(s.mode!=="showing"){s.mode="showing"}}else if(s.mode!=="disabled"){s.mode="disabled"}}};t.prototype.handleTracksChange=function e(t){var r=this.track.mode==="showing";if(r!==this.isSelected_){this.selected(r)}};t.prototype.handleSelectedLanguageChange=function e(t){if(this.track.mode==="showing"){var r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind){return}this.player_.cache_.selectedLanguage={enabled:true,language:this.track.language,kind:this.track.kind}}};t.prototype.dispose=function t(){this.track=null;e.prototype.dispose.call(this)};return t}(ci);wt.registerComponent("TextTrackMenuItem",fi);var di=function(e){U(t,e);function t(r,n){N(this,t);n.track={player:r,kind:n.kind,kinds:n.kinds,default:false,mode:"disabled"};if(!n.kinds){n.kinds=[n.kind]}if(n.label){n.track.label=n.label}else{n.track.label=n.kinds.join(" and ")+" off"}n.selectable=true;return B(this,e.call(this,r,n))}t.prototype.handleTracksChange=function e(t){var r=this.player().textTracks();var n=true;for(var i=0,a=r.length;i<a;i++){var o=r[i];if(this.options_.kinds.indexOf(o.kind)>-1&&o.mode==="showing"){n=false;break}}if(n!==this.isSelected_){this.selected(n)}};t.prototype.handleSelectedLanguageChange=function e(t){var r=this.player().textTracks();var n=true;for(var i=0,a=r.length;i<a;i++){var o=r[i];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&o.mode==="showing"){n=false;break}}if(n){this.player_.cache_.selectedLanguage={enabled:false}}};return t}(fi);wt.registerComponent("OffTextTrackMenuItem",di);var pi=function(e){U(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};N(this,t);n.tracks=r.textTracks();return B(this,e.call(this,r,n))}t.prototype.createItems=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:fi;var n=void 0;if(this.label_){n=this.label_+" off"}t.push(new di(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n}));this.hideThreshold_+=1;var i=this.player_.textTracks();if(!Array.isArray(this.kinds_)){this.kinds_=[this.kind_]}for(var a=0;a<i.length;a++){var o=i[a];if(this.kinds_.indexOf(o.kind)>-1){var s=new r(this.player_,{track:o,selectable:true});s.addClass("vjs-"+o.kind+"-menu-item");t.push(s)}}return t};return t}(li);wt.registerComponent("TextTrackButton",pi);var hi=function(e){U(t,e);function t(r,n){N(this,t);var i=n.track;var a=n.cue;var o=r.currentTime();n.selectable=true;n.label=a.text;n.selected=a.startTime<=o&&o<a.endTime;var s=B(this,e.call(this,r,n));s.track=i;s.cue=a;i.addEventListener("cuechange",at(s,s.update));return s}t.prototype.handleClick=function t(r){e.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};t.prototype.update=function e(t){var r=this.cue;var n=this.player_.currentTime();this.selected(r.startTime<=n&&n<r.endTime)};return t}(ci);wt.registerComponent("ChaptersTrackMenuItem",hi);var vi=function(e){U(t,e);function t(r,n,i){N(this,t);return B(this,e.call(this,r,n,i))}t.prototype.buildCSSClass=function t(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function t(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)};t.prototype.update=function t(r){if(!this.track_||r&&(r.type==="addtrack"||r.type==="removetrack")){this.setTrack(this.findChaptersTrack())}e.prototype.update.call(this)};t.prototype.setTrack=function e(t){if(this.track_===t){return}if(!this.updateHandler_){this.updateHandler_=this.update.bind(this)}if(this.track_){var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(r){r.removeEventListener("load",this.updateHandler_)}this.track_=null}this.track_=t;if(this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(n){n.addEventListener("load",this.updateHandler_)}}};t.prototype.findChaptersTrack=function e(){var t=this.player_.textTracks()||[];for(var r=t.length-1;r>=0;r--){var n=t[r];if(n.kind===this.kind_){return n}}};t.prototype.getMenuCaption=function e(){if(this.track_&&this.track_.label){return this.track_.label}return this.localize(bt(this.kind_))};t.prototype.createMenu=function t(){this.options_.title=this.getMenuCaption();return e.prototype.createMenu.call(this)};t.prototype.createItems=function e(){var t=[];if(!this.track_){return t}var r=this.track_.cues;if(!r){return t}for(var n=0,i=r.length;n<i;n++){var a=r[n];var o=new hi(this.player_,{track:this.track_,cue:a});t.push(o)}return t};return t}(pi);vi.prototype.kind_="chapters";vi.prototype.controlText_="Chapters";wt.registerComponent("ChaptersButton",vi);var yi=function(e){U(t,e);function t(r,n,i){N(this,t);var a=B(this,e.call(this,r,n,i));var o=r.textTracks();var s=at(a,a.handleTracksChange);o.addEventListener("change",s);a.on("dispose",function(){o.removeEventListener("change",s)});return a}t.prototype.handleTracksChange=function e(t){var r=this.player().textTracks();var n=false;for(var i=0,a=r.length;i<a;i++){var o=r[i];if(o.kind!==this.kind_&&o.mode==="showing"){n=true;break}}if(n){this.disable()}else{this.enable()}};t.prototype.buildCSSClass=function t(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function t(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)};return t}(pi);yi.prototype.kind_="descriptions";yi.prototype.controlText_="Descriptions";wt.registerComponent("DescriptionsButton",yi);var mi=function(e){U(t,e);function t(r,n,i){N(this,t);return B(this,e.call(this,r,n,i))}t.prototype.buildCSSClass=function t(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function t(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)};return t}(pi);mi.prototype.kind_="subtitles";mi.prototype.controlText_="Subtitles";wt.registerComponent("SubtitlesButton",mi);var gi=function(e){U(t,e);function t(r,n){N(this,t);n.track={player:r,kind:n.kind,label:n.kind+" settings",selectable:false,default:false,mode:"disabled"};n.selectable=false;n.name="CaptionSettingsMenuItem";var i=B(this,e.call(this,r,n));i.addClass("vjs-texttrack-settings");i.controlText(", opens "+n.kind+" settings dialog");return i}t.prototype.handleClick=function e(t){this.player().getChild("textTrackSettings").open()};return t}(fi);wt.registerComponent("CaptionSettingsMenuItem",gi);var _i=function(e){U(t,e);function t(r,n,i){N(this,t);return B(this,e.call(this,r,n,i))}t.prototype.buildCSSClass=function t(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function t(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)};t.prototype.createItems=function t(){var r=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")){r.push(new gi(this.player_,{kind:this.kind_}));this.hideThreshold_+=1}return e.prototype.createItems.call(this,r)};return t}(pi);_i.prototype.kind_="captions";_i.prototype.controlText_="Captions";wt.registerComponent("CaptionsButton",_i);var bi=function(e){U(t,e);function t(){N(this,t);return B(this,e.apply(this,arguments))}t.prototype.createEl=function t(r,n,i){var a='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);if(this.options_.track.kind==="captions"){a+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "}a+="</span>";var o=e.prototype.createEl.call(this,r,G({innerHTML:a},n),i);return o};return t}(fi);wt.registerComponent("SubsCapsMenuItem",bi);var Ti=function(e){U(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};N(this,t);var i=B(this,e.call(this,r,n));i.label_="subtitles";if(["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1){i.label_="captions"}i.menuButton_.controlText(bt(i.label_));return i}t.prototype.buildCSSClass=function t(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function t(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)};t.prototype.createItems=function t(){var r=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")){r.push(new gi(this.player_,{kind:this.label_}));this.hideThreshold_+=1}r=e.prototype.createItems.call(this,r,bi);return r};return t}(pi);Ti.prototype.kinds_=["captions","subtitles"];Ti.prototype.controlText_="Subtitles";wt.registerComponent("SubsCapsButton",Ti);var Si=function(e){U(t,e);function t(r,n){N(this,t);var i=n.track;var a=r.audioTracks();n.label=i.label||i.language||"Unknown";n.selected=i.enabled;var o=B(this,e.call(this,r,n));o.track=i;var s=function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}o.handleTracksChange.apply(o,r)};a.addEventListener("change",s);o.on("dispose",function(){a.removeEventListener("change",s)});return o}t.prototype.handleClick=function t(r){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,r);for(var i=0;i<n.length;i++){var a=n[i];a.enabled=a===this.track}};t.prototype.handleTracksChange=function e(t){this.selected(this.track.enabled)};return t}(ci);wt.registerComponent("AudioTrackMenuItem",Si);var wi=function(e){U(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};N(this,t);n.tracks=r.audioTracks();return B(this,e.call(this,r,n))}t.prototype.buildCSSClass=function t(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function t(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)};t.prototype.createItems=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];this.hideThreshold_=1;var r=this.player_.audioTracks();for(var n=0;n<r.length;n++){var i=r[n];t.push(new Si(this.player_,{track:i,selectable:true}))}return t};return t}(li);wi.prototype.controlText_="Audio Track";wt.registerComponent("AudioTrackButton",wi);var Ei=function(e){U(t,e);function t(r,n){N(this,t);var i=n.rate;var a=parseFloat(i,10);n.label=i;n.selected=a===1;n.selectable=true;var o=B(this,e.call(this,r,n));o.label=i;o.rate=a;o.on(r,"ratechange",o.update);return o}t.prototype.handleClick=function t(r){e.prototype.handleClick.call(this);this.player().playbackRate(this.rate)};t.prototype.update=function e(t){this.selected(this.player().playbackRate()===this.rate)};return t}(ci);Ei.prototype.contentElType="button";wt.registerComponent("PlaybackRateMenuItem",Ei);var ki=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.updateVisibility();i.updateLabel();i.on(r,"loadstart",i.updateVisibility);i.on(r,"ratechange",i.updateLabel);return i}t.prototype.createEl=function t(){var r=e.prototype.createEl.call(this);this.labelEl_=ce("div",{className:"vjs-playback-rate-value",innerHTML:"1x"});r.appendChild(this.labelEl_);return r};t.prototype.dispose=function t(){this.labelEl_=null;e.prototype.dispose.call(this)};t.prototype.buildCSSClass=function t(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function t(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)};t.prototype.createMenu=function e(){var t=new si(this.player());var r=this.playbackRates();if(r){for(var n=r.length-1;n>=0;n--){t.addChild(new Ei(this.player(),{rate:r[n]+"x"}))}}return t};t.prototype.updateARIAAttributes=function e(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())};t.prototype.handleClick=function e(t){var r=this.player().playbackRate();var n=this.playbackRates();var i=n[0];for(var a=0;a<n.length;a++){if(n[a]>r){i=n[a];break}}this.player().playbackRate(i)};t.prototype.playbackRates=function e(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates};t.prototype.playbackRateSupported=function e(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0};t.prototype.updateVisibility=function e(t){if(this.playbackRateSupported()){this.removeClass("vjs-hidden")}else{this.addClass("vjs-hidden")}};t.prototype.updateLabel=function e(t){if(this.playbackRateSupported()){this.labelEl_.innerHTML=this.player().playbackRate()+"x"}};return t}(ui);ki.prototype.controlText_="Playback Rate";wt.registerComponent("PlaybackRateMenuButton",ki);var Pi=function(e){U(t,e);function t(){N(this,t);return B(this,e.apply(this,arguments))}t.prototype.buildCSSClass=function t(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)};t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};return t}(wt);wt.registerComponent("Spacer",Pi);var Oi=function(e){U(t,e);function t(){N(this,t);return B(this,e.apply(this,arguments))}t.prototype.buildCSSClass=function t(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)};t.prototype.createEl=function t(){var r=e.prototype.createEl.call(this,{className:this.buildCSSClass()});r.innerHTML="\xa0";return r};return t}(Pi);wt.registerComponent("CustomControlSpacer",Oi);var Ci=function(e){U(t,e);function t(){N(this,t);return B(this,e.apply(this,arguments))}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})};return t}(wt);Ci.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};wt.registerComponent("ControlBar",Ci);var Ai=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));i.on(r,"error",i.open);return i}t.prototype.buildCSSClass=function t(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)};t.prototype.content=function e(){var t=this.player().error();return t?this.localize(t.message):""};return t}(Xt);Ai.prototype.options_=St(Xt.prototype.options_,{pauseOnOpen:false,fillAlways:true,temporary:false,uncloseable:true});wt.registerComponent("ErrorDisplay",Ai);var xi="vjs-text-track-settings";var Ii=["#000","Black"];var Li=["#00F","Blue"];var Di=["#0FF","Cyan"];var Ri=["#0F0","Green"];var ji=["#F0F","Magenta"];var Mi=["#F00","Red"];var Ni=["#FFF","White"];var Ui=["#FF0","Yellow"];var Bi=["1","Opaque"];var Fi=["0.5","Semi-Transparent"];var qi=["0","Transparent"];var Hi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ii,Ni,Mi,Ri,Li,Ui,ji,Di]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Bi,Fi,qi]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Ni,Ii,Mi,Ri,Li,Ui,ji,Di]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function e(t){return t==="1.00"?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Bi,Fi]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[qi,Fi,Bi]}};Hi.windowColor.options=Hi.backgroundColor.options;function Vi(e,t){if(t){e=t(e)}if(e&&e!=="none"){return e}}function Wi(e,t){var r=e.options[e.options.selectedIndex].value;return Vi(r,t)}function Gi(e,t,r){if(!t){return}for(var n=0;n<e.options.length;n++){if(Vi(e.options[n].value,r)===t){e.selectedIndex=n;break}}}var zi=function(e){U(t,e);function t(r,n){N(this,t);n.temporary=false;var i=B(this,e.call(this,r,n));i.updateDisplay=at(i,i.updateDisplay);i.fill();i.hasBeenOpened_=i.hasBeenFilled_=true;i.endDialog=ce("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")});i.el().appendChild(i.endDialog);i.setDefaults();if(n.persistTextTrackSettings===undefined){i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings}i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings();i.close()});i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults();i.updateDisplay()});V(Hi,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)});if(i.options_.persistTextTrackSettings){i.restoreSettings()}return i}t.prototype.dispose=function t(){this.endDialog=null;e.prototype.dispose.call(this)};t.prototype.createElSelect_=function e(t){var r=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"label";var a=Hi[t];var o=a.id.replace("%s",this.id_);return["<"+i+' id="'+o+'" class="'+(i==="label"?"vjs-label":"")+'">',this.localize(a.label),"</"+i+">",'<select aria-labelledby="'+(n!==""?n+" ":"")+o+'">'].concat(a.options.map(function(e){var t=o+"-"+e[1];return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+(n!==""?n+" ":"")+o+" "+t+'">',r.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")};t.prototype.createElFgColor_=function e(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")};t.prototype.createElBgColor_=function e(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")};t.prototype.createElWinColor_=function e(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")};t.prototype.createElColors_=function e(){return ce("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})};t.prototype.createElFont_=function e(){return ce("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})};t.prototype.createElControls_=function e(){var t=this.localize("restore all settings to the default values");return ce("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})};t.prototype.content=function e(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]};t.prototype.label=function e(){return this.localize("Caption Settings Dialog")};t.prototype.description=function e(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")};t.prototype.buildCSSClass=function t(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"};t.prototype.getValues=function e(){var t=this;return W(Hi,function(e,r,n){var i=Wi(t.$(r.selector),r.parser);if(i!==undefined){e[n]=i}return e},{})};t.prototype.setValues=function e(t){var r=this;V(Hi,function(e,n){Gi(r.$(e.selector),t[n],e.parser)})};t.prototype.setDefaults=function e(){var t=this;V(Hi,function(e){var r=e.hasOwnProperty("default")?e["default"]:0;t.$(e.selector).selectedIndex=r})};t.prototype.restoreSettings=function e(){var t=void 0;try{t=JSON.parse(o.localStorage.getItem(xi))}catch(e){Q.warn(e)}if(t){this.setValues(t)}};t.prototype.saveSettings=function e(){if(!this.options_.persistTextTrackSettings){return}var t=this.getValues();try{if(Object.keys(t).length){o.localStorage.setItem(xi,JSON.stringify(t))}else{o.localStorage.removeItem(xi)}}catch(e){Q.warn(e)}};t.prototype.updateDisplay=function e(){var t=this.player_.getChild("textTrackDisplay");if(t){t.updateDisplay()}};t.prototype.conditionalBlur_=function e(){this.previouslyActiveEl_=null;this.off(d,"keydown",this.handleKeyDown);var t=this.player_.controlBar;var r=t&&t.subsCapsButton;var n=t&&t.captionsButton;if(r){r.focus()}else if(n){n.focus()}};return t}(Xt);wt.registerComponent("TextTrackSettings",zi);var Xi=function(e){U(t,e);function t(r,n){N(this,t);var i=n.ResizeObserver||o.ResizeObserver;if(n.ResizeObserver===null){i=false}var a=St({createEl:!i},n);var s=B(this,e.call(this,r,a));s.ResizeObserver=n.ResizeObserver||o.ResizeObserver;s.loadListener_=null;s.resizeObserver_=null;s.debouncedHandler_=st(function(){s.resizeHandler()},100,false,r);if(i){s.resizeObserver_=new s.ResizeObserver(s.debouncedHandler_);s.resizeObserver_.observe(r.el())}else{s.loadListener_=function(){if(s.el_.contentWindow){Ye(s.el_.contentWindow,"resize",s.debouncedHandler_)}s.off("load",s.loadListener_)};s.on("load",s.loadListener_)}return s}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})};t.prototype.resizeHandler=function e(){this.player_.trigger("playerresize")};t.prototype.dispose=function e(){if(this.resizeObserver_){this.resizeObserver_.unobserve(this.player_.el());this.resizeObserver_.disconnect()}if(this.el_&&this.el_.contentWindow){Ke(this.el_.contentWindow,"resize",this.debouncedHandler_)}if(this.loadListener_){this.off("load",this.loadListener_)}this.ResizeObserver=null;this.resizeObserver=null;this.debouncedHandler_=null;this.loadListener_=null};return t}(wt);wt.registerComponent("ResizeManager",Xi);var Yi=F(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);var Ki=function(e){U(t,e);function t(r,n){N(this,t);var i=B(this,e.call(this,r,n));if(r.enableSourceset){i.setupSourcesetHandling_()}var a=r.source;var o=false;if(a&&(i.el_.currentSrc!==a.src||r.tag&&r.tag.initNetworkState_===3)){i.setSource(a)}else{i.handleLateInit_(i.el_)}if(i.el_.hasChildNodes()){var s=i.el_.childNodes;var u=s.length;var l=[];while(u--){var c=s[u];var f=c.nodeName.toLowerCase();if(f==="track"){if(!i.featuresNativeTextTracks){l.push(c)}else{i.remoteTextTrackEls().addTrackElement_(c);i.remoteTextTracks().addTrack(c.track);i.textTracks().addTrack(c.track);if(!o&&!i.el_.hasAttribute("crossorigin")&&fr(c.src)){o=true}}}}for(var d=0;d<l.length;d++){i.el_.removeChild(l[d])}}i.proxyNativeTracks_();if(i.featuresNativeTextTracks&&o){Q.warn(ee(Yi))}i.restoreMetadataTracksInIOSNativePlayer_();if((D||m||E)&&r.nativeControlsForTouch===true){i.setControls(true)}i.proxyWebkitFullscreen_();i.triggerReady();return i}t.prototype.dispose=function r(){t.disposeMediaElement(this.el_);this.options_=null;e.prototype.dispose.call(this)};t.prototype.setupSourcesetHandling_=function e(){var t=this;if(!this.featuresSourceset){return}var r=this.el();if(r.src||r.currentSrc&&this.el().initNetworkState_!==3){this.triggerSourceset(r.src||r.currentSrc)}var n=o.HTMLMediaElement.prototype;var i={};if(Object.getOwnPropertyDescriptor(r,"src")){i=Object.getOwnPropertyDescriptor(r,"src")}else if(Object.getOwnPropertyDescriptor(n,"src")){i=St(i,Object.getOwnPropertyDescriptor(n,"src"))}if(!i.get){i.get=function(){return n.getAttribute.call(this,"src")}}if(!i.set){i.set=function(e){return n.setAttribute.call(this,"src",e)}}if(typeof i.enumerable==="undefined"){i.enumerable=true}Object.defineProperty(r,"src",{get:i.get.bind(r),set:function e(n){var a=i.set.call(r,n);t.triggerSourceset(n);return a},configurable:true,enumerable:i.enumerable});var a=r.setAttribute;r.setAttribute=function(e,n){var i=a.call(r,e,n);if(e==="src"){t.triggerSourceset(n)}return i};var s=r.load;r.load=function(){var e=s.call(r);t.triggerSourceset(r.src||"");return e}};t.prototype.restoreMetadataTracksInIOSNativePlayer_=function e(){var t=this.textTracks();var r=void 0;var n=function e(){r=[];for(var n=0;n<t.length;n++){var i=t[n];if(i.kind==="metadata"){r.push({track:i,storedMode:i.mode})}}};n();t.addEventListener("change",n);this.on("dispose",function(){return t.removeEventListener("change",n)});var i=function e(){for(var n=0;n<r.length;n++){var i=r[n];if(i.track.mode==="disabled"&&i.track.mode!==i.storedMode){i.track.mode=i.storedMode}}t.removeEventListener("change",e)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",n);t.removeEventListener("change",i);t.addEventListener("change",i)});this.on("webkitendfullscreen",function(){t.removeEventListener("change",n);t.addEventListener("change",n);t.removeEventListener("change",i)})};t.prototype.proxyNativeTracks_=function e(){var t=this;Xr.names.forEach(function(e){var r=Xr[e];var n=t.el()[r.getterName];var i=t[r.getterName]();if(!t["featuresNative"+r.capitalName+"Tracks"]||!n||!n.addEventListener){return}var a={change:function e(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function e(t){i.addTrack(t.track)},removetrack:function e(t){i.removeTrack(t.track)}};var o=function e(){var t=[];for(var r=0;r<i.length;r++){var a=false;for(var o=0;o<n.length;o++){if(n[o]===i[r]){a=true;break}}if(!a){t.push(i[r])}}while(t.length){i.removeTrack(t.shift())}};Object.keys(a).forEach(function(e){var r=a[e];n.addEventListener(e,r);t.on("dispose",function(t){return n.removeEventListener(e,r)})});t.on("loadstart",o);t.on("dispose",function(e){return t.off("loadstart",o)})})};t.prototype.createEl=function e(){var r=this.options_.tag;if(!r||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(r){var n=r.cloneNode(true);if(r.parentNode){r.parentNode.insertBefore(n,r)}t.disposeMediaElement(r);r=n}else{r=d.createElement("video");var i=this.options_.tag&&ge(this.options_.tag);var a=St({},i);if(!D||this.options_.nativeControlsForTouch!==true){delete a.controls}me(r,G(a,{id:this.options_.techId,class:"vjs-tech"}))}r.playerId=this.options_.playerId}if(typeof this.options_.preload!=="undefined"){be(r,"preload",this.options_.preload)}var o=["loop","muted","playsinline","autoplay"];for(var s=0;s<o.length;s++){var u=o[s];var l=this.options_[u];if(typeof l!=="undefined"){if(l){be(r,u,u)}else{Te(r,u)}r[u]=l}}return r};t.prototype.handleLateInit_=function e(t){if(t.networkState===0||t.networkState===3){return}if(t.readyState===0){var r=false;var n=function e(){r=true};this.on("loadstart",n);var i=function e(){if(!r){this.trigger("loadstart")}};this.on("loadedmetadata",i);this.ready(function(){this.off("loadstart",n);this.off("loadedmetadata",i);if(!r){this.trigger("loadstart")}});return}var a=["loadstart"];a.push("loadedmetadata");if(t.readyState>=2){a.push("loadeddata")}if(t.readyState>=3){a.push("canplay")}if(t.readyState>=4){a.push("canplaythrough")}this.ready(function(){a.forEach(function(e){this.trigger(e)},this)})};t.prototype.setCurrentTime=function e(t){try{this.el_.currentTime=t}catch(e){Q(e,"Video is not ready. (Video.js)")}};t.prototype.duration=function e(){var t=this;if(this.el_.duration===Infinity&&T&&O&&this.el_.currentTime===0){var r=function e(){if(t.el_.currentTime>0){if(t.el_.duration===Infinity){t.trigger("durationchange")}t.off("timeupdate",e)}};this.on("timeupdate",r);return NaN}return this.el_.duration||NaN};t.prototype.width=function e(){return this.el_.offsetWidth};t.prototype.height=function e(){return this.el_.offsetHeight};t.prototype.proxyWebkitFullscreen_=function e(){var t=this;if(!("webkitDisplayingFullscreen"in this.el_)){return}var r=function e(){this.trigger("fullscreenchange",{isFullscreen:false})};var n=function e(){if("webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"){this.one("webkitendfullscreen",r);this.trigger("fullscreenchange",{isFullscreen:true})}};this.on("webkitbeginfullscreen",n);this.on("dispose",function(){t.off("webkitbeginfullscreen",n);t.off("webkitendfullscreen",r)})};t.prototype.supportsFullScreen=function e(){if(typeof this.el_.webkitEnterFullScreen==="function"){var t=o.navigator&&o.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t)){return true}}return false};t.prototype.enterFullScreen=function e(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA){this.el_.play();this.setTimeout(function(){t.pause();t.webkitEnterFullScreen()},0)}else{t.webkitEnterFullScreen()}};t.prototype.exitFullScreen=function e(){this.el_.webkitExitFullScreen()};t.prototype.src=function e(t){if(t===undefined){return this.el_.src}this.setSrc(t)};t.prototype.reset=function e(){t.resetMediaElement(this.el_)};t.prototype.currentSrc=function e(){if(this.currentSource_){return this.currentSource_.src}return this.el_.currentSrc};t.prototype.setControls=function e(t){this.el_.controls=!!t};t.prototype.addTextTrack=function t(r,n,i){if(!this.featuresNativeTextTracks){return e.prototype.addTextTrack.call(this,r,n,i)}return this.el_.addTextTrack(r,n,i)};t.prototype.createRemoteTextTrack=function t(r){if(!this.featuresNativeTextTracks){return e.prototype.createRemoteTextTrack.call(this,r)}var n=d.createElement("track");if(r.kind){n.kind=r.kind}if(r.label){n.label=r.label}if(r.language||r.srclang){n.srclang=r.language||r.srclang}if(r["default"]){n["default"]=r["default"]}if(r.id){n.id=r.id}if(r.src){n.src=r.src}return n};t.prototype.addRemoteTextTrack=function t(r,n){var i=e.prototype.addRemoteTextTrack.call(this,r,n);if(this.featuresNativeTextTracks){this.el().appendChild(i)}return i};t.prototype.removeRemoteTextTrack=function t(r){e.prototype.removeRemoteTextTrack.call(this,r);if(this.featuresNativeTextTracks){var n=this.$$("track");var i=n.length;while(i--){if(r===n[i]||r===n[i].track){this.el().removeChild(n[i])}}}};t.prototype.getVideoPlaybackQuality=function e(){if(typeof this.el().getVideoPlaybackQuality==="function"){return this.el().getVideoPlaybackQuality()}var t={};if(typeof this.el().webkitDroppedFrameCount!=="undefined"&&typeof this.el().webkitDecodedFrameCount!=="undefined"){t.droppedVideoFrames=this.el().webkitDroppedFrameCount;t.totalVideoFrames=this.el().webkitDecodedFrameCount}if(o.performance&&typeof o.performance.now==="function"){t.creationTime=o.performance.now()}else if(o.performance&&o.performance.timing&&typeof o.performance.timing.navigationStart==="number"){t.creationTime=o.Date.now()-o.performance.timing.navigationStart}return t};return t}(Qr);if(oe()){Ki.TEST_VID=d.createElement("video");var $i=d.createElement("track");$i.kind="captions";$i.srclang="en";$i.label="English";Ki.TEST_VID.appendChild($i)}Ki.isSupported=function(){try{Ki.TEST_VID.volume=.5}catch(e){return false}return!!(Ki.TEST_VID&&Ki.TEST_VID.canPlayType)};Ki.canPlayType=function(e){return Ki.TEST_VID.canPlayType(e)};Ki.canPlaySource=function(e,t){return Ki.canPlayType(e.type)};Ki.canControlVolume=function(){try{var e=Ki.TEST_VID.volume;Ki.TEST_VID.volume=e/2+.1;return e!==Ki.TEST_VID.volume}catch(e){return false}};Ki.canControlPlaybackRate=function(){if(T&&O&&C<58){return false}try{var e=Ki.TEST_VID.playbackRate;Ki.TEST_VID.playbackRate=e/2+.1;return e!==Ki.TEST_VID.playbackRate}catch(e){return false}};Ki.canOverrideAttributes=function(){if(A){return false}try{var e=function e(){};Object.defineProperty(d.createElement("video"),"src",{get:e,set:e});Object.defineProperty(d.createElement("audio"),"src",{get:e,set:e})}catch(e){return false}return true};Ki.supportsNativeTextTracks=function(){return L};Ki.supportsNativeVideoTracks=function(){return!!(Ki.TEST_VID&&Ki.TEST_VID.videoTracks)};Ki.supportsNativeAudioTracks=function(){return!!(Ki.TEST_VID&&Ki.TEST_VID.audioTracks)};Ki.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];Ki.prototype.featuresVolumeControl=Ki.canControlVolume();Ki.prototype.featuresPlaybackRate=Ki.canControlPlaybackRate();Ki.prototype.featuresSourceset=Ki.canOverrideAttributes();Ki.prototype.movingMediaElementInDOM=!_;Ki.prototype.featuresFullscreenResize=true;Ki.prototype.featuresProgressEvents=true;Ki.prototype.featuresTimeupdateEvents=true;Ki.prototype.featuresNativeTextTracks=Ki.supportsNativeTextTracks();Ki.prototype.featuresNativeVideoTracks=Ki.supportsNativeVideoTracks();Ki.prototype.featuresNativeAudioTracks=Ki.supportsNativeAudioTracks();var Ji=Ki.TEST_VID&&Ki.TEST_VID.constructor.prototype.canPlayType;var Qi=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;var Zi=/^video\/mp4/i;Ki.patchCanPlayType=function(){if(S>=4&&!k&&!O){Ki.TEST_VID.constructor.prototype.canPlayType=function(e){if(e&&Qi.test(e)){return"maybe"}return Ji.call(this,e)}}else if(w){Ki.TEST_VID.constructor.prototype.canPlayType=function(e){if(e&&Zi.test(e)){return"maybe"}return Ji.call(this,e)}}};Ki.unpatchCanPlayType=function(){var e=Ki.TEST_VID.constructor.prototype.canPlayType;Ki.TEST_VID.constructor.prototype.canPlayType=Ji;return e};Ki.patchCanPlayType();Ki.disposeMediaElement=function(e){if(!e){return}if(e.parentNode){e.parentNode.removeChild(e)}while(e.hasChildNodes()){e.removeChild(e.firstChild)}e.removeAttribute("src");if(typeof e.load==="function"){(function(){try{e.load()}catch(e){}})()}};Ki.resetMediaElement=function(e){if(!e){return}var t=e.querySelectorAll("source");var r=t.length;while(r--){e.removeChild(t[r])}e.removeAttribute("src");if(typeof e.load==="function"){(function(){try{e.load()}catch(e){}})()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Ki.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){Ki.prototype["set"+bt(e)]=function(t){this.el_[e]=t;if(t){this.el_.setAttribute(e,e)}else{this.el_.removeAttribute(e)}}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){Ki.prototype[e]=function(){return this.el_[e]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){Ki.prototype["set"+bt(e)]=function(t){this.el_[e]=t}});["pause","load","play"].forEach(function(e){Ki.prototype[e]=function(){return this.el_[e]()}});Qr.withSourceHandlers(Ki);Ki.nativeSourceHandler={};Ki.nativeSourceHandler.canPlayType=function(e){try{return Ki.TEST_VID.canPlayType(e)}catch(e){return""}};Ki.nativeSourceHandler.canHandleSource=function(e,t){if(e.type){return Ki.nativeSourceHandler.canPlayType(e.type)}else if(e.src){var r=cr(e.src);return Ki.nativeSourceHandler.canPlayType("video/"+r)}return""};Ki.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)};Ki.nativeSourceHandler.dispose=function(){};Ki.registerSourceHandler(Ki.nativeSourceHandler);Qr.registerTech("Html5",Ki);var ea=F(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);var ta=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","resize","volumechange","texttrackchange"];var ra=function(e){U(t,e);function t(n,i,a){N(this,t);n.id=n.id||"vjs_video_"+Ne();i=G(t.getTagSettings(n),i);i.initChildren=false;i.createEl=false;i.evented=false;i.reportTouchActivity=false;if(!i.language){if(typeof n.closest==="function"){var o=n.closest("[lang]");if(o&&o.getAttribute){i.language=o.getAttribute("lang")}}else{var s=n;while(s&&s.nodeType===1){if(ge(s).hasOwnProperty("lang")){i.language=s.getAttribute("lang");break}s=s.parentNode}}}var u=B(this,e.call(this,null,i,a));u.isPosterFromTech_=false;u.isReady_=false;u.hasStarted_=false;u.userActive_=false;if(!u.options_||!u.options_.techOrder||!u.options_.techOrder.length){throw new Error("No techOrder specified. Did you overwrite "+"videojs.options instead of just changing the "+"properties you want to override?")}u.tag=n;u.tagAttributes=n&&ge(n);u.language(u.options_.language);if(i.languages){var l={};Object.getOwnPropertyNames(i.languages).forEach(function(e){l[e.toLowerCase()]=i.languages[e]});u.languages_=l}else{u.languages_=t.prototype.options_.languages}u.cache_={};u.poster_=i.poster||"";u.controls_=!!i.controls;u.cache_.lastVolume=1;n.controls=false;n.removeAttribute("controls");u.scrubbing_=false;u.el_=u.createEl();mt(u,{eventBusKey:"el_"});var c=St(u.options_);if(i.plugins){var f=i.plugins;Object.keys(f).forEach(function(e){if(typeof this[e]==="function"){this[e](f[e])}else{throw new Error('plugin "'+e+'" does not exist')}},u)}u.options_.playerOptions=c;u.middleware_=[];u.initChildren();u.isAudio(n.nodeName.toLowerCase()==="audio");if(u.controls()){u.addClass("vjs-controls-enabled")}else{u.addClass("vjs-controls-disabled")}u.el_.setAttribute("role","region");if(u.isAudio()){u.el_.setAttribute("aria-label",u.localize("Audio Player"))}else{u.el_.setAttribute("aria-label",u.localize("Video Player"))}if(u.isAudio()){u.addClass("vjs-audio")}if(u.flexNotSupported_()){u.addClass("vjs-no-flex")}if(!_){u.addClass("vjs-workinghover")}t.players[u.id_]=u;var d=r.split(".")[0];u.addClass("vjs-v"+d);u.userActive(true);u.reportUserActivity();u.listenForUserActivity_();u.on("fullscreenchange",u.handleFullscreenChange_);u.on("stageclick",u.handleStageClick_);u.changingSrc_=false;u.playWaitingForReady_=false;u.playOnLoadstart_=null;return u}t.prototype.dispose=function r(){this.trigger("dispose");this.off("dispose");if(this.styleEl_&&this.styleEl_.parentNode){this.styleEl_.parentNode.removeChild(this.styleEl_);this.styleEl_=null}t.players[this.id_]=null;if(this.tag&&this.tag.player){this.tag.player=null}if(this.el_&&this.el_.player){this.el_.player=null}if(this.tech_){this.tech_.dispose();this.isPosterFromTech_=false;this.poster_=""}if(this.playerElIngest_){this.playerElIngest_=null}if(this.tag){this.tag=null}hn(this);e.prototype.dispose.call(this)};t.prototype.createEl=function t(){var r=this.tag;var n=void 0;var i=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player");var a=this.tag.tagName.toLowerCase()==="video-js";if(i){n=this.el_=r.parentNode}else if(!a){n=this.el_=e.prototype.createEl.call(this,"div")}var s=ge(r);if(a){n=this.el_=r;r=this.tag=d.createElement("video");while(n.children.length){r.appendChild(n.firstChild)}if(!pe(n,"video-js")){he(n,"video-js")}n.appendChild(r);i=this.playerElIngest_=n}r.setAttribute("tabindex","-1");r.removeAttribute("width");r.removeAttribute("height");Object.getOwnPropertyNames(s).forEach(function(e){if(e==="class"){n.className+=" "+s[e];if(a){r.className+=" "+s[e]}}else{n.setAttribute(e,s[e]);if(a){r.setAttribute(e,s[e])}}});r.playerId=r.id;r.id+="_html5_api";r.className="vjs-tech";r.player=n.player=this;this.addClass("vjs-paused");if(o.VIDEOJS_NO_DYNAMIC_STYLE!==true){this.styleEl_=nt("vjs-styles-dimensions");var u=De(".vjs-styles-defaults");var l=De("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.width(this.options_.width);this.height(this.options_.height);this.fluid(this.options_.fluid);this.aspectRatio(this.options_.aspectRatio);var c=r.getElementsByTagName("a");for(var f=0;f<c.length;f++){var p=c.item(f);he(p,"vjs-hidden");p.setAttribute("hidden","hidden")}r.initNetworkState_=r.networkState;if(r.parentNode&&!i){r.parentNode.insertBefore(n,r)}de(r,n);this.children_.unshift(r);this.el_.setAttribute("lang",this.language_);this.el_=n;return n};t.prototype.width=function e(t){return this.dimension("width",t)};t.prototype.height=function e(t){return this.dimension("height",t)};t.prototype.dimension=function e(t,r){var n=t+"_";if(r===undefined){return this[n]||0}if(r===""){this[n]=undefined;this.updateStyleEl_();return}var i=parseFloat(r);if(isNaN(i)){Q.error('Improper value "'+r+'" supplied for for '+t);return}this[n]=i;this.updateStyleEl_()};t.prototype.fluid=function e(t){if(t===undefined){return!!this.fluid_}this.fluid_=!!t;if(t){this.addClass("vjs-fluid")}else{this.removeClass("vjs-fluid")}this.updateStyleEl_()};t.prototype.aspectRatio=function e(t){if(t===undefined){return this.aspectRatio_}if(!/^\d+\:\d+$/.test(t)){throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.")}this.aspectRatio_=t;this.fluid(true);this.updateStyleEl_()};t.prototype.updateStyleEl_=function e(){if(o.VIDEOJS_NO_DYNAMIC_STYLE===true){var t=typeof this.width_==="number"?this.width_:this.options_.width;var r=typeof this.height_==="number"?this.height_:this.options_.height;var n=this.tech_&&this.tech_.el();if(n){if(t>=0){n.width=t}if(r>=0){n.height=r}}return}var i=void 0;var a=void 0;var s=void 0;var u=void 0;if(this.aspectRatio_!==undefined&&this.aspectRatio_!=="auto"){s=this.aspectRatio_}else if(this.videoWidth()>0){s=this.videoWidth()+":"+this.videoHeight()}else{s="16:9"}var l=s.split(":");var c=l[1]/l[0];if(this.width_!==undefined){i=this.width_}else if(this.height_!==undefined){i=this.height_/c}else{i=this.videoWidth()||300}if(this.height_!==undefined){a=this.height_}else{a=i*c}if(/^[^a-zA-Z]/.test(this.id())){u="dimensions-"+this.id()}else{u=this.id()+"-dimensions"}this.addClass(u);it(this.styleEl_,"\n      ."+u+" {\n        width: "+i+"px;\n        height: "+a+"px;\n      }\n\n      ."+u+".vjs-fluid {\n        padding-top: "+c*100+"%;\n      }\n    ")};t.prototype.loadTech_=function e(t,r){var n=this;if(this.tech_){this.unloadTech_()}var i=bt(t);var a=t.charAt(0).toLowerCase()+t.slice(1);if(i!=="Html5"&&this.tag){Qr.getTech("Html5").disposeMediaElement(this.tag);this.tag.player=null;this.tag=null}this.techName_=i;this.isReady_=false;var o={source:r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||false,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Kr.names.forEach(function(e){var t=Kr[e];o[t.getterName]=n[t.privateName]});G(o,this.options_[i]);G(o,this.options_[a]);G(o,this.options_[t.toLowerCase()]);if(this.tag){o.tag=this.tag}if(r&&r.src===this.cache_.src&&this.cache_.currentTime>0){o.startTime=this.cache_.currentTime}var s=Qr.getTech(t);if(!s){throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'")}this.tech_=new s(o);this.tech_.ready(at(this,this.handleTechReady_),true);Wt.jsonToTextTracks(this.textTracksJson_||[],this.tech_);ta.forEach(function(e){n.on(n.tech_,e,n["handleTech"+bt(e)+"_"])});this.on(this.tech_,"loadstart",this.handleTechLoadStart_);this.on(this.tech_,"sourceset",this.handleTechSourceset_);this.on(this.tech_,"waiting",this.handleTechWaiting_);this.on(this.tech_,"canplay",this.handleTechCanPlay_);this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_);this.on(this.tech_,"playing",this.handleTechPlaying_);this.on(this.tech_,"ended",this.handleTechEnded_);this.on(this.tech_,"seeking",this.handleTechSeeking_);this.on(this.tech_,"seeked",this.handleTechSeeked_);this.on(this.tech_,"play",this.handleTechPlay_);this.on(this.tech_,"firstplay",this.handleTechFirstPlay_);this.on(this.tech_,"pause",this.handleTechPause_);this.on(this.tech_,"durationchange",this.handleTechDurationChange_);this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_);this.on(this.tech_,"error",this.handleTechError_);this.on(this.tech_,"loadedmetadata",this.updateStyleEl_);this.on(this.tech_,"posterchange",this.handleTechPosterChange_);this.on(this.tech_,"textdata",this.handleTechTextData_);this.usingNativeControls(this.techGet_("controls"));if(this.controls()&&!this.usingNativeControls()){this.addTechControlsListeners_()}if(this.tech_.el().parentNode!==this.el()&&(i!=="Html5"||!this.tag)){de(this.tech_.el(),this.el())}if(this.tag){this.tag.player=null;this.tag=null}};t.prototype.unloadTech_=function e(){var t=this;Kr.names.forEach(function(e){var r=Kr[e];t[r.privateName]=t[r.getterName]()});this.textTracksJson_=Wt.textTracksToJson(this.tech_);this.isReady_=false;this.tech_.dispose();this.tech_=false;if(this.isPosterFromTech_){this.poster_="";this.trigger("posterchange")}this.isPosterFromTech_=false};t.prototype.tech=function e(t){if(t===undefined){Q.warn(ee(ea))}return this.tech_};t.prototype.addTechControlsListeners_=function e(){this.removeTechControlsListeners_();this.on(this.tech_,"mousedown",this.handleTechClick_);this.on(this.tech_,"touchstart",this.handleTechTouchStart_);this.on(this.tech_,"touchmove",this.handleTechTouchMove_);this.on(this.tech_,"touchend",this.handleTechTouchEnd_);this.on(this.tech_,"tap",this.handleTechTap_)};t.prototype.removeTechControlsListeners_=function e(){this.off(this.tech_,"tap",this.handleTechTap_);this.off(this.tech_,"touchstart",this.handleTechTouchStart_);this.off(this.tech_,"touchmove",this.handleTechTouchMove_);this.off(this.tech_,"touchend",this.handleTechTouchEnd_);this.off(this.tech_,"mousedown",this.handleTechClick_)};t.prototype.handleTechReady_=function e(){this.triggerReady();if(this.cache_.volume){this.techCall_("setVolume",this.cache_.volume)}this.handleTechPosterChange_();this.handleTechDurationChange_();if((this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){Q("deleting tag.poster throws in some browsers",e)}}};t.prototype.handleTechLoadStart_=function e(){this.removeClass("vjs-ended");this.removeClass("vjs-seeking");this.error(null);if(!this.paused()){this.trigger("loadstart");this.trigger("firstplay")}else{this.hasStarted(false);this.trigger("loadstart")}};t.prototype.handleTechSourceset_=function e(t){this.trigger({src:t.src,type:"sourceset"})};t.prototype.hasStarted=function e(t){if(t===undefined){return this.hasStarted_}if(t===this.hasStarted_){return}this.hasStarted_=t;if(this.hasStarted_){this.addClass("vjs-has-started");this.trigger("firstplay")}else{this.removeClass("vjs-has-started")}};t.prototype.handleTechPlay_=function e(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(true);this.trigger("play")};t.prototype.handleTechWaiting_=function e(){var t=this;this.addClass("vjs-waiting");this.trigger("waiting");this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})};t.prototype.handleTechCanPlay_=function e(){this.removeClass("vjs-waiting");this.trigger("canplay")};t.prototype.handleTechCanPlayThrough_=function e(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")};t.prototype.handleTechPlaying_=function e(){this.removeClass("vjs-waiting");this.trigger("playing")};t.prototype.handleTechSeeking_=function e(){this.addClass("vjs-seeking");this.trigger("seeking")};t.prototype.handleTechSeeked_=function e(){this.removeClass("vjs-seeking");this.trigger("seeked")};t.prototype.handleTechFirstPlay_=function e(){if(this.options_.starttime){Q.warn("Passing the `starttime` option to the player will be deprecated in 6.0");this.currentTime(this.options_.starttime)}this.addClass("vjs-has-started");this.trigger("firstplay")};t.prototype.handleTechPause_=function e(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.trigger("pause")};t.prototype.handleTechEnded_=function e(){this.addClass("vjs-ended");if(this.options_.loop){this.currentTime(0);this.play()}else if(!this.paused()){this.pause()}this.trigger("ended")};t.prototype.handleTechDurationChange_=function e(){this.duration(this.techGet_("duration"))};t.prototype.handleTechClick_=function e(t){if(!Le(t)){return}if(!this.controls_){return}if(this.paused()){this.play()}else{this.pause()}};t.prototype.handleTechTap_=function e(){this.userActive(!this.userActive())};t.prototype.handleTechTouchStart_=function e(){this.userWasActive=this.userActive()};t.prototype.handleTechTouchMove_=function e(){if(this.userWasActive){this.reportUserActivity()}};t.prototype.handleTechTouchEnd_=function e(t){t.preventDefault()};t.prototype.handleFullscreenChange_=function e(){if(this.isFullscreen()){this.addClass("vjs-fullscreen")}else{this.removeClass("vjs-fullscreen")}};t.prototype.handleStageClick_=function e(){this.reportUserActivity()};t.prototype.handleTechFullscreenChange_=function e(t,r){if(r){this.isFullscreen(r.isFullscreen)}this.trigger("fullscreenchange")};t.prototype.handleTechError_=function e(){var t=this.tech_.error();this.error(t)};t.prototype.handleTechTextData_=function e(){var t=null;if(arguments.length>1){t=arguments[1]}this.trigger("textdata",t)};t.prototype.getCache=function e(){return this.cache_};t.prototype.techCall_=function e(t,r){this.ready(function(){if(t in cn){return sn(this.middleware_,this.tech_,t,r)}else if(t in fn){return un(this.middleware_,this.tech_,t,r)}try{if(this.tech_){this.tech_[t](r)}}catch(e){Q(e);throw e}},true)};t.prototype.techGet_=function e(t){if(!this.tech_||!this.tech_.isReady_){return}if(t in ln){return on(this.middleware_,this.tech_,t)}else if(t in fn){return un(this.middleware_,this.tech_,t)}try{return this.tech_[t]()}catch(e){if(this.tech_[t]===undefined){Q("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e);throw e}if(e.name==="TypeError"){Q("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e);this.tech_.isReady_=false;throw e}Q(e);throw e}};t.prototype.play=function e(){var t=this;if(this.playOnLoadstart_){this.off("loadstart",this.playOnLoadstart_)}if(!this.isReady_){if(this.playWaitingForReady_){return}this.playWaitingForReady_=true;this.ready(function(){t.playWaitingForReady_=false;Ft(t.play())})}else if(!this.changingSrc_&&(this.src()||this.currentSrc())){return this.techGet_("play")}else{this.playOnLoadstart_=function(){t.playOnLoadstart_=null;Ft(t.play())};this.one("loadstart",this.playOnLoadstart_)}};t.prototype.pause=function e(){this.techCall_("pause")};t.prototype.paused=function e(){return this.techGet_("paused")===false?false:true};t.prototype.played=function e(){return this.techGet_("played")||Ot(0,0)};t.prototype.scrubbing=function e(t){if(typeof t==="undefined"){return this.scrubbing_}this.scrubbing_=!!t;if(t){this.addClass("vjs-scrubbing")}else{this.removeClass("vjs-scrubbing")}};t.prototype.currentTime=function e(t){if(typeof t!=="undefined"){if(t<0){t=0}this.techCall_("setCurrentTime",t);return}this.cache_.currentTime=this.techGet_("currentTime")||0;return this.cache_.currentTime};t.prototype.duration=function e(t){if(t===undefined){return this.cache_.duration!==undefined?this.cache_.duration:NaN}t=parseFloat(t);if(t<0){t=Infinity}if(t!==this.cache_.duration){this.cache_.duration=t;if(t===Infinity){this.addClass("vjs-live")}else{this.removeClass("vjs-live")}this.trigger("durationchange")}};t.prototype.remainingTime=function e(){return this.duration()-this.currentTime()};t.prototype.remainingTimeDisplay=function e(){return Math.floor(this.duration())-Math.floor(this.currentTime())};t.prototype.buffered=function e(){var e=this.techGet_("buffered");if(!e||!e.length){e=Ot(0,0)}return e};t.prototype.bufferedPercent=function e(){return Ct(this.buffered(),this.duration())};t.prototype.bufferedEnd=function e(){var t=this.buffered();var r=this.duration();var n=t.end(t.length-1);if(n>r){n=r}return n};t.prototype.volume=function e(t){var r=void 0;if(t!==undefined){r=Math.max(0,Math.min(1,parseFloat(t)));this.cache_.volume=r;this.techCall_("setVolume",r);if(r>0){this.lastVolume_(r)}return}r=parseFloat(this.techGet_("volume"));return isNaN(r)?1:r};t.prototype.muted=function e(t){if(t!==undefined){this.techCall_("setMuted",t);return}return this.techGet_("muted")||false};t.prototype.defaultMuted=function e(t){if(t!==undefined){return this.techCall_("setDefaultMuted",t)}return this.techGet_("defaultMuted")||false};t.prototype.lastVolume_=function e(t){if(t!==undefined&&t!==0){this.cache_.lastVolume=t;return}return this.cache_.lastVolume};t.prototype.supportsFullScreen=function e(){return this.techGet_("supportsFullScreen")||false};t.prototype.isFullscreen=function e(t){if(t!==undefined){this.isFullscreen_=!!t;return}return!!this.isFullscreen_};t.prototype.requestFullscreen=function e(){var t=At;this.isFullscreen(true);if(t.requestFullscreen){Ye(d,t.fullscreenchange,at(this,function e(r){this.isFullscreen(d[t.fullscreenElement]);if(this.isFullscreen()===false){Ke(d,t.fullscreenchange,e)}this.trigger("fullscreenchange")}));this.el_[t.requestFullscreen]()}else if(this.tech_.supportsFullScreen()){this.techCall_("enterFullScreen")}else{this.enterFullWindow();this.trigger("fullscreenchange")}};t.prototype.exitFullscreen=function e(){var t=At;this.isFullscreen(false);if(t.requestFullscreen){d[t.exitFullscreen]()}else if(this.tech_.supportsFullScreen()){this.techCall_("exitFullScreen")}else{this.exitFullWindow();this.trigger("fullscreenchange")}};t.prototype.enterFullWindow=function e(){this.isFullWindow=true;this.docOrigOverflow=d.documentElement.style.overflow;Ye(d,"keydown",at(this,this.fullWindowOnEscKey));d.documentElement.style.overflow="hidden";he(d.body,"vjs-full-window");this.trigger("enterFullWindow")};t.prototype.fullWindowOnEscKey=function e(t){if(t.keyCode===27){if(this.isFullscreen()===true){this.exitFullscreen()}else{this.exitFullWindow()}}};t.prototype.exitFullWindow=function e(){this.isFullWindow=false;Ke(d,"keydown",this.fullWindowOnEscKey);d.documentElement.style.overflow=this.docOrigOverflow;ve(d.body,"vjs-full-window");this.trigger("exitFullWindow")};t.prototype.canPlayType=function e(t){var r=void 0;for(var n=0,i=this.options_.techOrder;n<i.length;n++){var a=i[n];var o=Qr.getTech(a);if(!o){o=wt.getComponent(a)}if(!o){Q.error('The "'+a+'" tech is undefined. Skipped browser support check for that tech.');continue}if(o.isSupported()){r=o.canPlayType(t);if(r){return r}}}return""};t.prototype.selectSource=function e(t){var r=this;var n=this.options_.techOrder.map(function(e){return[e,Qr.getTech(e)]}).filter(function(e){var t=e[0],r=e[1];if(r){return r.isSupported()}Q.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.');return false});var i=function e(t,r,n){var i=void 0;t.some(function(e){return r.some(function(t){i=n(e,t);if(i){return true}})});return i};var a=void 0;var o=function e(t){return function(e,r){return t(r,e)}};var s=function e(t,n){var i=t[0],a=t[1];if(a.canPlaySource(n,r.options_[i.toLowerCase()])){return{source:n,tech:i}}};if(this.options_.sourceOrder){a=i(t,n,o(s))}else{a=i(n,t,s)}return a||false};t.prototype.src=function e(t){var r=this;if(typeof t==="undefined"){return this.cache_.src||""}var n=gn(t);if(!n.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}this.cache_.sources=n;this.changingSrc_=true;this.cache_.source=n[0];nn(this,n[0],function(e,t){r.middleware_=t;var i=r.src_(e);if(i){if(n.length>1){return r.src(n.slice(1))}r.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);r.triggerReady();return}r.changingSrc_=false;r.cache_.src=e.src;an(t,r.tech_)})};t.prototype.src_=function e(t){var r=this.selectSource([t]);if(!r){return true}if(!Tt(r.tech,this.techName_)){this.changingSrc_=true;this.loadTech_(r.tech,r.source);return false}this.ready(function(){if(this.tech_.constructor.prototype.hasOwnProperty("setSource")){this.techCall_("setSource",t)}else{this.techCall_("src",t.src)}if(this.options_.preload==="auto"){this.load()}},true);return false};t.prototype.load=function e(){this.techCall_("load")};t.prototype.reset=function e(){this.loadTech_(this.options_.techOrder[0],null);this.techCall_("reset")};t.prototype.currentSources=function e(){var t=this.currentSource();var r=[];if(Object.keys(t).length!==0){r.push(t)}return this.cache_.sources||r};t.prototype.currentSource=function e(){return this.cache_.source||{}};t.prototype.currentSrc=function e(){return this.currentSource()&&this.currentSource().src||""};t.prototype.currentType=function e(){return this.currentSource()&&this.currentSource().type||""};t.prototype.preload=function e(t){if(t!==undefined){this.techCall_("setPreload",t);this.options_.preload=t;return}return this.techGet_("preload")};t.prototype.autoplay=function e(t){if(t!==undefined){this.techCall_("setAutoplay",t);this.options_.autoplay=t;return}return this.techGet_("autoplay",t)};t.prototype.playsinline=function e(t){if(t!==undefined){this.techCall_("setPlaysinline",t);this.options_.playsinline=t;return this}return this.techGet_("playsinline")};t.prototype.loop=function e(t){if(t!==undefined){this.techCall_("setLoop",t);this.options_.loop=t;return}return this.techGet_("loop")};t.prototype.poster=function e(t){if(t===undefined){return this.poster_}if(!t){t=""}if(t===this.poster_){return}this.poster_=t;this.techCall_("setPoster",t);this.isPosterFromTech_=false;this.trigger("posterchange")};t.prototype.handleTechPosterChange_=function e(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";if(t!==this.poster_){this.poster_=t;this.isPosterFromTech_=true;this.trigger("posterchange")}}};t.prototype.controls=function e(t){if(t===undefined){return!!this.controls_}t=!!t;if(this.controls_===t){return}this.controls_=t;if(this.usingNativeControls()){this.techCall_("setControls",t)}if(this.controls_){this.removeClass("vjs-controls-disabled");this.addClass("vjs-controls-enabled");this.trigger("controlsenabled");if(!this.usingNativeControls()){this.addTechControlsListeners_()}}else{this.removeClass("vjs-controls-enabled");this.addClass("vjs-controls-disabled");this.trigger("controlsdisabled");if(!this.usingNativeControls()){this.removeTechControlsListeners_()}}};t.prototype.usingNativeControls=function e(t){if(t===undefined){return!!this.usingNativeControls_}t=!!t;if(this.usingNativeControls_===t){return}this.usingNativeControls_=t;if(this.usingNativeControls_){this.addClass("vjs-using-native-controls");this.trigger("usingnativecontrols")}else{this.removeClass("vjs-using-native-controls");this.trigger("usingcustomcontrols")}};t.prototype.error=function e(t){if(t===undefined){return this.error_||null}if(t===null){this.error_=t;this.removeClass("vjs-error");if(this.errorDisplay){this.errorDisplay.close()}return}this.error_=new jt(t);this.addClass("vjs-error");Q.error("(CODE:"+this.error_.code+" "+jt.errorTypes[this.error_.code]+")",this.error_.message,this.error_);this.trigger("error");return};t.prototype.reportUserActivity=function e(t){this.userActivity_=true};t.prototype.userActive=function e(t){if(t===undefined){return this.userActive_}t=!!t;if(t===this.userActive_){return}this.userActive_=t;if(this.userActive_){this.userActivity_=true;this.removeClass("vjs-user-inactive");this.addClass("vjs-user-active");this.trigger("useractive");return}if(this.tech_){this.tech_.one("mousemove",function(e){e.stopPropagation();e.preventDefault()})}this.userActivity_=false;this.removeClass("vjs-user-active");this.addClass("vjs-user-inactive");this.trigger("userinactive")};t.prototype.listenForUserActivity_=function e(){var t=void 0;var r=void 0;var n=void 0;var i=at(this,this.reportUserActivity);var a=function e(t){if(t.screenX!==r||t.screenY!==n){r=t.screenX;n=t.screenY;i()}};var o=function e(){i();this.clearInterval(t);t=this.setInterval(i,250)};var s=function e(r){i();this.clearInterval(t)};this.on("mousedown",o);this.on("mousemove",a);this.on("mouseup",s);this.on("keydown",i);this.on("keyup",i);var u=void 0;this.setInterval(function(){if(!this.userActivity_){return}this.userActivity_=false;this.userActive(true);this.clearTimeout(u);var e=this.options_.inactivityTimeout;if(e<=0){return}u=this.setTimeout(function(){if(!this.userActivity_){this.userActive(false)}},e)},250)};t.prototype.playbackRate=function e(t){if(t!==undefined){this.techCall_("setPlaybackRate",t);return}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.techGet_("playbackRate")}return 1};t.prototype.defaultPlaybackRate=function e(t){if(t!==undefined){return this.techCall_("setDefaultPlaybackRate",t)}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.techGet_("defaultPlaybackRate")}return 1};t.prototype.isAudio=function e(t){if(t!==undefined){this.isAudio_=!!t;return}return!!this.isAudio_};t.prototype.addTextTrack=function e(t,r,n){if(this.tech_){return this.tech_.addTextTrack(t,r,n)}};t.prototype.addRemoteTextTrack=function e(t,r){if(this.tech_){return this.tech_.addRemoteTextTrack(t,r)}};t.prototype.removeRemoteTextTrack=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.track,n=r===undefined?arguments[0]:r;if(this.tech_){return this.tech_.removeRemoteTextTrack(n)}};t.prototype.getVideoPlaybackQuality=function e(){return this.techGet_("getVideoPlaybackQuality")};t.prototype.videoWidth=function e(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0};t.prototype.videoHeight=function e(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0};t.prototype.language=function e(t){if(t===undefined){return this.language_}this.language_=String(t).toLowerCase()};t.prototype.languages=function e(){return St(t.prototype.options_.languages,this.languages_)};t.prototype.toJSON=function e(){var t=St(this.options_);var r=t.tracks;t.tracks=[];for(var n=0;n<r.length;n++){var i=r[n];i=St(i);i.player=undefined;t.tracks[n]=i}return t};t.prototype.createModal=function e(t,r){var n=this;r=r||{};r.content=t||"";var i=new Xt(this,r);this.addChild(i);i.on("dispose",function(){n.removeChild(i)});i.open();return i};t.getTagSettings=function e(t){var r={sources:[],tracks:[]};var n=ge(t);var i=n["data-setup"];if(pe(t,"vjs-fluid")){n.fluid=true}if(i!==null){var a=Nt(i||"{}"),o=a[0],s=a[1];if(o){Q.error(o)}G(n,s)}G(r,n);if(t.hasChildNodes()){var u=t.childNodes;for(var l=0,c=u.length;l<c;l++){var f=u[l];var d=f.nodeName.toLowerCase();if(d==="source"){r.sources.push(ge(f))}else if(d==="track"){r.tracks.push(ge(f))}}}return r};t.prototype.flexNotSupported_=function e(){var t=d.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)};return t}(wt);Kr.names.forEach(function(e){var t=Kr[e];ra.prototype[t.getterName]=function(){if(this.tech_){return this.tech_[t.getterName]()}this[t.privateName]=this[t.privateName]||new t.ListClass;return this[t.privateName]}});ra.players={};var na=o.navigator;ra.prototype.options_={techOrder:Qr.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:na&&(na.languages&&na.languages[0]||na.userLanguage||na.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."};if(!A){ra.prototype.options_.children.push("resizeManager")}["ended","seeking","seekable","networkState","readyState"].forEach(function(e){ra.prototype[e]=function(){return this.techGet_(e)}});ta.forEach(function(e){ra.prototype["handleTech"+bt(e)+"_"]=function(){return this.trigger(e)}});wt.registerComponent("Player",ra);var ia="plugin";var aa="activePlugins_";var oa={};var sa=function e(t){return oa.hasOwnProperty(t)};var ua=function e(t){return sa(t)?oa[t]:undefined};var la=function e(t,r){t[aa]=t[aa]||{};t[aa][r]=true};var ca=function e(t,r,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,r);t.trigger(i+":"+r.name,r)};var fa=function e(t,r){var n=function e(){ca(this,{name:t,plugin:r,instance:null},true);var n=r.apply(this,arguments);la(this,t);ca(this,{name:t,plugin:r,instance:n});return n};Object.keys(r).forEach(function(e){n[e]=r[e]});return n};var da=function e(t,r){r.prototype.name=t;return function(){ca(this,{name:t,plugin:r,instance:null},true);for(var e=arguments.length,n=Array(e),i=0;i<e;i++){n[i]=arguments[i]}var a=new(Function.prototype.bind.apply(r,[null].concat([this].concat(n))));this[t]=function(){return a};ca(this,a.getEventHash());return a}};var pa=function(){function e(t){N(this,e);if(this.constructor===e){throw new Error("Plugin must be sub-classed; not directly instantiated.")}this.player=t;mt(this);delete this.trigger;_t(this,this.constructor.defaultState);la(t,this.name);this.dispose=at(this,this.dispose);t.on("dispose",this.dispose)}e.prototype.version=function e(){return this.constructor.VERSION};e.prototype.getEventHash=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t.name=this.name;t.plugin=this.constructor;t.instance=this;return t};e.prototype.trigger=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return $e(this.eventBusEl_,t,this.getEventHash(r))};e.prototype.handleStateChanged=function e(t){};e.prototype.dispose=function e(){var t=this.name,r=this.player;this.trigger("dispose");this.off();r.off("dispose",this.dispose);r[aa][t]=false;this.player=this.state=null;r[t]=da(t,oa[t])};e.isBasic=function t(r){var n=typeof r==="string"?ua(r):r;return typeof n==="function"&&!e.prototype.isPrototypeOf(n.prototype)};e.registerPlugin=function t(r,n){if(typeof r!=="string"){throw new Error('Illegal plugin name, "'+r+'", must be a string, was '+(typeof r==="undefined"?"undefined":M(r))+".")}if(sa(r)){Q.warn('A plugin named "'+r+'" already exists. You may want to avoid re-registering plugins!')}else if(ra.prototype.hasOwnProperty(r)){throw new Error('Illegal plugin name, "'+r+'", cannot share a name with an existing player method!')}if(typeof n!=="function"){throw new Error('Illegal plugin for "'+r+'", must be a function, was '+(typeof n==="undefined"?"undefined":M(n))+".")}oa[r]=n;if(r!==ia){if(e.isBasic(n)){ra.prototype[r]=fa(r,n)}else{ra.prototype[r]=da(r,n)}}return n};e.deregisterPlugin=function e(t){if(t===ia){throw new Error("Cannot de-register base plugin.")}if(sa(t)){delete oa[t];delete ra.prototype[t]}};e.getPlugins=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Object.keys(oa);var r=void 0;t.forEach(function(e){var t=ua(e);if(t){r=r||{};r[e]=t}});return r};e.getPluginVersion=function e(t){var r=ua(t);return r&&r.VERSION||""};return e}();pa.getPlugin=ua;pa.BASE_PLUGIN_NAME=ia;pa.registerPlugin(ia,pa);ra.prototype.usingPlugin=function(e){return!!this[aa]&&this[aa][e]===true};ra.prototype.hasPlugin=function(e){return!!sa(e)};var ha=function e(t,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof r==="undefined"?"undefined":M(r)))}t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(r){t.super_=r}};var va=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=function e(){t.apply(this,arguments)};var i={};if((typeof r==="undefined"?"undefined":M(r))==="object"){if(r.constructor!==Object.prototype.constructor){n=r.constructor}i=r}else if(typeof r==="function"){n=r}ha(n,t);for(var a in i){if(i.hasOwnProperty(a)){n.prototype[a]=i[a]}}return n};if(typeof HTMLVideoElement==="undefined"&&oe()){d.createElement("video");d.createElement("audio");d.createElement("track");d.createElement("video-js")}var ya=function e(t){return t.indexOf("#")===0?t.slice(1):t};function ma(e,t,r){var n=ma.getPlayer(e);if(n){if(t){Q.warn('Player "'+e+'" is already initialised. Options will not be applied.')}if(r){n.ready(r)}return n}var i=typeof e==="string"?De("#"+ya(e)):e;if(!se(i)){throw new TypeError("The element or ID supplied is not valid. (videojs)")}if(!d.body.contains(i)){Q.warn("The element supplied is not included in the DOM")}t=t||{};ma.hooks("beforesetup").forEach(function(e){var r=e(i,St(t));if(!z(r)||Array.isArray(r)){Q.error("please return an object in beforesetup hooks");return}t=St(t,r)});var a=wt.getComponent("Player");n=new a(i,t,r);ma.hooks("setup").forEach(function(e){return e(n)});return n}ma.hooks_={};ma.hooks=function(e,t){ma.hooks_[e]=ma.hooks_[e]||[];if(t){ma.hooks_[e]=ma.hooks_[e].concat(t)}return ma.hooks_[e]};ma.hook=function(e,t){ma.hooks(e,t)};ma.hookOnce=function(e,t){ma.hooks(e,[].concat(t).map(function(t){var r=function r(){ma.removeHook(e,r);return t.apply(undefined,arguments)};return r}))};ma.removeHook=function(e,t){var r=ma.hooks(e).indexOf(t);if(r<=-1){return false}ma.hooks_[e]=ma.hooks_[e].slice();ma.hooks_[e].splice(r,1);return true};if(o.VIDEOJS_NO_DYNAMIC_STYLE!==true&&oe()){var ga=De(".vjs-styles-defaults");if(!ga){ga=nt("vjs-styles-defaults");var _a=De("head");if(_a){_a.insertBefore(ga,_a.firstChild)}it(ga,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}rt(1,ma);ma.VERSION=r;ma.options=ra.prototype.options_;ma.getPlayers=function(){return ra.players};ma.getPlayer=function(e){var t=ra.players;var r=void 0;if(typeof e==="string"){var n=ya(e);var i=t[n];if(i){return i}r=De("#"+n)}else{r=e}if(se(r)){var a=r,o=a.player,s=a.playerId;if(o||t[s]){return o||t[s]}}};ma.getAllPlayers=function(){return Object.keys(ra.players).map(function(e){return ra.players[e]}).filter(Boolean)};ma.players=ra.players;ma.getComponent=wt.getComponent;ma.registerComponent=function(e,t){if(Qr.isTech(t)){Q.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)")}wt.registerComponent.call(wt,e,t)};ma.getTech=Qr.getTech;ma.registerTech=Qr.registerTech;ma.use=rn;if(!A&&Object.defineProperty){Object.defineProperty(ma,"middleware",{value:{},writeable:false,enumerable:true});Object.defineProperty(ma.middleware,"TERMINATOR",{value:tn,writeable:false,enumerable:true})}else{ma.middleware={TERMINATOR:tn}}ma.browser=j;ma.TOUCH_ENABLED=D;ma.extend=va;ma.mergeOptions=St;ma.bind=at;ma.registerPlugin=pa.registerPlugin;ma.plugin=function(e,t){Q.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead");return pa.registerPlugin(e,t)};ma.getPlugins=pa.getPlugins;ma.getPlugin=pa.getPlugin;ma.getPluginVersion=pa.getPluginVersion;ma.addLanguage=function(e,t){var r;e=(""+e).toLowerCase();ma.options.languages=St(ma.options.languages,(r={},r[e]=t,r));return ma.options.languages[e]};ma.log=Q;ma.createTimeRange=ma.createTimeRanges=Ot;ma.formatTime=Un;ma.setFormatTime=Mn;ma.resetFormatTime=Nn;ma.parseUrl=ur;ma.isCrossOrigin=fr;ma.EventTarget=ut;ma.on=Ye;ma.one=Je;ma.off=Ke;ma.trigger=$e;ma.xhr=Ar;ma.TextTrack=Br;ma.AudioTrack=Fr;ma.VideoTrack=qr;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){ma[e]=function(){Q.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead");return je[e].apply(null,arguments)}});ma.computedStyle=te;ma.dom=je;ma.url=dr;return ma});if(!i){if(h&&h.VERSION===e.videojs.VERSION){e.videojs=h}else if(e.bc){(function(t){var r=Object.keys(t);var n,i,a;for(n=0;n<r.length;n++){i=r[n];a=t[i];if(typeof a==="function"&&typeof a.videojs==="function"){if(a.videojs.VERSION===e.videojs.VERSION){e.videojs=a.videojs;break}}}})(e.bc)}}var v=e.videojs;v["default"]=v;(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t(require("video.js")):typeof r==="function"&&r.amd?r(["video.js"],t):e.videojsLoscore=t(e.videojs)})(this,function(r){"use strict";r=r&&r.hasOwnProperty("default")?r["default"]:r;var n=typeof e!=="undefined"?e:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function i(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function a(e,t){return t={exports:{}},e(t,t.exports),t.exports}var o;if(typeof e!=="undefined"){o=e}else if(typeof n!=="undefined"){o=n}else if(typeof self!=="undefined"){o=self}else{o={}}var s=o;function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var l=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function c(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function f(e,t,r,n){t=t||"&";r=r||"=";if(e===null){e=undefined}if(typeof e==="object"){return d(p(e),function(n){var i=encodeURIComponent(c(n))+r;if(l(e[n])){return d(e[n],function(e){return i+encodeURIComponent(c(e))}).join(t)}else{return i+encodeURIComponent(c(e[n]))}}).join(t)}if(!n)return"";return encodeURIComponent(c(n))+r+encodeURIComponent(c(e))}function d(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t(e[n],n))}return r}var p=Object.keys||function(e){var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t.push(r)}return t};function h(e,t,r,n){t=t||"&";r=r||"=";var i={};if(typeof e!=="string"||e.length===0){return i}var a=/\+/g;e=e.split(t);var o=1e3;if(n&&typeof n.maxKeys==="number"){o=n.maxKeys}var s=e.length;if(o>0&&s>o){s=o}for(var c=0;c<s;++c){var f=e[c].replace(a,"%20"),d=f.indexOf(r),p,h,v,y;if(d>=0){p=f.substr(0,d);h=f.substr(d+1)}else{p=f;h=""}v=decodeURIComponent(p);y=decodeURIComponent(h);if(!u(i,v)){i[v]=y}else if(l(i[v])){i[v].push(y)}else{i[v]=[i[v],y]}}return i}var v={encode:f,stringify:f,decode:h,parse:h};var y=a(function(r,a){(function(e,t){r.exports=t()})(n,function(){function r(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function a(e){return typeof e==="function"}var o=void 0;if(Array.isArray){o=Array.isArray}else{o=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}var s=o;var u=0;var l=void 0;var c=void 0;var f=function e(t,r){E[u]=t;E[u+1]=r;u+=2;if(u===2){if(c){c(k)}else{O()}}};function d(e){c=e}function p(e){f=e}var h=typeof e!=="undefined"?e:undefined;var v=h||{};var y=v.MutationObserver||v.WebKitMutationObserver;var m=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]";var g=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function _(){return function(){return process.nextTick(k)}}function b(){if(typeof l!=="undefined"){return function(){l(k)}}return w()}function T(){var e=0;var r=new y(k);var n=t.createTextNode("");r.observe(n,{characterData:true});return function(){n.data=e=++e%2}}function S(){var e=new MessageChannel;e.port1.onmessage=k;return function(){return e.port2.postMessage(0)}}function w(){var e=setTimeout;return function(){return e(k,1)}}var E=new Array(1e3);function k(){for(var e=0;e<u;e+=2){var t=E[e];var r=E[e+1];t(r);E[e]=undefined;E[e+1]=undefined}u=0}function P(){try{var e=Function("return this")().require("vertx");l=e.runOnLoop||e.runOnContext;return b()}catch(e){return w()}}var O=void 0;if(m){O=_()}else if(y){O=T()}else if(g){O=S()}else if(h===undefined&&typeof i==="function"){O=P()}else{O=w()}function C(e,t){var r=this;var n=new this.constructor(I);if(n[x]===undefined){ee(n)}var i=r._state;if(i){var a=arguments[i-1];f(function(){return $(i,n,a,r._result)})}else{X(r,n,e,t)}return n}function A(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var r=new t(I);V(r,e);return r}var x=Math.random().toString(36).substring(2);function I(){}var L=void 0;var D=1;var R=2;var j={error:null};function M(){return new TypeError("You cannot resolve a promise with itself")}function N(){return new TypeError("A promises callback cannot return that same promise.")}function U(e){try{return e.then}catch(e){j.error=e;return j}}function B(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function F(e,t,r){f(function(e){var n=false;var i=B(r,t,function(r){if(n){return}n=true;if(t!==r){V(e,r)}else{G(e,r)}},function(t){if(n){return}n=true;z(e,t)},"Settle: "+(e._label||" unknown promise"));if(!n&&i){n=true;z(e,i)}},e)}function q(e,t){if(t._state===D){G(e,t._result)}else if(t._state===R){z(e,t._result)}else{X(t,undefined,function(t){return V(e,t)},function(t){return z(e,t)})}}function H(e,t,r){if(t.constructor===e.constructor&&r===C&&t.constructor.resolve===A){q(e,t)}else{if(r===j){z(e,j.error);j.error=null}else if(r===undefined){G(e,t)}else if(a(r)){F(e,t,r)}else{G(e,t)}}}function V(e,t){if(e===t){z(e,M())}else if(r(t)){H(e,t,U(t))}else{G(e,t)}}function W(e){if(e._onerror){e._onerror(e._result)}Y(e)}function G(e,t){if(e._state!==L){return}e._result=t;e._state=D;if(e._subscribers.length!==0){f(Y,e)}}function z(e,t){if(e._state!==L){return}e._state=R;e._result=t;f(W,e)}function X(e,t,r,n){var i=e._subscribers;var a=i.length;e._onerror=null;i[a]=t;i[a+D]=r;i[a+R]=n;if(a===0&&e._state){f(Y,e)}}function Y(e){var t=e._subscribers;var r=e._state;if(t.length===0){return}var n=void 0,i=void 0,a=e._result;for(var o=0;o<t.length;o+=3){n=t[o];i=t[o+r];if(n){$(r,n,i,a)}else{i(a)}}e._subscribers.length=0}function K(e,t){try{return e(t)}catch(e){j.error=e;return j}}function $(e,t,r,n){var i=a(r),o=void 0,s=void 0,u=void 0,l=void 0;if(i){o=K(r,n);if(o===j){l=true;s=o.error;o.error=null}else{u=true}if(t===o){z(t,N());return}}else{o=n;u=true}if(t._state!==L){}else if(i&&u){V(t,o)}else if(l){z(t,s)}else if(e===D){G(t,o)}else if(e===R){z(t,o)}}function J(e,t){try{t(function t(r){V(e,r)},function t(r){z(e,r)})}catch(t){z(e,t)}}var Q=0;function Z(){return Q++}function ee(e){e[x]=Q++;e._state=undefined;e._result=undefined;e._subscribers=[]}function te(){return new Error("Array Methods must be provided an Array")}var re=function(){function e(e,t){this._instanceConstructor=e;this.promise=new e(I);if(!this.promise[x]){ee(this.promise)}if(s(t)){this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0){G(this.promise,this._result)}else{this.length=this.length||0;this._enumerate(t);if(this._remaining===0){G(this.promise,this._result)}}}else{z(this.promise,te())}}e.prototype._enumerate=function e(t){for(var r=0;this._state===L&&r<t.length;r++){this._eachEntry(t[r],r)}};e.prototype._eachEntry=function e(t,r){var n=this._instanceConstructor;var i=n.resolve;if(i===A){var a=U(t);if(a===C&&t._state!==L){this._settledAt(t._state,r,t._result)}else if(typeof a!=="function"){this._remaining--;this._result[r]=t}else if(n===ue){var o=new n(I);H(o,t,a);this._willSettleAt(o,r)}else{this._willSettleAt(new n(function(e){return e(t)}),r)}}else{this._willSettleAt(i(t),r)}};e.prototype._settledAt=function e(t,r,n){var i=this.promise;if(i._state===L){this._remaining--;if(t===R){z(i,n)}else{this._result[r]=n}}if(this._remaining===0){G(i,this._result)}};e.prototype._willSettleAt=function e(t,r){var n=this;X(t,undefined,function(e){return n._settledAt(D,r,e)},function(e){return n._settledAt(R,r,e)})};return e}();function ne(e){return new re(this,e).promise}function ie(e){var t=this;if(!s(e)){return new t(function(e,t){return t(new TypeError("You must pass an array to race."))})}else{return new t(function(r,n){var i=e.length;for(var a=0;a<i;a++){t.resolve(e[a]).then(r,n)}})}}function ae(e){var t=this;var r=new t(I);z(r,e);return r}function oe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function se(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ue=function(){function e(t){this[x]=Z();this._result=this._state=undefined;this._subscribers=[];if(I!==t){typeof t!=="function"&&oe();this instanceof e?J(this,t):se()}}e.prototype.catch=function e(t){return this.then(null,t)};e.prototype.finally=function e(t){var r=this;var n=r.constructor;return r.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})})};return e}();ue.prototype.then=C;ue.all=ne;ue.race=ie;ue.resolve=A;ue.reject=ae;ue._setScheduler=d;ue._setAsap=p;ue._asap=f;function le(){var e=void 0;if(typeof n!=="undefined"){e=n}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if(r==="[object Promise]"&&!t.cast){return}}e.Promise=ue}ue.polyfill=le;ue.Promise=ue;return ue})});var m="2.8.0";var g={isArr:function e(t){return Array.isArray(t)},isFn:function e(t){return typeof t==="function"},isNil:function e(t){return t===null||t===undefined},isNum:function e(t){return typeof t==="number"&&t===t},isNonEmptyStr:function e(t){return typeof t==="string"&&/\S/.test(t)},isObj:function e(t){return Object.prototype.toString.call(t)==="[object Object]"}};var _=s.performance;var b={};["memory","navigation","timing"].forEach(function(e){b[e]=_&&_[e]||{}});["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize","toJSON"].forEach(function(e){b[e]=function(){if(_&&_[e]){return _[e].apply(_,arguments)}}});var T=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var S=function(){var e=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103;return function t(r,n,i,a){var o=r&&r.defaultProps;var s=arguments.length-3;if(!n&&s!==0){n={}}if(n&&o){for(var u in o){if(n[u]===void 0){n[u]=o[u]}}}else if(!n){n=o||{}}if(s===1){n.children=a}else if(s>1){var l=Array(s);for(var c=0;c<s;c++){l[c]=arguments[c+3]}n.children=l}return{$$typeof:e,type:r,key:i===undefined?null:""+i,ref:null,props:n,_owner:null}}}();var w=function(e){if(typeof Symbol==="function"){if(Symbol.asyncIterator){var t=e[Symbol.asyncIterator];if(t!=null)return t.call(e)}if(Symbol.iterator){return e[Symbol.iterator]()}}throw new TypeError("Object is not async iterable")};var E=function(){function e(e){this.value=e}function t(t){var r,n;function i(e,t){return new Promise(function(i,o){var s={key:e,arg:t,resolve:i,reject:o,next:null};if(n){n=n.next=s}else{r=n=s;a(e,t)}})}function a(r,n){try{var i=t[r](n);var s=i.value;if(s instanceof e){Promise.resolve(s.value).then(function(e){a("next",e)},function(e){a("throw",e)})}else{o(i.done?"return":"normal",i.value)}}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":r.resolve({value:t,done:true});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:false});break}r=r.next;if(r){a(r.key,r.arg)}else{n=null}}this._invoke=i;if(typeof t.return!=="function"){this.return=undefined}}if(typeof Symbol==="function"&&Symbol.asyncIterator){t.prototype[Symbol.asyncIterator]=function(){return this}}t.prototype.next=function(e){return this._invoke("next",e)};t.prototype.throw=function(e){return this._invoke("throw",e)};t.prototype.return=function(e){return this._invoke("return",e)};return{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}();var k=function(e,t){var r={},n=false;function i(r,i){n=true;i=new Promise(function(t){t(e[r](i))});return{done:false,value:t(i)}}if(typeof Symbol==="function"&&Symbol.iterator){r[Symbol.iterator]=function(){return this}}r.next=function(e){if(n){n=false;return e}return i("next",e)};if(typeof e.throw==="function"){r.throw=function(e){if(n){n=false;throw e}return i("throw",e)}}if(typeof e.return==="function"){r.return=function(e){return i("return",e)}}return r};var P=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,a){try{var o=t[i](a);var s=o.value}catch(e){r(e);return}if(o.done){e(s)}else{return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)})}}return n("next")})}};var O=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var C=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var A=function(e,t){for(var r in t){var n=t[r];n.configurable=n.enumerable=true;if("value"in n)n.writable=true;Object.defineProperty(e,r,n)}return e};var x=function(e,t){var r=Object.getOwnPropertyNames(t);for(var n=0;n<r.length;n++){var i=r[n];var a=Object.getOwnPropertyDescriptor(t,i);if(a&&a.configurable&&e[i]===undefined){Object.defineProperty(e,i,a)}}return e};var I=function(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e};var L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var D=function e(t,r,n){if(t===null)t=Function.prototype;var i=Object.getOwnPropertyDescriptor(t,r);if(i===undefined){var a=Object.getPrototypeOf(t);if(a===null){return undefined}else{return e(a,r,n)}}else if("value"in i){return i.value}else{var o=i.get;if(o===undefined){return undefined}return o.call(n)}};var R=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t};var j=function(e,t){if(t!=null&&typeof Symbol!=="undefined"&&t[Symbol.hasInstance]){return t[Symbol.hasInstance](e)}else{return e instanceof t}};var M=function(e){return e&&e.__esModule?e:{default:e}};var N=function(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}};var U=function(e,t){if(e!==t){throw new TypeError("Cannot instantiate an arrow function")}};var B=function(e){if(e==null)throw new TypeError("Cannot destructure undefined")};var F=function(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r};var q=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e};var H=typeof global==="undefined"?self:global;var V=function e(t,r,n,i){var a=Object.getOwnPropertyDescriptor(t,r);if(a===undefined){var o=Object.getPrototypeOf(t);if(o!==null){e(o,r,n,i)}}else if("value"in a&&a.writable){a.value=n}else{var s=a.set;if(s!==undefined){s.call(i,n)}}return n};var W=function(){function e(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var G=function(e,t){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){var r=[];for(var n=e[Symbol.iterator](),i;!(i=n.next()).done;){r.push(i.value);if(t&&r.length===t)break}return r}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}};var z=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))};var X=function(e,t){e.raw=t;return e};var Y=function(e,t,r){if(e===r){throw new ReferenceError(t+" is not defined - temporal dead zone")}else{return e}};var K={};var $=function(e){return Array.isArray(e)?e:Array.from(e)};var J=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};var Q=(Object.freeze||Object)({jsx:S,asyncIterator:w,asyncGenerator:E,asyncGeneratorDelegate:k,asyncToGenerator:P,classCallCheck:O,createClass:C,defineEnumerableProperties:A,defaults:x,defineProperty:I,get:D,inherits:R,interopRequireDefault:M,interopRequireWildcard:N,newArrowCheck:U,objectDestructuringEmpty:B,objectWithoutProperties:F,possibleConstructorReturn:q,selfGlobal:H,set:V,slicedToArray:W,slicedToArrayLoose:G,taggedTemplateLiteral:z,taggedTemplateLiteralLoose:X,temporalRef:Y,temporalUndefined:K,toArray:$,toConsumableArray:J,typeof:T,extends:L,instanceof:j});var Z={perf:b,Promise:y,assign:function e(){var t;return(t=Q).extends.apply(t,arguments)},withoutNilValues:function e(t){var r=t;if(g.isArr(t)){r=t.filter(function(e){return!g.isNil(e)}).map(Z.withoutNilValues)}else if(g.isObj(t)){r={};Object.keys(t).forEach(function(e){if(!g.isNil(t[e])){r[e]=Z.withoutNilValues(t[e])}})}return r},debounce:function e(t,r,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:s;var a=void 0;return function(){var e=this;var o=arguments;var s=function r(){a=null;s=null;if(!n){t.apply(e,o)}};if(!a&&n){t.apply(e,o)}i.clearTimeout(a);a=i.setTimeout(s,r)}},throttle:function e(t,r){var n=Date.now();return function(){var e=Date.now();if(e-n>=r){t.apply(undefined,arguments);n=e}}},qs:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:s&&s.location||{};return L({hash:v.parse((t.hash||"#").substr(1)),search:v.parse((t.search||"?").substr(1))},v)}};L(Z,g);Z.VERSION=m;if(r){r.bc_=Z}return Z});var y=v.bc_;var m;m=function(){return y.Promise.resolve(false)};m.mightBe=false;m.mightNotBe=true;m.result=false;m.VERSION="mock";if(!v.getTech("flash")){(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t(require("video.js")):typeof r==="function"&&r.amd?r(["video.js"],t):e.videojsFlash=t(e.videojs)})(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t["default"]:t;var r="5.4.1";var n="2.1.0";function i(e){e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"};e.streamFromParts=function(e,t){return e+"&"+t};e.streamToParts=function(e){var t={connection:"",stream:""};if(!e){return t}var r=e.search(/&(?!\w+=)/);var n=void 0;if(r!==-1){n=r+1}else{r=n=e.lastIndexOf("/")+1;if(r===0){r=n=e.length}}t.connection=e.substring(0,r);t.stream=e.substring(n,e.length);return t};e.isStreamingType=function(t){return t in e.streamingFormats};e.RTMP_RE=/^rtmp[set]?:\/\//i;e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)};e.rtmpSourceHandler={};e.rtmpSourceHandler.canPlayType=function(t){if(e.isStreamingType(t)){return"maybe"}return""};e.rtmpSourceHandler.canHandleSource=function(t,r){var n=e.rtmpSourceHandler.canPlayType(t.type);if(n){return n}if(e.isStreamingSrc(t.src)){return"maybe"}return""};e.rtmpSourceHandler.handleSource=function(t,r,n){var i=e.streamToParts(t.src);r.setRtmpConnection(i.connection);r.setRtmpStream(i.stream)};e.registerSourceHandler(e.rtmpSourceHandler);return e}var a=typeof e!=="undefined"?e:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var o;if(typeof e!=="undefined"){o=e}else if(typeof a!=="undefined"){o=a}else if(typeof self!=="undefined"){o=self}else{o={}}var s=o;var u=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var l=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t};var c=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e};var f=t.getComponent("Tech");var d=t.dom;var p=t.url;var h=t.createTimeRange;var v=t.mergeOptions;var y=s&&s.navigator||{};var m=function(e){l(t,e);function t(r,n){u(this,t);var i=c(this,e.call(this,r,n));if(r.source){i.ready(function(){this.setSource(r.source)},true)}if(r.startTime){i.ready(function(){this.load();this.play();this.currentTime(r.startTime)},true)}s.videojs=s.videojs||{};s.videojs.Flash=s.videojs.Flash||{};s.videojs.Flash.onReady=t.onReady;s.videojs.Flash.onEvent=t.onEvent;s.videojs.Flash.onError=t.onError;i.on("seeked",function(){this.lastSeekTarget_=undefined});return i}t.prototype.createEl=function e(){var n=this.options_;if(!n.swf){n.swf="https://vjs.zencdn.net/swf/"+r+"/video-js.swf"}var i=n.techId;var a=v({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:n.autoplay,preload:n.preload,loop:n.loop,muted:n.muted},n.flashVars);var o=v({wmode:"opaque",bgcolor:"#000000"},n.params);var s=v({id:i,name:i,class:"vjs-tech"},n.attributes);this.el_=t.embed(n.swf,a,o,s);this.el_.tech=this;return this.el_};t.prototype.play=function e(){if(this.ended()){this.setCurrentTime(0)}this.el_.vjs_play()};t.prototype.pause=function e(){this.el_.vjs_pause()};t.prototype.src=function e(t){if(t===undefined){return this.currentSrc()}return this.setSrc(t)};t.prototype.setSrc=function e(t){var r=this;t=p.getAbsoluteURL(t);this.el_.vjs_src(t);if(this.autoplay()){this.setTimeout(function(){return r.play()},0)}};t.prototype.seeking=function e(){return this.lastSeekTarget_!==undefined};t.prototype.setCurrentTime=function t(r){var n=this.seekable();if(n.length){r=r>n.start(0)?r:n.start(0);r=r<n.end(n.length-1)?r:n.end(n.length-1);this.lastSeekTarget_=r;this.trigger("seeking");this.el_.vjs_setProperty("currentTime",r);e.prototype.setCurrentTime.call(this)}};t.prototype.currentTime=function e(){if(this.seeking()){return this.lastSeekTarget_||0}return this.el_.vjs_getProperty("currentTime")};t.prototype.currentSrc=function e(){if(this.currentSource_){return this.currentSource_.src}return this.el_.vjs_getProperty("currentSrc")};t.prototype.duration=function e(){if(this.readyState()===0){return NaN}var e=this.el_.vjs_getProperty("duration");return e>=0?e:Infinity};t.prototype.load=function e(){this.el_.vjs_load()};t.prototype.poster=function e(){this.el_.vjs_getProperty("poster")};t.prototype.setPoster=function e(){};t.prototype.seekable=function e(){var t=this.duration();if(t===0){return h()}return h(0,t)};t.prototype.buffered=function e(){var t=this.el_.vjs_getProperty("buffered");if(t.length===0){return h()}return h(t[0][0],t[0][1])};t.prototype.supportsFullScreen=function e(){return false};t.prototype.enterFullScreen=function e(){return false};t.prototype.getVideoPlaybackQuality=function e(){var t=this.el_.vjs_getProperty("getVideoPlaybackQuality");if(s.performance&&typeof s.performance.now==="function"){t.creationTime=s.performance.now()}else if(s.performance&&s.performance.timing&&typeof s.performance.timing.navigationStart==="number"){t.creationTime=s.Date.now()-s.performance.timing.navigationStart}return t};return t}(f);var g=["rtmpConnection","rtmpStream","preload","defaultPlaybackRate","playbackRate","autoplay","loop","controls","volume","muted","defaultMuted"];var _=["networkState","readyState","initialTime","startOffsetTime","paused","ended","videoWidth","videoHeight"];var b=m.prototype;function T(e){var t=e.charAt(0).toUpperCase()+e.slice(1);b["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function S(e){b[e]=function(){return this.el_.vjs_getProperty(e)}}for(var w=0;w<g.length;w++){S(g[w]);T(g[w])}for(var E=0;E<_.length;E++){S(_[E])}m.isSupported=function(){if(t.browser.IS_CHROME&&!t.browser.IS_ANDROID||t.browser.IS_SAFARI&&!t.browser.IS_IOS){return true}return m.version()[0]>=10};f.withSourceHandlers(m);m.nativeSourceHandler={};m.nativeSourceHandler.canPlayType=function(e){if(e in m.formats){return"maybe"}return""};m.nativeSourceHandler.canHandleSource=function(e,t){var r=void 0;function n(e){var t=p.getFileExtension(e);if(t){return"video/"+t}return""}if(!e.type){r=n(e.src)}else{r=e.type.replace(/;.*/,"").toLowerCase()}return m.nativeSourceHandler.canPlayType(r)};m.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)};m.nativeSourceHandler.dispose=function(){};m.registerSourceHandler(m.nativeSourceHandler);m.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};m.onReady=function(e){var t=d.$("#"+e);var r=t&&t.tech;if(r&&r.el()){m.checkReady(r)}};m.checkReady=function(e){if(!e.el()){return}if(e.el().vjs_getProperty){e.triggerReady()}else{this.setTimeout(function(){m.checkReady(e)},50)}};m.onEvent=function(e,t){var r=d.$("#"+e).tech;var n=Array.prototype.slice.call(arguments,2);r.setTimeout(function(){r.trigger(t,n)},1)};m.onError=function(e,t){var r=d.$("#"+e).tech;if(t==="srcnotfound"){return r.error(4)}if(typeof t==="string"){r.error("FLASH: "+t)}else{t.origin="flash";r.error(t)}};m.version=function(){var e="0,0,0";try{e=new s.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{if(y.mimeTypes["application/x-shockwave-flash"].enabledPlugin){e=(y.plugins["Shockwave Flash 2.0"]||y.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}}catch(e){}}return e.split(",")};m.embed=function(e,t,r,n){var i=m.getEmbedCode(e,t,r,n);var a=d.createEl("div",{innerHTML:i}).childNodes[0];return a};m.getEmbedCode=function(e,t,r,n){var i='<object type="application/x-shockwave-flash" ';var a="";var o="";var s="";if(t){Object.getOwnPropertyNames(t).forEach(function(e){a+=e+"="+t[e]+"&amp;"})}r=v({movie:e,flashvars:a,allowScriptAccess:"always",allowNetworking:"all"},r);Object.getOwnPropertyNames(r).forEach(function(e){o+='<param name="'+e+'" value="'+r[e]+'" />'});n=v({data:e,width:"100%",height:"100%"},n);Object.getOwnPropertyNames(n).forEach(function(e){s+=e+'="'+n[e]+'" '});return""+i+s+">"+o+"</object>"};i(m);if(f.getTech("Flash")){t.log.warn("Not using videojs-flash as it appears to already be registered");t.log.warn("videojs-flash should only be used with video.js@6 and above")}else{t.registerTech("Flash",m)}m.VERSION=n;return m})}if(typeof Uint8Array==="function"&&!v.getTech("Hls")){(function(t){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=t()}else if(typeof r==="function"&&r.amd){r([],t)}else{var n;if(typeof e!=="undefined"){n=e}else if(typeof global!=="undefined"){n=global}else if(typeof self!=="undefined"){n=self}else{n=this}n.videojsFlashlsSourceHandler=t()}})(function(){var t,r,n;return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var u=typeof require=="function"&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}var a=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,r,n){(function(t){"use strict";n.__esModule=true;n.setupAudioTracks=n.updateAudioTrack=undefined;var r=typeof e!=="undefined"?e["videojs"]:typeof t!=="undefined"?t["videojs"]:null;var i=a(r);function a(e){return e&&e.__esModule?e:{default:e}}var o=n.updateAudioTrack=function e(t){var r=t.el_.vjs_getProperty("audioTracks");var n=t.audioTracks();var i=null;for(var a=0;a<n.length;a++){if(n[a].enabled){i=n[a].id;break}}if(i===null){return}for(var o=0;o<r.length;o++){if(i===r[o].title){t.el_.vjs_setProperty("audioTrack",o);return}}};var s=n.setupAudioTracks=function e(t){var r=t.el_.vjs_getProperty("altAudioTracks");var n=t.el_.vjs_getProperty("audioTracks");var a=t.el_.vjs_getProperty("audioTrack");n.forEach(function(e,n){var o=r[e.id];t.audioTracks().addTrack(new i["default"].AudioTrack({id:o.name,enabled:a===n,language:o.lang,default:o.default_track,label:o.name}))})}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof e!=="undefined"?e:{})},{}],2:[function(e,t,r){"use strict";r.__esModule=true;var n=r.createRepresentation=function e(t,r){var n={id:r.index+"",width:r.width,height:r.height,bandwidth:r.bitrate,isEnabled_:true};n.enabled=function(e){if(typeof e==="undefined"){return n.isEnabled_}if(e===n.isEnabled_){return}if(e===true||e===false){n.isEnabled_=e;t()}};return n};var i=r.createRepresentations=function e(t){var r=null;var i=function e(){var n=r.filter(function(e){return e.enabled()});if(n.length===r.length||n.length===0){t.el_.vjs_setProperty("autoLevelCapping",-1);t.el_.vjs_setProperty("level",-1);return}if(n.length===1){t.el_.vjs_setProperty("level",parseInt(n[0].id,10));t.el_.vjs_setProperty("autoLevelCapping",-1);return}var i=n[n.length-1].id;t.el_.vjs_setProperty("autoLevelCapping",parseInt(i,10));t.el_.vjs_setProperty("level",-1)};return function(){if(!r){var e=t.el_.vjs_getProperty("levels");r=e.filter(function(e){return!e.audio}).map(n.bind(null,i))}return r}}},{}],3:[function(t,r,n){(function(t){var n;if(typeof e!=="undefined"){n=e}else if(typeof t!=="undefined"){n=t}else if(typeof self!=="undefined"){n=self}else{n={}}r.exports=n}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof e!=="undefined"?e:{})},{}],4:[function(e,t,r){"use strict";var n=4,i=128,a=e("../utils/stream");var o=function(e){var t=0,r={payloadType:-1,payloadSize:0},a=0,o=0;while(t<e.byteLength){if(e[t]===i){break}while(e[t]===255){a+=255;t++}a+=e[t++];while(e[t]===255){o+=255;t++}o+=e[t++];if(!r.payload&&a===n){r.payloadType=a;r.payloadSize=o;r.payload=e.subarray(t,t+o);break}t+=o;a=0;o=0}return r};var s=function(e){if(e.payload[0]!==181){return null}if((e.payload[1]<<8|e.payload[2])!==49){return null}if(String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])!=="GA94"){return null}if(e.payload[7]!==3){return null}return e.payload.subarray(8,e.payload.length-1)};var u=function(e,t){var r=[],n,i,a,o;if(!(t[0]&64)){return r}i=t[0]&31;for(n=0;n<i;n++){a=n*3;o={type:t[a+2]&3,pts:e};if(t[a+2]&4){o.ccData=t[a+3]<<8|t[a+4];r.push(o)}}return r};var l=function(){l.prototype.init.call(this);this.captionPackets_=[];this.ccStreams_=[new v(0,0),new v(0,1),new v(1,0),new v(1,1)];this.reset();this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data"));e.on("done",this.trigger.bind(this,"done"))},this)};l.prototype=new a;l.prototype.push=function(e){var t,r;if(e.nalUnitType!=="sei_rbsp"){return}t=o(e.escapedRBSP);if(t.payloadType!==n){return}r=s(t);if(!r){return}if(e.dts<this.latestDts_){this.ignoreNextEqualDts_=true;return}else if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.ignoreNextEqualDts_=false;return}this.captionPackets_=this.captionPackets_.concat(u(e.pts,r));this.latestDts_=e.dts};l.prototype.flush=function(){if(!this.captionPackets_.length){this.ccStreams_.forEach(function(e){e.flush()},this);return}this.captionPackets_.forEach(function(e,t){e.presortIndex=t});this.captionPackets_.sort(function(e,t){if(e.pts===t.pts){return e.presortIndex-t.presortIndex}return e.pts-t.pts});this.captionPackets_.forEach(function(e){if(e.type<2){this.dispatchCea608Packet(e)}},this);this.captionPackets_.length=0;this.ccStreams_.forEach(function(e){e.flush()},this);return};l.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=false;this.activeCea608Channel_=[null,null];this.ccStreams_.forEach(function(e){e.reset()})};l.prototype.dispatchCea608Packet=function(e){if(this.setsChannel1Active(e)){this.activeCea608Channel_[e.type]=0}else if(this.setsChannel2Active(e)){this.activeCea608Channel_[e.type]=1}if(this.activeCea608Channel_[e.type]===null){return}this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)};l.prototype.setsChannel1Active=function(e){return(e.ccData&30720)===4096};l.prototype.setsChannel2Active=function(e){return(e.ccData&30720)===6144};var c={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496};var f=function(e){if(e===null){return""}e=c[e]||e;return String.fromCharCode(e)};var d=14;var p=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152];var h=function(){var e=[],t=d+1;while(t--){e.push("")}return e};var v=function(e,t){v.prototype.init.call(this);this.field_=e||0;this.dataChannel_=t||0;this.name_="CC"+((this.field_<<1|this.dataChannel_)+1);this.setConstants();this.reset();this.push=function(e){var t,r,n,i,a;t=e.ccData&32639;if(t===this.lastControlCode_){this.lastControlCode_=null;return}if((t&61440)===4096){this.lastControlCode_=t}else if(t!==this.PADDING_){this.lastControlCode_=null}n=t>>>8;i=t&255;if(t===this.PADDING_){return}else if(t===this.RESUME_CAPTION_LOADING_){this.mode_="popOn"}else if(t===this.END_OF_CAPTION_){this.clearFormatting(e.pts);this.flushDisplayed(e.pts);r=this.displayed_;this.displayed_=this.nonDisplayed_;this.nonDisplayed_=r;this.startPts_=e.pts}else if(t===this.ROLL_UP_2_ROWS_){this.topRow_=d-1;this.mode_="rollUp"}else if(t===this.ROLL_UP_3_ROWS_){this.topRow_=d-2;this.mode_="rollUp"}else if(t===this.ROLL_UP_4_ROWS_){this.topRow_=d-3;this.mode_="rollUp"}else if(t===this.CARRIAGE_RETURN_){this.clearFormatting(e.pts);this.flushDisplayed(e.pts);this.shiftRowsUp_();this.startPts_=e.pts}else if(t===this.BACKSPACE_){if(this.mode_==="popOn"){this.nonDisplayed_[d]=this.nonDisplayed_[d].slice(0,-1)}else{this.displayed_[d]=this.displayed_[d].slice(0,-1)}}else if(t===this.ERASE_DISPLAYED_MEMORY_){this.flushDisplayed(e.pts);this.displayed_=h()}else if(t===this.ERASE_NON_DISPLAYED_MEMORY_){this.nonDisplayed_=h()}else if(t===this.RESUME_DIRECT_CAPTIONING_){this.mode_="paintOn"}else if(this.isSpecialCharacter(n,i)){n=(n&3)<<8;a=f(n|i);this[this.mode_](e.pts,a);this.column_++}else if(this.isExtCharacter(n,i)){if(this.mode_==="popOn"){this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1)}else{this.displayed_[d]=this.displayed_[d].slice(0,-1)}n=(n&3)<<8;a=f(n|i);this[this.mode_](e.pts,a);this.column_++}else if(this.isMidRowCode(n,i)){this.clearFormatting(e.pts);this[this.mode_](e.pts," ");this.column_++;if((i&14)===14){this.addFormatting(e.pts,["i"])}if((i&1)===1){this.addFormatting(e.pts,["u"])}}else if(this.isOffsetControlCode(n,i)){this.column_+=i&3}else if(this.isPAC(n,i)){var o=p.indexOf(t&7968);if(o!==this.row_){this.clearFormatting(e.pts);this.row_=o}if(i&1&&this.formatting_.indexOf("u")===-1){this.addFormatting(e.pts,["u"])}if((t&16)===16){this.column_=((t&14)>>1)*4}if(this.isColorPAC(i)){if((i&14)===14){this.addFormatting(e.pts,["i"])}}}else if(this.isNormalChar(n)){if(i===0){i=null}a=f(n);a+=f(i);this[this.mode_](e.pts,a);this.column_+=a.length}}};v.prototype=new a;v.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");if(t.length){this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})}};v.prototype.reset=function(){this.mode_="popOn";this.topRow_=0;this.startPts_=0;this.displayed_=h();this.nonDisplayed_=h();this.lastControlCode_=null;this.column_=0;this.row_=d;this.formatting_=[]};v.prototype.setConstants=function(){if(this.dataChannel_===0){this.BASE_=16;this.EXT_=17;this.CONTROL_=(20|this.field_)<<8;this.OFFSET_=23}else if(this.dataChannel_===1){this.BASE_=24;this.EXT_=25;this.CONTROL_=(28|this.field_)<<8;this.OFFSET_=31}this.PADDING_=0;this.RESUME_CAPTION_LOADING_=this.CONTROL_|32;this.END_OF_CAPTION_=this.CONTROL_|47;this.ROLL_UP_2_ROWS_=this.CONTROL_|37;this.ROLL_UP_3_ROWS_=this.CONTROL_|38;this.ROLL_UP_4_ROWS_=this.CONTROL_|39;this.CARRIAGE_RETURN_=this.CONTROL_|45;this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41;this.BACKSPACE_=this.CONTROL_|33;this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44;this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};v.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63};v.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&(t>=32&&t<=63)};v.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&(t>=32&&t<=47)};v.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&(t>=33&&t<=35)};v.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&(t>=64&&t<=127)};v.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127};v.prototype.isNormalChar=function(e){return e>=32&&e<=127};v.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var r=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,r)};v.prototype.clearFormatting=function(e){if(!this.formatting_.length){return}var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[];this[this.mode_](e,t)};v.prototype.popOn=function(e,t){var r=this.nonDisplayed_[this.row_];r+=t;this.nonDisplayed_[this.row_]=r};v.prototype.rollUp=function(e,t){var r=this.displayed_[d];r+=t;this.displayed_[d]=r};v.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++){this.displayed_[e]=""}for(e=this.topRow_;e<d;e++){this.displayed_[e]=this.displayed_[e+1]}this.displayed_[d]=""};v.prototype.paintOn=function(){};t.exports={CaptionStream:l,Cea608Stream:v}},{"../utils/stream":7}],5:[function(e,t,r){"use strict";var n=e("../utils/stream"),i=e("./stream-types"),a=function(e,t,r){var n,i="";for(n=t;n<r;n++){i+="%"+("00"+e[n].toString(16)).slice(-2)}return i},o=function(e,t,r){return decodeURIComponent(a(e,t,r))},s=function(e,t,r){return unescape(a(e,t,r))},u=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},l={TXXX:function(e){var t;if(e.data[0]!==3){return}for(t=1;t<e.data.length;t++){if(e.data[t]===0){e.description=o(e.data,1,t);e.value=o(e.data,t+1,e.data.length).replace(/\0*$/,"");break}}e.data=e.value},WXXX:function(e){var t;if(e.data[0]!==3){return}for(t=1;t<e.data.length;t++){if(e.data[t]===0){e.description=o(e.data,1,t);e.url=o(e.data,t+1,e.data.length);break}}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++){if(e.data[t]===0){e.owner=s(e.data,0,t);break}}e.privateData=e.data.subarray(t+1);e.data=e.privateData}},c;c=function(e){var t={debug:!!(e&&e.debug),descriptor:e&&e.descriptor},r=0,n=[],a=0,o;c.prototype.init.call(this);this.dispatchType=i.METADATA_STREAM_TYPE.toString(16);if(t.descriptor){for(o=0;o<t.descriptor.length;o++){this.dispatchType+=("00"+t.descriptor[o].toString(16)).slice(-2)}}this.push=function(e){var i,o,s,c,f,d;if(e.type!=="timed-metadata"){return}if(e.dataAlignmentIndicator){a=0;n.length=0}if(n.length===0&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0))){if(t.debug){console.log("Skipping unrecognized metadata packet")}return}n.push(e);a+=e.data.byteLength;if(n.length===1){r=u(e.data.subarray(6,10));r+=10}if(a<r){return}i={data:new Uint8Array(r),frames:[],pts:n[0].pts,dts:n[0].dts};for(f=0;f<r;){i.data.set(n[0].data.subarray(0,r-f),f);f+=n[0].data.byteLength;a-=n[0].data.byteLength;n.shift()}o=10;if(i.data[5]&64){o+=4;o+=u(i.data.subarray(10,14));r-=u(i.data.subarray(16,20))}do{s=u(i.data.subarray(o+4,o+8));if(s<1){return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.")}d=String.fromCharCode(i.data[o],i.data[o+1],i.data[o+2],i.data[o+3]);c={id:d,data:i.data.subarray(o+10,o+s+10)};c.key=c.id;if(l[c.id]){l[c.id](c);if(c.owner==="com.apple.streaming.transportStreamTimestamp"){var p=c.data,h=(p[3]&1)<<30|p[4]<<22|p[5]<<14|p[6]<<6|p[7]>>>2;h*=4;h+=p[7]&3;c.timeStamp=h;if(i.pts===undefined&&i.dts===undefined){i.pts=c.timeStamp;i.dts=c.timeStamp}this.trigger("timestamp",c)}}i.frames.push(c);o+=10;o+=s}while(o<r);this.trigger("data",i)}};c.prototype=new n;t.exports=c},{"../utils/stream":7,"./stream-types":6}],6:[function(e,t,r){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],7:[function(e,t,r){"use strict";var n=function(){this.init=function(){var e={};this.on=function(t,r){if(!e[t]){e[t]=[]}e[t]=e[t].concat(r)};this.off=function(t,r){var n;if(!e[t]){return false}n=e[t].indexOf(r);e[t]=e[t].slice();e[t].splice(n,1);return n>-1};this.trigger=function(t){var r,n,i,a;r=e[t];if(!r){return}if(arguments.length===2){i=r.length;for(n=0;n<i;++n){r[n].call(this,arguments[1])}}else{a=[];n=arguments.length;for(n=1;n<arguments.length;++n){a.push(arguments[n])}i=r.length;for(n=0;n<i;++n){r[n].apply(this,a)}}};this.dispose=function(){e={}}}};n.prototype.pipe=function(e){this.on("data",function(t){e.push(t)});this.on("done",function(t){e.flush(t)});return e};n.prototype.push=function(e){this.trigger("data",e)};n.prototype.flush=function(e){this.trigger("done",e)};t.exports=n},{}],8:[function(t,r,n){(function(r){"use strict";n.__esModule=true;n.FlashlsHandler=undefined;var i=typeof e!=="undefined"?e["videojs"]:typeof r!=="undefined"?r["videojs"]:null;var a=p(i);var o=t("global/window");var s=p(o);var u=t("mux.js/lib/m2ts/caption-stream");var l=t("mux.js/lib/m2ts/metadata-stream");var c=p(l);var f=t("./representations.js");var d=t("./flashlsAudioTracks.js");function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var v=function e(t){Object.defineProperties(t.frame,{id:{get:function e(){a["default"].log.warn("cue.frame.id is deprecated. Use cue.value.key instead.");return t.value.key}},value:{get:function e(){a["default"].log.warn("cue.frame.value is deprecated. Use cue.value.data instead.");return t.value.data}},privateData:{get:function e(){a["default"].log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead.");return t.value.data}}})};var y=function e(t,r,n){var i=t.remoteTextTracks()||[];for(var a=0;a<i.length;a++){var o=i[a];if(o.kind===r&&o.label===n){t.removeRemoteTextTrack(o)}}};var m=function e(t){var r=new Uint8Array(t.length);for(var n=0;n<t.length;n++){r[n]=t.charCodeAt(n)}return r};var g=function e(t,r,n){var i=void 0;var a=void 0;if(!n){return}if(!n.cues){return}i=n.cues.length;while(i--){a=n.cues[i];if(a.startTime<=r&&a.endTime>=t){n.removeCue(a)}}};var _=function e(t,r){if(t.length){g(0,t.start(0),r)}};var b=function e(t,r){var n=-1;for(var i=0;i<t.length;i++){if(t[i].id===r){n=i;break}}t.selectedIndex_=n;t.trigger({selectedIndex:n,type:"change"})};var T=1/30;var S=function e(t,r){var n=[];if(t&&t.length){for(var i=0;i<t.length;i++){if(r(t.start(i),t.end(i))){n.push([t.start(i),t.end(i)])}}}return a["default"].createTimeRanges(n)};var w=function e(t,r){return S(t,function(e,t){return e-T<=r&&t+T>=r})};var E=n.FlashlsHandler=function(){function e(t,r,n){var i=this;h(this,e);if(r.options_&&r.options_.playerId){var o=(0,a["default"])(r.options_.playerId);if(!o.hasOwnProperty("hls")){Object.defineProperty(o,"hls",{get:function e(){a["default"].log.warn("player.hls is deprecated. Use player.tech_.hls instead.");r.trigger({type:"usage",name:"flashls-player-access"});return i}})}}Object.defineProperties(this,{stats:{get:function e(){return this.tech_.el_.vjs_getProperty("stats")}},bandwidth:{get:function e(){return this.tech_.el_.vjs_getProperty("stats").bandwidth}}});this.tech_=r;this.metadataTrack_=null;this.inbandTextTracks_={};this.metadataStream_=new c["default"];this.captionStream_=new u.CaptionStream;this.onLoadedmetadata_=this.onLoadedmetadata_.bind(this);this.onSeeking_=this.onSeeking_.bind(this);this.onId3updated_=this.onId3updated_.bind(this);this.onCaptionData_=this.onCaptionData_.bind(this);this.onMetadataStreamData_=this.onMetadataStreamData_.bind(this);this.onCaptionStreamData_=this.onCaptionStreamData_.bind(this);this.onLevelSwitch_=this.onLevelSwitch_.bind(this);this.onLevelLoaded_=this.onLevelLoaded_.bind(this);this.onFragmentLoaded_=this.onFragmentLoaded_.bind(this);this.onAudioTrackChanged=this.onAudioTrackChanged.bind(this);this.tech_.on("loadedmetadata",this.onLoadedmetadata_);this.tech_.on("seeking",this.onSeeking_);this.tech_.on("id3updated",this.onId3updated_);this.tech_.on("captiondata",this.onCaptionData_);this.tech_.on("levelswitch",this.onLevelSwitch_);this.tech_.on("levelloaded",this.onLevelLoaded_);this.tech_.on("fragmentloaded",this.onFragmentLoaded_);this.metadataStream_.on("data",this.onMetadataStreamData_);this.captionStream_.on("data",this.onCaptionStreamData_);this.playlists=new a["default"].EventTarget;this.playlists.media=function(){return i.media_()}}e.prototype.src=function e(t){if(!t){return}this.tech_.setSrc(t.src)};e.prototype.seekable=function e(){var t=this.tech_.el_.vjs_getProperty("seekableStart");var r=this.tech_.el_.vjs_getProperty("seekableEnd");if(r===0){return a["default"].createTimeRange()}return a["default"].createTimeRange(t,r)};e.prototype.media_=function e(){var t=this.tech_.el_.vjs_getProperty("levels");var r=this.tech_.el_.vjs_getProperty("level");var n=void 0;if(t.length){n={resolvedUri:t[r].url,attributes:{BANDWIDTH:t[r].bitrate,RESOLUTION:{width:t[r].width,height:t[r].height}}}}return n};e.prototype.onLoadedmetadata_=function e(){var t=this;this.representations=(0,f.createRepresentations)(this.tech_);var r=a["default"].players[this.tech_.options_.playerId];if(r&&r.qualityLevels){this.qualityLevels_=r.qualityLevels();this.representations().forEach(function(e){t.qualityLevels_.addQualityLevel(e)});b(this.qualityLevels_,this.tech_.el_.vjs_getProperty("level")+"")}(0,d.setupAudioTracks)(this.tech_);this.tech_.audioTracks().on("change",this.onAudioTrackChanged)};e.prototype.onAudioTrackChanged=function e(){(0,d.updateAudioTrack)(this.tech_)};e.prototype.onLevelSwitch_=function e(t,r){if(this.qualityLevels_){b(this.qualityLevels_,r[0].levelIndex+"")}this.playlists.trigger("mediachange");this.tech_.trigger({type:"mediachange",bubbles:true})};e.prototype.onLevelLoaded_=function e(){this.playlists.trigger("loadedplaylist")};e.prototype.onFragmentLoaded_=function e(){this.tech_.trigger("bandwidthupdate");this.captionStream_.flush()};e.prototype.onSeeking_=function e(){var t=this;g(0,Infinity,this.metadataTrack_);var r=w(this.tech_.buffered(),this.tech_.currentTime());if(!r.length){Object.keys(this.inbandTextTracks_).forEach(function(e){g(0,Infinity,t.inbandTextTracks_[e])});this.captionStream_.reset()}};e.prototype.onId3updated_=function e(t,r){var n=s["default"].atob(r[0]);var i=m(n);var a={type:"timed-metadata",dataAlignmentIndicator:true,data:i};this.metadataStream_.push(a)};e.prototype.onMetadataStreamData_=function e(t){var r=this;if(!this.metadataTrack_){this.metadataTrack_=this.tech_.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},false).track;this.metadataTrack_.inBandMetadataTrackDispatchType=""}_(this.tech_.buffered(),this.metadataTrack_);var n=this.tech_.currentTime();t.frames.forEach(function(e){var t=new s["default"].VTTCue(n,n+.1,e.value||e.url||e.data||"");t.frame=e;t.value=e;v(t);r.metadataTrack_.addCue(t)});if(this.metadataTrack_.cues&&this.metadataTrack_.cues.length){var i=this.metadataTrack_.cues;var a=[];var o=this.tech_.duration();if(isNaN(o)||Math.abs(o)===Infinity){o=Number.MAX_VALUE}for(var u=0;u<i.length;u++){a.push(i[u])}a.sort(function(e,t){return e.startTime-t.startTime});for(var l=0;l<a.length-1;l++){if(a[l].endTime!==a[l+1].startTime){a[l].endTime=a[l+1].startTime}}a[a.length-1].endTime=o}};e.prototype.onCaptionData_=function e(t,r){var n=this;r[0].forEach(function(e){n.captionStream_.push({pts:e.pos*9e4,dts:e.dts*9e4,escapedRBSP:m(s["default"].atob(e.data)),nalUnitType:"sei_rbsp"})})};e.prototype.onCaptionStreamData_=function e(t){if(t){if(!this.inbandTextTracks_[t.stream]){y(this.tech_,"captions",t.stream);this.inbandTextTracks_[t.stream]=this.tech_.addRemoteTextTrack({kind:"captions",label:t.stream,id:t.stream},false).track}_(this.tech_.buffered(),this.inbandTextTracks_[t.stream]);this.inbandTextTracks_[t.stream].addCue(new s["default"].VTTCue(t.startPts/9e4,t.endPts/9e4,t.text))}};e.prototype.dispose=function e(){this.tech_.off("loadedmetadata",this.onLoadedmetadata_);this.tech_.off("seeked",this.onSeeking_);this.tech_.off("id3updated",this.onId3updated_);this.tech_.off("captiondata",this.onCaptionData_);this.tech_.audioTracks().off("change",this.onAudioTrackChanged);this.tech_.off("levelswitch",this.onLevelSwitch_);this.tech_.off("levelloaded",this.onLevelLoaded_);this.tech_.off("fragmentloaded",this.onFragmentLoaded_);if(this.qualityLevels_){this.qualityLevels_.dispose()}};return e}();var k={};var P=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;k.canPlayType=function(e){return P.test(e)?"maybe":""};k.canHandleSource=function(e,t){return k.canPlayType(e.type)==="maybe"};k.handleSource=function(e,t,r){t.hls=new E(e,t,r);t.hls.src(e);return t.hls};a["default"].getTech("Flash").registerSourceHandler(k,0);k.VERSION="1.4.1";n["default"]=k}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof e!=="undefined"?e:{})},{"./flashlsAudioTracks.js":1,"./representations.js":2,"global/window":3,"mux.js/lib/m2ts/caption-stream":4,"mux.js/lib/m2ts/metadata-stream":5}]},{},[8])(8)});(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports,require("video.js")):typeof r==="function"&&r.amd?r(["exports","video.js"],t):t(e.videojsHttpStreaming={},e.videojs)})(this,function(r,n){"use strict";n=n&&n.hasOwnProperty("default")?n["default"]:n;var i=typeof e!=="undefined"?e:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function a(e,t){return t={exports:{}},e(t,t.exports),t.exports}var o={};var s=Object.freeze({default:o});var u=s&&o||s;var l=typeof i!=="undefined"?i:typeof e!=="undefined"?e:{};var c;if(typeof t!=="undefined"){c=t}else{c=l["__GLOBAL_DOCUMENT_CACHE@4"];if(!c){c=l["__GLOBAL_DOCUMENT_CACHE@4"]=u}}var f=c;var d=a(function(e,t){(function(t){var r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/;var n=/^([^\/;?#]*)(.*)$/;var i=/(?:\/|^)\.(?=\/)/g;var a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g;var o={buildAbsoluteURL:function e(t,r,i){i=i||{};t=t.trim();r=r.trim();if(!r){if(!i.alwaysNormalize){return t}var a=this.parseURL(t);if(!a){throw new Error("Error trying to parse base URL.")}a.path=o.normalizePath(a.path);return o.buildURLFromParts(a)}var s=this.parseURL(r);if(!s){throw new Error("Error trying to parse relative URL.")}if(s.scheme){if(!i.alwaysNormalize){return r}s.path=o.normalizePath(s.path);return o.buildURLFromParts(s)}var u=this.parseURL(t);if(!u){throw new Error("Error trying to parse base URL.")}if(!u.netLoc&&u.path&&u.path[0]!=="/"){var l=n.exec(u.path);u.netLoc=l[1];u.path=l[2]}if(u.netLoc&&!u.path){u.path="/"}var c={scheme:u.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc){c.netLoc=u.netLoc;if(s.path[0]!=="/"){if(!s.path){c.path=u.path;if(!s.params){c.params=u.params;if(!s.query){c.query=u.query}}}else{var f=u.path;var d=f.substring(0,f.lastIndexOf("/")+1)+s.path;c.path=o.normalizePath(d)}}}if(c.path===null){c.path=i.alwaysNormalize?o.normalizePath(s.path):s.path}return o.buildURLFromParts(c)},parseURL:function e(t){var n=r.exec(t);if(!n){return null}return{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}},normalizePath:function e(t){t=t.split("").reverse().join("").replace(i,"");while(t.length!==(t=t.replace(a,"")).length){}return t.split("").reverse().join("")},buildURLFromParts:function e(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};e.exports=o})(i)});var p;if(typeof e!=="undefined"){p=e}else if(typeof i!=="undefined"){p=i}else if(typeof self!=="undefined"){p=self}else{p={}}var h=p;var v=function e(t,r){if(/^[a-z]+:/i.test(r)){return r}if(!/\/\//i.test(t)){t=d.buildAbsoluteURL(h.location.href,t)}return d.buildAbsoluteURL(t,r)};var y=function e(t,r){if(!(t instanceof r)){throw new TypeError("Cannot call a class as a function")}};var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var g=function e(t,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof r)}t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(r)Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r};var _=function e(t,r){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return r&&(typeof r==="object"||typeof r==="function")?r:t};var b=function(){function e(){y(this,e);this.listeners={}}e.prototype.on=function e(t,r){if(!this.listeners[t]){this.listeners[t]=[]}this.listeners[t].push(r)};e.prototype.off=function e(t,r){if(!this.listeners[t]){return false}var n=this.listeners[t].indexOf(r);this.listeners[t].splice(n,1);return n>-1};e.prototype.trigger=function e(t){var r=this.listeners[t];var n=void 0;var i=void 0;var a=void 0;if(!r){return}if(arguments.length===2){i=r.length;for(n=0;n<i;++n){r[n].call(this,arguments[1])}}else{a=Array.prototype.slice.call(arguments,1);i=r.length;for(n=0;n<i;++n){r[n].apply(this,a)}}};e.prototype.dispose=function e(){this.listeners={}};e.prototype.pipe=function e(t){this.on("data",function(e){t.push(e)})};return e}();var T=function(e){g(t,e);function t(){y(this,t);var r=_(this,e.call(this));r.buffer="";return r}t.prototype.push=function e(t){var r=void 0;this.buffer+=t;r=this.buffer.indexOf("\n");for(;r>-1;r=this.buffer.indexOf("\n")){this.trigger("data",this.buffer.substring(0,r));this.buffer=this.buffer.substring(r+1)}};return t}(b);var S=function e(){var t="[^=]*";var r='"[^"]*"|[^,]*';var n="(?:"+t+")=(?:"+r+")";return new RegExp("(?:^|,)("+n+")")};var w=function e(t){var r=t.split(S());var n={};var i=r.length;var a=void 0;while(i--){if(r[i]===""){continue}a=/([^=]*)=(.*)/.exec(r[i]).slice(1);a[0]=a[0].replace(/^\s+|\s+$/g,"");a[1]=a[1].replace(/^\s+|\s+$/g,"");a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1");n[a[0]]=a[1]}return n};var E=function(e){g(t,e);function t(){y(this,t);var r=_(this,e.call(this));r.customParsers=[];return r}t.prototype.push=function e(t){var r=void 0;var n=void 0;t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"");if(t.length===0){return}if(t[0]!=="#"){this.trigger("data",{type:"uri",uri:t});return}for(var i=0;i<this.customParsers.length;i++){if(this.customParsers[i].call(this,t)){return}}if(t.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:t.slice(1)});return}t=t.replace("\r","");r=/^#EXTM3U/.exec(t);if(r){this.trigger("data",{type:"tag",tagType:"m3u"});return}r=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t);if(r){n={type:"tag",tagType:"inf"};if(r[1]){n.duration=parseFloat(r[1])}if(r[2]){n.title=r[2]}this.trigger("data",n);return}r=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t);if(r){n={type:"tag",tagType:"targetduration"};if(r[1]){n.duration=parseInt(r[1],10)}this.trigger("data",n);return}r=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t);if(r){n={type:"tag",tagType:"totalduration"};if(r[1]){n.duration=parseInt(r[1],10)}this.trigger("data",n);return}r=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t);if(r){n={type:"tag",tagType:"version"};if(r[1]){n.version=parseInt(r[1],10)}this.trigger("data",n);return}r=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t);if(r){n={type:"tag",tagType:"media-sequence"};if(r[1]){n.number=parseInt(r[1],10)}this.trigger("data",n);return}r=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t);if(r){n={type:"tag",tagType:"discontinuity-sequence"};if(r[1]){n.number=parseInt(r[1],10)}this.trigger("data",n);return}r=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t);if(r){n={type:"tag",tagType:"playlist-type"};if(r[1]){n.playlistType=r[1]}this.trigger("data",n);return}r=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t);if(r){n={type:"tag",tagType:"byterange"};if(r[1]){n.length=parseInt(r[1],10)}if(r[2]){n.offset=parseInt(r[2],10)}this.trigger("data",n);return}r=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t);if(r){n={type:"tag",tagType:"allow-cache"};if(r[1]){n.allowed=!/NO/.test(r[1])}this.trigger("data",n);return}r=/^#EXT-X-MAP:?(.*)$/.exec(t);if(r){n={type:"tag",tagType:"map"};if(r[1]){var a=w(r[1]);if(a.URI){n.uri=a.URI}if(a.BYTERANGE){var o=a.BYTERANGE.split("@"),s=o[0],u=o[1];n.byterange={};if(s){n.byterange.length=parseInt(s,10)}if(u){n.byterange.offset=parseInt(u,10)}}}this.trigger("data",n);return}r=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t);if(r){n={type:"tag",tagType:"stream-inf"};if(r[1]){n.attributes=w(r[1]);if(n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION.split("x");var c={};if(l[0]){c.width=parseInt(l[0],10)}if(l[1]){c.height=parseInt(l[1],10)}n.attributes.RESOLUTION=c}if(n.attributes.BANDWIDTH){n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)}if(n.attributes["PROGRAM-ID"]){n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10)}}this.trigger("data",n);return}r=/^#EXT-X-MEDIA:?(.*)$/.exec(t);if(r){n={type:"tag",tagType:"media"};if(r[1]){n.attributes=w(r[1])}this.trigger("data",n);return}r=/^#EXT-X-ENDLIST/.exec(t);if(r){this.trigger("data",{type:"tag",tagType:"endlist"});return}r=/^#EXT-X-DISCONTINUITY/.exec(t);if(r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}r=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t);if(r){n={type:"tag",tagType:"program-date-time"};if(r[1]){n.dateTimeString=r[1];n.dateTimeObject=new Date(r[1])}this.trigger("data",n);return}r=/^#EXT-X-KEY:?(.*)$/.exec(t);if(r){n={type:"tag",tagType:"key"};if(r[1]){n.attributes=w(r[1]);if(n.attributes.IV){if(n.attributes.IV.substring(0,2).toLowerCase()==="0x"){n.attributes.IV=n.attributes.IV.substring(2)}n.attributes.IV=n.attributes.IV.match(/.{8}/g);n.attributes.IV[0]=parseInt(n.attributes.IV[0],16);n.attributes.IV[1]=parseInt(n.attributes.IV[1],16);n.attributes.IV[2]=parseInt(n.attributes.IV[2],16);n.attributes.IV[3]=parseInt(n.attributes.IV[3],16);n.attributes.IV=new Uint32Array(n.attributes.IV)}}this.trigger("data",n);return}r=/^#EXT-X-START:?(.*)$/.exec(t);if(r){n={type:"tag",tagType:"start"};if(r[1]){n.attributes=w(r[1]);n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]);n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)}this.trigger("data",n);return}r=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t);if(r){n={type:"tag",tagType:"cue-out-cont"};if(r[1]){n.data=r[1]}else{n.data=""}this.trigger("data",n);return}r=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t);if(r){n={type:"tag",tagType:"cue-out"};if(r[1]){n.data=r[1]}else{n.data=""}this.trigger("data",n);return}r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t);if(r){n={type:"tag",tagType:"cue-in"};if(r[1]){n.data=r[1]}else{n.data=""}this.trigger("data",n);return}this.trigger("data",{type:"tag",data:t.slice(4)})};t.prototype.addParser=function e(t){var r=this;var n=t.expression,i=t.customType,a=t.dataParser,o=t.segment;if(typeof a!=="function"){a=function e(t){return t}}this.customParsers.push(function(e){var t=n.exec(e);if(t){r.trigger("data",{type:"custom",data:a(e),customType:i,segment:o});return true}})};return t}(b);var k=function(e){g(t,e);function t(){y(this,t);var r=_(this,e.call(this));r.lineStream=new T;r.parseStream=new E;r.lineStream.pipe(r.parseStream);var n=r;var i=[];var a={};var o=void 0;var s=void 0;var u=function e(){};var l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};var c=0;r.manifest={allowCache:true,discontinuityStarts:[],segments:[]};r.parseStream.on("data",function(e){var t=void 0;var r=void 0;({tag:function f(){(({"allow-cache":function t(){this.manifest.allowCache=e.allowed;if(!("allowed"in e)){this.trigger("info",{message:"defaulting allowCache to YES"});this.manifest.allowCache=true}},byterange:function t(){var t={};if("length"in e){a.byterange=t;t.length=e.length;if(!("offset"in e)){this.trigger("info",{message:"defaulting offset to zero"});e.offset=0}}if("offset"in e){a.byterange=t;t.offset=e.offset}},endlist:function e(){this.manifest.endList=true},inf:function t(){if(!("mediaSequence"in this.manifest)){this.manifest.mediaSequence=0;this.trigger("info",{message:"defaulting media sequence to zero"})}if(!("discontinuitySequence"in this.manifest)){this.manifest.discontinuitySequence=0;this.trigger("info",{message:"defaulting discontinuity sequence to zero"})}if(e.duration>0){a.duration=e.duration}if(e.duration===0){a.duration=.01;this.trigger("info",{message:"updating zero segment duration to a small value"})}this.manifest.segments=i},key:function t(){if(!e.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(e.attributes.METHOD==="NONE"){s=null;return}if(!e.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(!e.attributes.METHOD){this.trigger("warn",{message:"defaulting key method to AES-128"})}s={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI};if(typeof e.attributes.IV!=="undefined"){s.iv=e.attributes.IV}},"media-sequence":function t(){if(!isFinite(e.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number});return}this.manifest.mediaSequence=e.number},"discontinuity-sequence":function t(){if(!isFinite(e.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number});return}this.manifest.discontinuitySequence=e.number;c=e.number},"playlist-type":function t(){if(!/VOD|EVENT/.test(e.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist});return}this.manifest.playlistType=e.playlistType},map:function t(){o={};if(e.uri){o.uri=e.uri}if(e.byterange){o.byterange=e.byterange}},"stream-inf":function t(){this.manifest.playlists=i;this.manifest.mediaGroups=this.manifest.mediaGroups||l;if(!e.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}if(!a.attributes){a.attributes={}}m(a.attributes,e.attributes)},media:function n(){this.manifest.mediaGroups=this.manifest.mediaGroups||l;if(!(e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var i=this.manifest.mediaGroups[e.attributes.TYPE];i[e.attributes["GROUP-ID"]]=i[e.attributes["GROUP-ID"]]||{};t=i[e.attributes["GROUP-ID"]];r={default:/yes/i.test(e.attributes.DEFAULT)};if(r["default"]){r.autoselect=true}else{r.autoselect=/yes/i.test(e.attributes.AUTOSELECT)}if(e.attributes.LANGUAGE){r.language=e.attributes.LANGUAGE}if(e.attributes.URI){r.uri=e.attributes.URI}if(e.attributes["INSTREAM-ID"]){r.instreamId=e.attributes["INSTREAM-ID"]}if(e.attributes.CHARACTERISTICS){r.characteristics=e.attributes.CHARACTERISTICS}if(e.attributes.FORCED){r.forced=/yes/i.test(e.attributes.FORCED)}t[e.attributes.NAME]=r},discontinuity:function e(){c+=1;a.discontinuity=true;this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function t(){if(typeof this.manifest.dateTimeString==="undefined"){this.manifest.dateTimeString=e.dateTimeString;this.manifest.dateTimeObject=e.dateTimeObject}a.dateTimeString=e.dateTimeString;a.dateTimeObject=e.dateTimeObject},targetduration:function t(){if(!isFinite(e.duration)||e.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration});return}this.manifest.targetDuration=e.duration},totalduration:function t(){if(!isFinite(e.duration)||e.duration<0){this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration});return}this.manifest.totalDuration=e.duration},start:function t(){if(!e.attributes||isNaN(e.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}},"cue-out":function t(){a.cueOut=e.data},"cue-out-cont":function t(){a.cueOutCont=e.data},"cue-in":function t(){a.cueIn=e.data}})[e.tagType]||u).call(n)},uri:function t(){a.uri=e.uri;i.push(a);if(this.manifest.targetDuration&&!("duration"in a)){this.trigger("warn",{message:"defaulting segment duration to the target duration"});a.duration=this.manifest.targetDuration}if(s){a.key=s}a.timeline=c;if(o){a.map=o}a={}},comment:function e(){},custom:function t(){if(e.segment){a.custom=a.custom||{};a.custom[e.customType]=e.data}else{this.manifest.custom=this.manifest.custom||{};this.manifest.custom[e.customType]=e.data}}})[e.type].call(n)});return r}t.prototype.push=function e(t){this.lineStream.push(t)};t.prototype.end=function e(){this.lineStream.push("\n")};t.prototype.addParser=function e(t){this.parseStream.addParser(t)};return t}(b);var P=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var C=function(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e};var A=function e(t,r,n){if(t===null)t=Function.prototype;var i=Object.getOwnPropertyDescriptor(t,r);if(i===undefined){var a=Object.getPrototypeOf(t);if(a===null){return undefined}else{return e(a,r,n)}}else if("value"in i){return i.value}else{var o=i.get;if(o===undefined){return undefined}return o.call(n)}};var x=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t};var I=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e};var L=function(){function e(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var D=n.mergeOptions,R=n.EventTarget,j=n.log;var M=function e(t,r){["AUDIO","SUBTITLES"].forEach(function(e){for(var n in t.mediaGroups[e]){for(var i in t.mediaGroups[e][n]){var a=t.mediaGroups[e][n][i];r(a,e,n,i)}}})};var N=function e(t,r,n){var i=r.slice();n=n||0;var a=Math.min(t.length,r.length+n);for(var o=n;o<a;o++){i[o-n]=D(t[o],i[o-n])}return i};var U=function e(t,r){if(!t.resolvedUri){t.resolvedUri=v(r,t.uri)}if(t.key&&!t.key.resolvedUri){t.key.resolvedUri=v(r,t.key.uri)}if(t.map&&!t.map.resolvedUri){t.map.resolvedUri=v(r,t.map.uri)}};var B=function e(t,r){var n=D(t,{});var i=n.playlists[r.uri];if(!i){return null}if(i.segments&&r.segments&&i.segments.length===r.segments.length&&i.mediaSequence===r.mediaSequence){return null}var a=D(i,r);if(i.segments){a.segments=N(i.segments,r.segments,r.mediaSequence-i.mediaSequence)}a.segments.forEach(function(e){U(e,a.resolvedUri)});for(var o=0;o<n.playlists.length;o++){if(n.playlists[o].uri===r.uri){n.playlists[o]=a}}n.playlists[r.uri]=a;return n};var F=function e(t){var r=t.playlists.length;while(r--){var n=t.playlists[r];t.playlists[n.uri]=n;n.resolvedUri=v(t.uri,n.uri);n.id=r;if(!n.attributes){n.attributes={};j.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}};var q=function e(t){M(t,function(e){if(e.uri){e.resolvedUri=v(t.uri,e.uri)}})};var H=function e(t,r){var n=t.segments[t.segments.length-1];var i=void 0;if(r&&n&&n.duration){i=n.duration*1e3}else{i=(t.targetDuration||10)*500}return i};var V=function(e){x(t,e);function t(e,r,n){P(this,t);var i=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));i.srcUrl=e;i.hls_=r;i.withCredentials=n;if(!i.srcUrl){throw new Error("A non-empty playlist URL is required")}i.state="HAVE_NOTHING";i.on("mediaupdatetimeout",function(){if(i.state!=="HAVE_METADATA"){return}i.state="HAVE_CURRENT_METADATA";i.request=i.hls_.xhr({uri:v(i.master.uri,i.media().uri),withCredentials:i.withCredentials},function(e,t){if(!i.request){return}if(e){return i.playlistRequestError(i.request,i.media().uri,"HAVE_METADATA")}i.haveMetadata(i.request,i.media().uri)})});return i}O(t,[{key:"playlistRequestError",value:function e(t,r,n){this.request=null;if(n){this.state=n}this.error={playlist:this.master.playlists[r],status:t.status,message:"HLS playlist request error at URL: "+r,responseText:t.responseText,code:t.status>=500?4:2};this.trigger("error")}},{key:"haveMetadata",value:function e(t,r){var n=this;this.request=null;this.state="HAVE_METADATA";var i=new k;i.push(t.responseText);i.end();i.manifest.uri=r;i.manifest.attributes=i.manifest.attributes||{};var a=B(this.master,i.manifest);this.targetDuration=i.manifest.targetDuration;if(a){this.master=a;this.media_=this.master.playlists[i.manifest.uri]}else{this.trigger("playlistunchanged")}if(!this.media().endList){h.clearTimeout(this.mediaUpdateTimeout);this.mediaUpdateTimeout=h.setTimeout(function(){n.trigger("mediaupdatetimeout")},H(this.media(),!!a))}this.trigger("loadedplaylist")}},{key:"dispose",value:function e(){this.stopRequest();h.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function e(){if(this.request){var t=this.request;this.request=null;t.onreadystatechange=null;t.abort()}}},{key:"media",value:function e(t){var r=this;if(!t){return this.media_}if(this.state==="HAVE_NOTHING"){throw new Error("Cannot switch media playlist from "+this.state)}var n=this.state;if(typeof t==="string"){if(!this.master.playlists[t]){throw new Error("Unknown playlist URI: "+t)}t=this.master.playlists[t]}var i=!this.media_||t.uri!==this.media_.uri;if(this.master.playlists[t.uri].endList){if(this.request){this.request.onreadystatechange=null;this.request.abort();this.request=null}this.state="HAVE_METADATA";this.media_=t;if(i){this.trigger("mediachanging");this.trigger("mediachange")}return}if(!i){return}this.state="SWITCHING_MEDIA";if(this.request){if(v(this.master.uri,t.uri)===this.request.url){return}this.request.onreadystatechange=null;this.request.abort();this.request=null}if(this.media_){this.trigger("mediachanging")}this.request=this.hls_.xhr({uri:v(this.master.uri,t.uri),withCredentials:this.withCredentials},function(e,i){if(!r.request){return}if(e){return r.playlistRequestError(r.request,t.uri,n)}r.haveMetadata(i,t.uri);if(n==="HAVE_MASTER"){r.trigger("loadedmetadata")}else{r.trigger("mediachange")}})}},{key:"pause",value:function e(){this.stopRequest();h.clearTimeout(this.mediaUpdateTimeout);if(this.state==="HAVE_NOTHING"){this.started=false}if(this.state==="SWITCHING_MEDIA"){if(this.media_){this.state="HAVE_METADATA"}else{this.state="HAVE_MASTER"}}else if(this.state==="HAVE_CURRENT_METADATA"){this.state="HAVE_METADATA"}}},{key:"load",value:function e(t){var r=this;h.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var i=n?n.targetDuration/2*1e3:5*1e3;this.mediaUpdateTimeout=h.setTimeout(function(){return r.load()},i);return}if(!this.started){this.start();return}if(n&&!n.endList){this.trigger("mediaupdatetimeout")}else{this.trigger("loadedplaylist")}}},{key:"start",value:function e(){var t=this;this.started=true;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,r){if(!t.request){return}t.request=null;if(e){t.error={status:r.status,message:"HLS playlist request error at URL: "+t.srcUrl,responseText:r.responseText,code:2};if(t.state==="HAVE_NOTHING"){t.started=false}return t.trigger("error")}var n=new k;n.push(r.responseText);n.end();t.state="HAVE_MASTER";n.manifest.uri=t.srcUrl;if(n.manifest.playlists){t.master=n.manifest;F(t.master);q(t.master);t.trigger("loadedplaylist");if(!t.request){t.media(n.manifest.playlists[0])}return}t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:h.location.href,playlists:[{uri:t.srcUrl,id:0}]};t.master.playlists[t.srcUrl]=t.master.playlists[0];t.master.playlists[0].resolvedUri=t.srcUrl;t.master.playlists[0].attributes=t.master.playlists[0].attributes||{};t.haveMetadata(r,t.srcUrl);return t.trigger("loadedmetadata")})}}]);return t}(R);var W=n.createTimeRange;var G=function e(t,r){var n=0;var i=r-t.mediaSequence;var a=t.segments[i];if(a){if(typeof a.start!=="undefined"){return{result:a.start,precise:true}}if(typeof a.end!=="undefined"){return{result:a.end-a.duration,precise:true}}}while(i--){a=t.segments[i];if(typeof a.end!=="undefined"){return{result:n+a.end,precise:true}}n+=a.duration;if(typeof a.start!=="undefined"){return{result:n+a.start,precise:true}}}return{result:n,precise:false}};var z=function e(t,r){var n=0;var i=void 0;var a=r-t.mediaSequence;for(;a<t.segments.length;a++){i=t.segments[a];if(typeof i.start!=="undefined"){return{result:i.start-n,precise:true}}n+=i.duration;if(typeof i.end!=="undefined"){return{result:i.end-n,precise:true}}}return{result:-1,precise:false}};var X=function e(t,r,n){var i=void 0;var a=void 0;if(typeof r==="undefined"){r=t.mediaSequence+t.segments.length}if(r<t.mediaSequence){return 0}i=G(t,r);if(i.precise){return i.result}a=z(t,r);if(a.precise){return a.result}return i.result+n};var Y=function e(t,r,n){if(!t){return 0}if(typeof n!=="number"){n=0}if(typeof r==="undefined"){if(t.totalDuration){return t.totalDuration}if(!t.endList){return h.Infinity}}return X(t,r,n)};var K=function e(t,r,n){var i=0;if(r>n){var a=[n,r];r=a[0];n=a[1]}if(r<0){for(var o=r;o<Math.min(0,n);o++){i+=t.targetDuration}r=0}for(var s=r;s<n;s++){i+=t.segments[s].duration}return i};var $=function e(t){if(!t.segments.length){return 0}var r=t.segments.length-1;var n=t.segments[r].duration||t.targetDuration;var i=n+t.targetDuration*2;while(r--){n+=t.segments[r].duration;if(n>=i){break}}return Math.max(0,r)};var J=function e(t,r,n){if(!t||!t.segments){return null}if(t.endList){return Y(t)}if(r===null){return null}r=r||0;var i=n?$(t):t.segments.length;return X(t,t.mediaSequence+i,r)};var Q=function e(t,r){var n=true;var i=r||0;var a=J(t,r,n);if(a===null){return W()}return W(i,a)};var Z=function e(t){return t-Math.floor(t)===0};var ee=function e(t,r){if(Z(r)){return r+t*.1}var n=r.toString().split(".")[1].length;for(var i=1;i<=n;i++){var a=Math.pow(10,i);var o=r*a;if(Z(o)||i===n){return(o+t)/a}}};var te=ee.bind(null,1);var re=ee.bind(null,-1);var ne=function e(t,r,n,i){var a=void 0;var o=void 0;var s=t.segments.length;var u=r-i;if(u<0){if(n>0){for(a=n-1;a>=0;a--){o=t.segments[a];u+=re(o.duration);if(u>0){return{mediaIndex:a,startTime:i-K(t,n,a)}}}}return{mediaIndex:0,startTime:r}}if(n<0){for(a=n;a<0;a++){u-=t.targetDuration;if(u<0){return{mediaIndex:0,startTime:r}}}n=0}for(a=n;a<s;a++){o=t.segments[a];u-=te(o.duration);if(u<0){return{mediaIndex:a,startTime:i+K(t,n,a)}}}return{mediaIndex:s-1,startTime:r}};var ie=function e(t){return t.excludeUntil&&t.excludeUntil>Date.now()};var ae=function e(t){return t.excludeUntil&&t.excludeUntil===Infinity};var oe=function e(t){var r=ie(t);return!t.disabled&&!r};var se=function e(t){return t.disabled};var ue=function e(t){for(var r=0;r<t.segments.length;r++){if(t.segments[r].key){return true}}return false};var le=function e(t){for(var r=0;r<t.segments.length;r++){if(t.segments[r].map){return true}}return false};var ce=function e(t,r){return r.attributes&&r.attributes[t]};var fe=function e(t,r,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;if(!ce("BANDWIDTH",n)){return NaN}var a=t*n.attributes.BANDWIDTH;return(a-i*8)/r};var de=function e(t,r){if(t.playlists.length===1){return true}var n=r.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(function(e){if(!oe(e)){return false}return(e.attributes.BANDWIDTH||0)<n}).length===0};var pe={duration:Y,seekable:Q,safeLiveIndex:$,getMediaInfoForTime:ne,isEnabled:oe,isDisabled:se,isBlacklisted:ie,isIncompatible:ae,playlistEnd:J,isAes:ue,isFmp4:le,hasAttribute:ce,estimateSegmentRequestTime:fe,isLowestEnabledRendition:de};var he=n.xhr,ve=n.mergeOptions;var ye=function e(){var t=function e(t,r){t=ve({timeout:45e3},t);var i=e.beforeRequest||n.Hls.xhr.beforeRequest;if(i&&typeof i==="function"){var a=i(t);if(a){t=a}}var o=he(t,function(e,t){var n=o.response;if(!e&&n){o.responseTime=Date.now();o.roundTripTime=o.responseTime-o.requestTime;o.bytesReceived=n.byteLength||n.length;if(!o.bandwidth){o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3)}}if(t.headers){o.responseHeaders=t.headers}if(e&&e.code==="ETIMEDOUT"){o.timedout=true}if(!e&&!o.aborted&&t.statusCode!==200&&t.statusCode!==206&&t.statusCode!==0){e=new Error("XHR Failed with a response of: "+(o&&(n||o.responseText)))}r(e,o)});var s=o.abort;o.abort=function(){o.aborted=true;return s.apply(o,arguments)};o.uri=t.uri;o.requestTime=Date.now();return o};return t};function me(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}var ge=function e(t,r){if(!(t instanceof r)){throw new TypeError("Cannot call a class as a function")}};var _e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var be=function e(t,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof r)}t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(r)Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r};var Te=function e(t,r){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return r&&(typeof r==="object"||typeof r==="function")?r:t};var Se=function e(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]];var r=t[0];var n=t[1];var i=r[4];var a=n[4];var o=void 0;var s=void 0;var u=void 0;var l=[];var c=[];var f=void 0;var d=void 0;var p=void 0;var h=void 0;var v=void 0;var y=void 0;for(o=0;o<256;o++){c[(l[o]=o<<1^(o>>7)*283)^o]=o}for(s=u=0;!i[s];s^=f||1,u=c[u]||1){h=u^u<<1^u<<2^u<<3^u<<4;h=h>>8^h&255^99;i[s]=h;a[h]=s;p=l[d=l[f=l[s]]];y=p*16843009^d*65537^f*257^s*16843008;v=l[h]*257^h*16843008;for(o=0;o<4;o++){r[o][s]=v=v<<24^v>>>8;n[o][h]=y=y<<24^y>>>8}}for(o=0;o<5;o++){r[o]=r[o].slice(0);n[o]=n[o].slice(0)}return t};var we=null;var Ee=function(){function e(t){ge(this,e);if(!we){we=Se()}this._tables=[[we[0][0].slice(),we[0][1].slice(),we[0][2].slice(),we[0][3].slice(),we[0][4].slice()],[we[1][0].slice(),we[1][1].slice(),we[1][2].slice(),we[1][3].slice(),we[1][4].slice()]];var r=void 0;var n=void 0;var i=void 0;var a=void 0;var o=void 0;var s=this._tables[0][4];var u=this._tables[1];var l=t.length;var c=1;if(l!==4&&l!==6&&l!==8){throw new Error("Invalid aes key size")}a=t.slice(0);o=[];this._key=[a,o];for(r=l;r<4*l+28;r++){i=a[r-1];if(r%l===0||l===8&&r%l===4){i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[i&255];if(r%l===0){i=i<<8^i>>>24^c<<24;c=c<<1^(c>>7)*283}}a[r]=a[r-l]^i}for(n=0;r;n++,r--){i=a[n&3?r:r-4];if(r<=4||n<4){o[n]=i}else{o[n]=u[0][s[i>>>24]]^u[1][s[i>>16&255]]^u[2][s[i>>8&255]]^u[3][s[i&255]]}}}e.prototype.decrypt=function e(t,r,n,i,a,o){var s=this._key[1];var u=t^s[0];var l=i^s[1];var c=n^s[2];var f=r^s[3];var d=void 0;var p=void 0;var h=void 0;var v=s.length/4-2;var y=void 0;var m=4;var g=this._tables[1];var _=g[0];var b=g[1];var T=g[2];var S=g[3];var w=g[4];for(y=0;y<v;y++){d=_[u>>>24]^b[l>>16&255]^T[c>>8&255]^S[f&255]^s[m];p=_[l>>>24]^b[c>>16&255]^T[f>>8&255]^S[u&255]^s[m+1];h=_[c>>>24]^b[f>>16&255]^T[u>>8&255]^S[l&255]^s[m+2];f=_[f>>>24]^b[u>>16&255]^T[l>>8&255]^S[c&255]^s[m+3];m+=4;u=d;l=p;c=h}for(y=0;y<4;y++){a[(3&-y)+o]=w[u>>>24]<<24^w[l>>16&255]<<16^w[c>>8&255]<<8^w[f&255]^s[m++];d=u;u=l;l=c;c=f;f=d}};return e}();var ke=function(){function e(){ge(this,e);this.listeners={}}e.prototype.on=function e(t,r){if(!this.listeners[t]){this.listeners[t]=[]}this.listeners[t].push(r)};e.prototype.off=function e(t,r){if(!this.listeners[t]){return false}var n=this.listeners[t].indexOf(r);this.listeners[t].splice(n,1);return n>-1};e.prototype.trigger=function e(t){var r=this.listeners[t];if(!r){return}if(arguments.length===2){var n=r.length;for(var i=0;i<n;++i){r[i].call(this,arguments[1])}}else{var a=Array.prototype.slice.call(arguments,1);var o=r.length;for(var s=0;s<o;++s){r[s].apply(this,a)}}};e.prototype.dispose=function e(){this.listeners={}};e.prototype.pipe=function e(t){this.on("data",function(e){t.push(e)})};return e}();var Pe=function(e){be(t,e);function t(){ge(this,t);var r=Te(this,e.call(this,ke));r.jobs=[];r.delay=1;r.timeout_=null;return r}t.prototype.processJob_=function e(){this.jobs.shift()();if(this.jobs.length){this.timeout_=setTimeout(this.processJob_.bind(this),this.delay)}else{this.timeout_=null}};t.prototype.push=function e(t){this.jobs.push(t);if(!this.timeout_){this.timeout_=setTimeout(this.processJob_.bind(this),this.delay)}};return t}(ke);var Oe=function e(t){return t<<24|(t&65280)<<8|(t&16711680)>>8|t>>>24};var Ce=function e(t,r,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2);var a=new Ee(Array.prototype.slice.call(r));var o=new Uint8Array(t.byteLength);var s=new Int32Array(o.buffer);var u=void 0;var l=void 0;var c=void 0;var f=void 0;var d=void 0;var p=void 0;var h=void 0;var v=void 0;var y=void 0;u=n[0];l=n[1];c=n[2];f=n[3];for(y=0;y<i.length;y+=4){d=Oe(i[y]);p=Oe(i[y+1]);h=Oe(i[y+2]);v=Oe(i[y+3]);a.decrypt(d,p,h,v,s,y);s[y]=Oe(s[y]^u);s[y+1]=Oe(s[y+1]^l);s[y+2]=Oe(s[y+2]^c);s[y+3]=Oe(s[y+3]^f);u=d;l=p;c=h;f=v}return o};var Ae=function(){function e(t,r,n,i){ge(this,e);var a=e.STEP;var o=new Int32Array(t.buffer);var s=new Uint8Array(t.byteLength);var u=0;this.asyncStream_=new Pe;this.asyncStream_.push(this.decryptChunk_(o.subarray(u,u+a),r,n,s));for(u=a;u<o.length;u+=a){n=new Uint32Array([Oe(o[u-4]),Oe(o[u-3]),Oe(o[u-2]),Oe(o[u-1])]);this.asyncStream_.push(this.decryptChunk_(o.subarray(u,u+a),r,n,s))}this.asyncStream_.push(function(){i(null,me(s))})}e.prototype.decryptChunk_=function e(t,r,n,i){return function(){var e=Ce(t,r,n);i.set(e,t.byteOffset)}};_e(e,null,[{key:"STEP",get:function e(){return 32e3}}]);return e}();var xe=function e(t,r){return t.start(r)+"-"+t.end(r)};var Ie=function e(t,r){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(r%2?" ":"")};var Le=function e(t){if(t>=32&&t<126){return String.fromCharCode(t)}return"."};var De=function e(t){var r={};Object.keys(t).forEach(function(e){var n=t[e];if(ArrayBuffer.isView(n)){r[e]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}}else{r[e]=n}});return r};var Re=function e(t){var r=t.byterange||{length:Infinity,offset:0};return[r.length,r.offset,t.resolvedUri].join(",")};var je=function e(t){var r=Array.prototype.slice.call(t);var n=16;var i="";var a=void 0;var o=void 0;for(var s=0;s<r.length/n;s++){a=r.slice(s*n,s*n+n).map(Ie).join("");o=r.slice(s*n,s*n+n).map(Le).join("");i+=a+" "+o+"\n"}return i};var Me=function e(t){var r=t.bytes;return je(r)};var Ne=function e(t){var r="";var n=void 0;for(n=0;n<t.length;n++){r+=xe(t,n)+" "}return r};var Ue=Object.freeze({createTransferableMessage:De,initSegmentId:Re,hexDump:je,tagDump:Me,textRanges:Ne});var Be=1/30;var Fe=Be*3;var qe=function e(t,r){var i=[];var a=void 0;if(t&&t.length){for(a=0;a<t.length;a++){if(r(t.start(a),t.end(a))){i.push([t.start(a),t.end(a)])}}}return n.createTimeRanges(i)};var He=function e(t,r){return qe(t,function(e,t){return e-Be<=r&&t+Be>=r})};var Ve=function e(t,r){return qe(t,function(e){return e-Be>=r})};var We=function e(t){if(t.length<2){return n.createTimeRanges()}var r=[];for(var i=1;i<t.length;i++){var a=t.end(i-1);var o=t.start(i);r.push([a,o])}return n.createTimeRanges(r)};var Ge=function e(t){var r=[];if(!t||!t.length){return""}for(var n=0;n<t.length;n++){r.push(t.start(n)+" => "+t.end(n))}return r.join(", ")};var ze=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var i=t.length?t.end(t.length-1):0;return(i-r)/n};var Xe=function e(t){var r=[];for(var n=0;n<t.length;n++){r.push({start:t.start(n),end:t.end(n)})}return r};var Ye=function e(t,r,n){var i=r.player_;if(n.captions&&n.captions.length){if(!t.inbandTextTracks_){t.inbandTextTracks_={}}for(var a in n.captionStreams){if(!t.inbandTextTracks_[a]){i.tech_.trigger({type:"usage",name:"hls-608"});var o=i.textTracks().getTrackById(a);if(o){t.inbandTextTracks_[a]=o}else{t.inbandTextTracks_[a]=i.addRemoteTextTrack({kind:"captions",id:a,label:a},false).track}}}}if(n.metadata&&n.metadata.length&&!t.metadataTrack_){t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},false).track;t.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType}};var Ke=function e(t,r,n){var i=void 0;var a=void 0;if(!n){return}if(!n.cues){return}i=n.cues.length;while(i--){a=n.cues[i];if(a.startTime<=r&&a.endTime>=t){n.removeCue(a)}}};var $e=function e(t){Object.defineProperties(t.frame,{id:{get:function e(){n.log.warn("cue.frame.id is deprecated. Use cue.value.key instead.");return t.value.key}},value:{get:function e(){n.log.warn("cue.frame.value is deprecated. Use cue.value.data instead.");return t.value.data}},privateData:{get:function e(){n.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead.");return t.value.data}}})};var Je=function e(t){var r=void 0;if(isNaN(t)||Math.abs(t)===Infinity){r=Number.MAX_VALUE}else{r=t}return r};var Qe=function e(t,r,n){var i=h.WebKitDataCue||h.VTTCue;if(r){r.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new i(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},t)}if(n){var a=Je(t.mediaSource_.duration);n.forEach(function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var r=new i(t,t,e.value||e.url||e.data||"");r.frame=e;r.value=e;$e(r);this.metadataTrack_.addCue(r)},this)},t);if(t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){var o=t.metadataTrack_.cues;var s=[];for(var u=0;u<o.length;u++){if(o[u]){s.push(o[u])}}var l=s.reduce(function(e,t){var r=e[t.startTime]||[];r.push(t);e[t.startTime]=r;return e},{});var c=Object.keys(l).sort(function(e,t){return Number(e)-Number(t)});c.forEach(function(e,t){var r=l[e];var n=Number(c[t+1])||a;r.forEach(function(e){e.endTime=n})})}}};var Ze=typeof e!=="undefined"?e:{},et=typeof Symbol==="undefined"?"__target":Symbol(),tt="application/javascript",rt=Ze.BlobBuilder||Ze.WebKitBlobBuilder||Ze.MozBlobBuilder||Ze.MSBlobBuilder,nt=Ze.URL||Ze.webkitURL||nt&&nt.msURL,it=Ze.Worker;function at(e,t){return function r(n){var i=this;if(!t){return new it(e)}else if(it&&!n){var a=t.toString().replace(/^function.+?{/,"").slice(0,-1),o=lt(a);this[et]=new it(o);ct(this[et],o);return this[et]}else{var s={postMessage:function e(t){if(i.onmessage){setTimeout(function(){i.onmessage({data:t,target:s})})}}};t.call(s);this.postMessage=function(e){setTimeout(function(){s.onmessage({data:e,target:i})})};this.isThisThread=true}}}if(it){var ot,st=lt("self.onmessage = function () {}"),ut=new Uint8Array(1);try{ot=new it(st);ot.postMessage(ut,[ut.buffer])}catch(e){it=null}finally{nt.revokeObjectURL(st);if(ot){ot.terminate()}}}function lt(e){try{return nt.createObjectURL(new Blob([e],{type:tt}))}catch(r){var t=new rt;t.append(e);return nt.createObjectURL(t.getBlob(type))}}function ct(e,t){if(!e||!t)return;var r=e.terminate;e.objURL=t;e.terminate=function(){if(e.objURL)nt.revokeObjectURL(e.objURL);r.call(e)}}var ft=new at("./transmuxer-worker.worker.js",function(e,t){var r=this;var n=function(){var t=typeof e!=="undefined"?e:typeof global!=="undefined"?global:typeof r!=="undefined"?r:{};var n;if(typeof e!=="undefined"){n=e}else if(typeof t!=="undefined"){n=t}else if(typeof r!=="undefined"){n=r}else{n={}}var i=n;var a=Math.pow(2,32)-1;var o,s,u,l,c,f,d,p,h,v,y,m,g,_,b,T,S,w,E,k,P,O,C,A,x,I,L,D,R,j,M,N,U,B,F,q;(function(){var e;C={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]};if(typeof Uint8Array==="undefined"){return}for(e in C){if(C.hasOwnProperty(e)){C[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]}}A=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]);I=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]);x=new Uint8Array([0,0,0,1]);L=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);D=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);R={video:L,audio:D};N=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);M=new Uint8Array([0,0,0,0,0,0,0,0]);U=new Uint8Array([0,0,0,0,0,0,0,0]);B=U;F=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);q=U;j=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])})();o=function e(t){var r=[],n=0,i,a,o;for(i=1;i<arguments.length;i++){r.push(arguments[i])}i=r.length;while(i--){n+=r[i].byteLength}a=new Uint8Array(n+8);o=new DataView(a.buffer,a.byteOffset,a.byteLength);o.setUint32(0,a.byteLength);a.set(t,4);for(i=0,n=8;i<r.length;i++){a.set(r[i],n);n+=r[i].byteLength}return a};s=function e(){return o(C.dinf,o(C.dref,N))};u=function e(t){return o(C.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))};l=function e(){return o(C.ftyp,A,x,A,I)};T=function e(t){return o(C.hdlr,R[t])};c=function e(t){return o(C.mdat,t)};b=function e(t){var r=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,t.duration&255,85,196,0,0]);if(t.samplerate){r[12]=t.samplerate>>>24&255;r[13]=t.samplerate>>>16&255;r[14]=t.samplerate>>>8&255;r[15]=t.samplerate&255}return o(C.mdhd,r)};_=function e(t){return o(C.mdia,b(t),T(t.type),d(t))};f=function e(t){return o(C.mfhd,new Uint8Array([0,0,0,0,(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255]))};d=function e(t){return o(C.minf,t.type==="video"?o(C.vmhd,j):o(C.smhd,M),s(),w(t))};p=function e(t,r){var n=[],i=r.length;while(i--){n[i]=k(r[i])}return o.apply(null,[C.moof,f(t)].concat(n))};h=function e(t){var r=t.length,n=[];while(r--){n[r]=m(t[r])}return o.apply(null,[C.moov,y(4294967295)].concat(n).concat(v(t)))};v=function e(t){var r=t.length,n=[];while(r--){n[r]=P(t[r])}return o.apply(null,[C.mvex].concat(n))};y=function e(t){var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(C.mvhd,r)};S=function e(t){var r=t.samples||[],n=new Uint8Array(4+r.length),i,a;for(a=0;a<r.length;a++){i=r[a].flags;n[a+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy}return o(C.sdtp,n)};w=function e(t){return o(C.stbl,E(t),o(C.stts,q),o(C.stsc,B),o(C.stsz,F),o(C.stco,U))};(function(){var e,t;E=function r(n){return o(C.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),n.type==="video"?e(n):t(n))};e=function e(t){var r=t.sps||[],n=t.pps||[],i=[],a=[],s;for(s=0;s<r.length;s++){i.push((r[s].byteLength&65280)>>>8);i.push(r[s].byteLength&255);i=i.concat(Array.prototype.slice.call(r[s]))}for(s=0;s<n.length;s++){a.push((n[s].byteLength&65280)>>>8);a.push(n[s].byteLength&255);a=a.concat(Array.prototype.slice.call(n[s]))}return o(C.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(t.width&65280)>>8,t.width&255,(t.height&65280)>>8,t.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(C.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([r.length]).concat(i).concat([n.length]).concat(a))),o(C.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))};t=function e(t){return o(C.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(t.channelcount&65280)>>8,t.channelcount&255,(t.samplesize&65280)>>8,t.samplesize&255,0,0,0,0,(t.samplerate&65280)>>8,t.samplerate&255,0,0]),u(t))}})();g=function e(t){var r=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(t.id&4278190080)>>24,(t.id&16711680)>>16,(t.id&65280)>>8,t.id&255,0,0,0,0,(t.duration&4278190080)>>24,(t.duration&16711680)>>16,(t.duration&65280)>>8,t.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(t.width&65280)>>8,t.width&255,0,0,(t.height&65280)>>8,t.height&255,0,0]);return o(C.tkhd,r)};k=function e(t){var r,n,i,s,u,l,c;r=o(C.tfhd,new Uint8Array([0,0,0,58,(t.id&4278190080)>>24,(t.id&16711680)>>16,(t.id&65280)>>8,t.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]));l=Math.floor(t.baseMediaDecodeTime/(a+1));c=Math.floor(t.baseMediaDecodeTime%(a+1));n=o(C.tfdt,new Uint8Array([1,0,0,0,l>>>24&255,l>>>16&255,l>>>8&255,l&255,c>>>24&255,c>>>16&255,c>>>8&255,c&255]));u=32+20+8+16+8+8;if(t.type==="audio"){i=O(t,u);return o(C.traf,r,n,i)}s=S(t);i=O(t,s.length+u);return o(C.traf,r,n,i,s)};m=function e(t){t.duration=t.duration||4294967295;return o(C.trak,g(t),_(t))};P=function e(t){var r=new Uint8Array([0,0,0,0,(t.id&4278190080)>>24,(t.id&16711680)>>16,(t.id&65280)>>8,t.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);if(t.type!=="video"){r[r.length-1]=0}return o(C.trex,r)};(function(){var e,t,r;r=function e(t,r){var n=0,i=0,a=0,o=0;if(t.length){if(t[0].duration!==undefined){n=1}if(t[0].size!==undefined){i=2}if(t[0].flags!==undefined){a=4}if(t[0].compositionTimeOffset!==undefined){o=8}}return[0,0,n|i|a|o,1,(t.length&4278190080)>>>24,(t.length&16711680)>>>16,(t.length&65280)>>>8,t.length&255,(r&4278190080)>>>24,(r&16711680)>>>16,(r&65280)>>>8,r&255]};t=function e(t,n){var i,a,s,u;a=t.samples||[];n+=8+12+16*a.length;i=r(a,n);for(u=0;u<a.length;u++){s=a[u];i=i.concat([(s.duration&4278190080)>>>24,(s.duration&16711680)>>>16,(s.duration&65280)>>>8,s.duration&255,(s.size&4278190080)>>>24,(s.size&16711680)>>>16,(s.size&65280)>>>8,s.size&255,s.flags.isLeading<<2|s.flags.dependsOn,s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,s.flags.degradationPriority&240<<8,s.flags.degradationPriority&15,(s.compositionTimeOffset&4278190080)>>>24,(s.compositionTimeOffset&16711680)>>>16,(s.compositionTimeOffset&65280)>>>8,s.compositionTimeOffset&255])}return o(C.trun,new Uint8Array(i))};e=function e(t,n){var i,a,s,u;a=t.samples||[];n+=8+12+8*a.length;i=r(a,n);for(u=0;u<a.length;u++){s=a[u];i=i.concat([(s.duration&4278190080)>>>24,(s.duration&16711680)>>>16,(s.duration&65280)>>>8,s.duration&255,(s.size&4278190080)>>>24,(s.size&16711680)>>>16,(s.size&65280)>>>8,s.size&255])}return o(C.trun,new Uint8Array(i))};O=function r(n,i){if(n.type==="audio"){return e(n,i)}return t(n,i)}})();var H={ftyp:l,mdat:c,moof:p,moov:h,initSegment:function e(t){var r=l(),n=h(t),i;i=new Uint8Array(r.byteLength+n.byteLength);i.set(r);i.set(n,r.byteLength);return i}};var V=function e(){this.init=function(){var e={};this.on=function(t,r){if(!e[t]){e[t]=[]}e[t]=e[t].concat(r)};this.off=function(t,r){var n;if(!e[t]){return false}n=e[t].indexOf(r);e[t]=e[t].slice();e[t].splice(n,1);return n>-1};this.trigger=function(t){var r,n,i,a;r=e[t];if(!r){return}if(arguments.length===2){i=r.length;for(n=0;n<i;++n){r[n].call(this,arguments[1])}}else{a=[];n=arguments.length;for(n=1;n<arguments.length;++n){a.push(arguments[n])}i=r.length;for(n=0;n<i;++n){r[n].apply(this,a)}}};this.dispose=function(){e={}}}};V.prototype.pipe=function(e){this.on("data",function(t){e.push(t)});this.on("done",function(t){e.flush(t)});return e};V.prototype.push=function(e){this.trigger("data",e)};V.prototype.flush=function(e){this.trigger("done",e)};var W=V;var G=4,z=128;var X=function e(t){var r=0,n={payloadType:-1,payloadSize:0},i=0,a=0;while(r<t.byteLength){if(t[r]===z){break}while(t[r]===255){i+=255;r++}i+=t[r++];while(t[r]===255){a+=255;r++}a+=t[r++];if(!n.payload&&i===G){n.payloadType=i;n.payloadSize=a;n.payload=t.subarray(r,r+a);break}r+=a;i=0;a=0}return n};var Y=function e(t){if(t.payload[0]!==181){return null}if((t.payload[1]<<8|t.payload[2])!==49){return null}if(String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])!=="GA94"){return null}if(t.payload[7]!==3){return null}return t.payload.subarray(8,t.payload.length-1)};var K=function e(t,r){var n=[],i,a,o,s;if(!(r[0]&64)){return n}a=r[0]&31;for(i=0;i<a;i++){o=i*3;s={type:r[o+2]&3,pts:t};if(r[o+2]&4){s.ccData=r[o+3]<<8|r[o+4];n.push(s)}}return n};var $=function e(){e.prototype.init.call(this);this.captionPackets_=[];this.ccStreams_=[new re(0,0),new re(0,1),new re(1,0),new re(1,1)];this.reset();this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data"));e.on("done",this.trigger.bind(this,"done"))},this)};$.prototype=new W;$.prototype.push=function(e){var t,r;if(e.nalUnitType!=="sei_rbsp"){return}t=X(e.escapedRBSP);if(t.payloadType!==G){return}r=Y(t);if(!r){return}if(e.dts<this.latestDts_){this.ignoreNextEqualDts_=true;return}else if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--;if(!this.numSameDts_){this.ignoreNextEqualDts_=false}return}this.captionPackets_=this.captionPackets_.concat(K(e.pts,r));if(this.latestDts_!==e.dts){this.numSameDts_=0}this.numSameDts_++;this.latestDts_=e.dts};$.prototype.flush=function(){if(!this.captionPackets_.length){this.ccStreams_.forEach(function(e){e.flush()},this);return}this.captionPackets_.forEach(function(e,t){e.presortIndex=t});this.captionPackets_.sort(function(e,t){if(e.pts===t.pts){return e.presortIndex-t.presortIndex}return e.pts-t.pts});this.captionPackets_.forEach(function(e){if(e.type<2){this.dispatchCea608Packet(e)}},this);this.captionPackets_.length=0;this.ccStreams_.forEach(function(e){e.flush()},this);return};$.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=false;this.numSameDts_=0;this.activeCea608Channel_=[null,null];this.ccStreams_.forEach(function(e){e.reset()})};$.prototype.dispatchCea608Packet=function(e){if(this.setsChannel1Active(e)){this.activeCea608Channel_[e.type]=0}else if(this.setsChannel2Active(e)){this.activeCea608Channel_[e.type]=1}if(this.activeCea608Channel_[e.type]===null){return}this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)};$.prototype.setsChannel1Active=function(e){return(e.ccData&30720)===4096};$.prototype.setsChannel2Active=function(e){return(e.ccData&30720)===6144};var J={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496};var Q=function e(t){if(t===null){return""}t=J[t]||t;return String.fromCharCode(t)};var Z=14;var ee=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152];var te=function e(){var t=[],r=Z+1;while(r--){t.push("")}return t};var re=function e(t,r){e.prototype.init.call(this);this.field_=t||0;this.dataChannel_=r||0;this.name_="CC"+((this.field_<<1|this.dataChannel_)+1);this.setConstants();this.reset();this.push=function(e){var t,r,n,i,a;t=e.ccData&32639;if(t===this.lastControlCode_){this.lastControlCode_=null;return}if((t&61440)===4096){this.lastControlCode_=t}else if(t!==this.PADDING_){this.lastControlCode_=null}n=t>>>8;i=t&255;if(t===this.PADDING_){return}else if(t===this.RESUME_CAPTION_LOADING_){this.mode_="popOn"}else if(t===this.END_OF_CAPTION_){this.clearFormatting(e.pts);this.flushDisplayed(e.pts);r=this.displayed_;this.displayed_=this.nonDisplayed_;this.nonDisplayed_=r;this.startPts_=e.pts}else if(t===this.ROLL_UP_2_ROWS_){this.topRow_=Z-1;this.mode_="rollUp"}else if(t===this.ROLL_UP_3_ROWS_){this.topRow_=Z-2;this.mode_="rollUp"}else if(t===this.ROLL_UP_4_ROWS_){this.topRow_=Z-3;this.mode_="rollUp"}else if(t===this.CARRIAGE_RETURN_){this.clearFormatting(e.pts);this.flushDisplayed(e.pts);this.shiftRowsUp_();this.startPts_=e.pts}else if(t===this.BACKSPACE_){if(this.mode_==="popOn"){this.nonDisplayed_[Z]=this.nonDisplayed_[Z].slice(0,-1)}else{this.displayed_[Z]=this.displayed_[Z].slice(0,-1)}}else if(t===this.ERASE_DISPLAYED_MEMORY_){this.flushDisplayed(e.pts);this.displayed_=te()}else if(t===this.ERASE_NON_DISPLAYED_MEMORY_){this.nonDisplayed_=te()}else if(t===this.RESUME_DIRECT_CAPTIONING_){this.mode_="paintOn"}else if(this.isSpecialCharacter(n,i)){n=(n&3)<<8;a=Q(n|i);this[this.mode_](e.pts,a);this.column_++}else if(this.isExtCharacter(n,i)){if(this.mode_==="popOn"){this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1)}else{this.displayed_[Z]=this.displayed_[Z].slice(0,-1)}n=(n&3)<<8;a=Q(n|i);this[this.mode_](e.pts,a);this.column_++}else if(this.isMidRowCode(n,i)){this.clearFormatting(e.pts);this[this.mode_](e.pts," ");this.column_++;if((i&14)===14){this.addFormatting(e.pts,["i"])}if((i&1)===1){this.addFormatting(e.pts,["u"])}}else if(this.isOffsetControlCode(n,i)){this.column_+=i&3}else if(this.isPAC(n,i)){var o=ee.indexOf(t&7968);if(o!==this.row_){this.clearFormatting(e.pts);this.row_=o}if(i&1&&this.formatting_.indexOf("u")===-1){this.addFormatting(e.pts,["u"])}if((t&16)===16){this.column_=((t&14)>>1)*4}if(this.isColorPAC(i)){if((i&14)===14){this.addFormatting(e.pts,["i"])}}}else if(this.isNormalChar(n)){if(i===0){i=null}a=Q(n);a+=Q(i);this[this.mode_](e.pts,a);this.column_+=a.length}}};re.prototype=new W;re.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");if(t.length){this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})}};re.prototype.reset=function(){this.mode_="popOn";this.topRow_=0;this.startPts_=0;this.displayed_=te();this.nonDisplayed_=te();this.lastControlCode_=null;this.column_=0;this.row_=Z;this.formatting_=[]};re.prototype.setConstants=function(){if(this.dataChannel_===0){this.BASE_=16;this.EXT_=17;this.CONTROL_=(20|this.field_)<<8;this.OFFSET_=23}else if(this.dataChannel_===1){this.BASE_=24;this.EXT_=25;this.CONTROL_=(28|this.field_)<<8;this.OFFSET_=31}this.PADDING_=0;this.RESUME_CAPTION_LOADING_=this.CONTROL_|32;this.END_OF_CAPTION_=this.CONTROL_|47;this.ROLL_UP_2_ROWS_=this.CONTROL_|37;this.ROLL_UP_3_ROWS_=this.CONTROL_|38;this.ROLL_UP_4_ROWS_=this.CONTROL_|39;this.CARRIAGE_RETURN_=this.CONTROL_|45;this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41;this.BACKSPACE_=this.CONTROL_|33;this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44;this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};re.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63};re.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63};re.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47};re.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35};re.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127};re.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127};re.prototype.isNormalChar=function(e){return e>=32&&e<=127};re.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var r=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,r)};re.prototype.clearFormatting=function(e){if(!this.formatting_.length){return}var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[];this[this.mode_](e,t)};re.prototype.popOn=function(e,t){var r=this.nonDisplayed_[this.row_];r+=t;this.nonDisplayed_[this.row_]=r};re.prototype.rollUp=function(e,t){var r=this.displayed_[Z];r+=t;this.displayed_[Z]=r};re.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++){this.displayed_[e]=""}for(e=this.topRow_;e<Z;e++){this.displayed_[e]=this.displayed_[e+1]}this.displayed_[Z]=""};re.prototype.paintOn=function(){};var ne={CaptionStream:$,Cea608Stream:re};var ie={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};var ae=8589934592;var oe=4294967296;var se=function e(t,r){var n=1;if(t>r){n=-1}while(Math.abs(r-t)>oe){t+=n*ae}return t};var ue=function e(t){var r,n;e.prototype.init.call(this);this.type_=t;this.push=function(e){if(e.type!==this.type_){return}if(n===undefined){n=e.dts}e.dts=se(e.dts,n);e.pts=se(e.pts,n);r=e.dts;this.trigger("data",e)};this.flush=function(){n=r;this.trigger("done")};this.discontinuity=function(){n=void 0;r=void 0}};ue.prototype=new W;var le={TimestampRolloverStream:ue,handleRollover:se};var ce=function e(t,r,n){var i,a="";for(i=r;i<n;i++){a+="%"+("00"+t[i].toString(16)).slice(-2)}return a},fe=function e(t,r,n){return decodeURIComponent(ce(t,r,n))},de=function e(t,r,n){return unescape(ce(t,r,n))},pe=function e(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},he={TXXX:function e(t){var r;if(t.data[0]!==3){return}for(r=1;r<t.data.length;r++){if(t.data[r]===0){t.description=fe(t.data,1,r);t.value=fe(t.data,r+1,t.data.length).replace(/\0*$/,"");break}}t.data=t.value},WXXX:function e(t){var r;if(t.data[0]!==3){return}for(r=1;r<t.data.length;r++){if(t.data[r]===0){t.description=fe(t.data,1,r);t.url=fe(t.data,r+1,t.data.length);break}}},PRIV:function e(t){var r;for(r=0;r<t.data.length;r++){if(t.data[r]===0){t.owner=de(t.data,0,r);break}}t.privateData=t.data.subarray(r+1);t.data=t.privateData}},ve;ve=function e(t){var r={debug:!!(t&&t.debug),descriptor:t&&t.descriptor},n=0,i=[],a=0,o;ve.prototype.init.call(this);this.dispatchType=ie.METADATA_STREAM_TYPE.toString(16);if(r.descriptor){for(o=0;o<r.descriptor.length;o++){this.dispatchType+=("00"+r.descriptor[o].toString(16)).slice(-2)}}this.push=function(e){var t,o,s,u,l,c;if(e.type!=="timed-metadata"){return}if(e.dataAlignmentIndicator){a=0;i.length=0}if(i.length===0&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0))){if(r.debug){console.log("Skipping unrecognized metadata packet")}return}i.push(e);a+=e.data.byteLength;if(i.length===1){n=pe(e.data.subarray(6,10));n+=10}if(a<n){return}t={data:new Uint8Array(n),frames:[],pts:i[0].pts,dts:i[0].dts};for(l=0;l<n;){t.data.set(i[0].data.subarray(0,n-l),l);l+=i[0].data.byteLength;a-=i[0].data.byteLength;i.shift()}o=10;if(t.data[5]&64){o+=4;o+=pe(t.data.subarray(10,14));n-=pe(t.data.subarray(16,20))}do{s=pe(t.data.subarray(o+4,o+8));if(s<1){return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.")}c=String.fromCharCode(t.data[o],t.data[o+1],t.data[o+2],t.data[o+3]);u={id:c,data:t.data.subarray(o+10,o+s+10)};u.key=u.id;if(he[u.id]){he[u.id](u);if(u.owner==="com.apple.streaming.transportStreamTimestamp"){var f=u.data,d=(f[3]&1)<<30|f[4]<<22|f[5]<<14|f[6]<<6|f[7]>>>2;d*=4;d+=f[7]&3;u.timeStamp=d;if(t.pts===undefined&&t.dts===undefined){t.pts=u.timeStamp;t.dts=u.timeStamp}this.trigger("timestamp",u)}}t.frames.push(u);o+=10;o+=s}while(o<n);this.trigger("data",t)}};ve.prototype=new W;var ye=ve;var me=le.TimestampRolloverStream;var ge,_e,be;var Te=188,Se=71;ge=function e(){var t=new Uint8Array(Te),r=0;ge.prototype.init.call(this);this.push=function(e){var n=0,i=Te,a;if(r){a=new Uint8Array(e.byteLength+r);a.set(t.subarray(0,r));a.set(e,r);r=0}else{a=e}while(i<a.byteLength){if(a[n]===Se&&a[i]===Se){this.trigger("data",a.subarray(n,i));n+=Te;i+=Te;continue}n++;i++}if(n<a.byteLength){t.set(a.subarray(n),0);r=a.byteLength-n}};this.flush=function(){if(r===Te&&t[0]===Se){this.trigger("data",t);r=0}this.trigger("done")}};ge.prototype=new W;_e=function e(){var t,r,n,i;_e.prototype.init.call(this);i=this;this.packetsWaitingForPmt=[];this.programMapTable=undefined;t=function e(t,i){var a=0;if(i.payloadUnitStartIndicator){a+=t[a]+1}if(i.type==="pat"){r(t.subarray(a),i)}else{n(t.subarray(a),i)}};r=function e(t,r){r.section_number=t[7];r.last_section_number=t[8];i.pmtPid=(t[10]&31)<<8|t[11];r.pmtPid=i.pmtPid};n=function e(t,r){var n,a,o,s;if(!(t[5]&1)){return}i.programMapTable={video:null,audio:null,"timed-metadata":{}};n=(t[1]&15)<<8|t[2];a=3+n-4;o=(t[10]&15)<<8|t[11];s=12+o;while(s<a){var u=t[s];var l=(t[s+1]&31)<<8|t[s+2];if(u===ie.H264_STREAM_TYPE&&i.programMapTable.video===null){i.programMapTable.video=l}else if(u===ie.ADTS_STREAM_TYPE&&i.programMapTable.audio===null){i.programMapTable.audio=l}else if(u===ie.METADATA_STREAM_TYPE){i.programMapTable["timed-metadata"][l]=u}s+=((t[s+3]&15)<<8|t[s+4])+5}r.programMapTable=i.programMapTable};this.push=function(e){var r={},n=4;r.payloadUnitStartIndicator=!!(e[1]&64);r.pid=e[1]&31;r.pid<<=8;r.pid|=e[2];if((e[3]&48)>>>4>1){n+=e[n]+1}if(r.pid===0){r.type="pat";t(e.subarray(n),r);this.trigger("data",r)}else if(r.pid===this.pmtPid){r.type="pmt";t(e.subarray(n),r);this.trigger("data",r);while(this.packetsWaitingForPmt.length){this.processPes_.apply(this,this.packetsWaitingForPmt.shift())}}else if(this.programMapTable===undefined){this.packetsWaitingForPmt.push([e,n,r])}else{this.processPes_(e,n,r)}};this.processPes_=function(e,t,r){if(r.pid===this.programMapTable.video){r.streamType=ie.H264_STREAM_TYPE}else if(r.pid===this.programMapTable.audio){r.streamType=ie.ADTS_STREAM_TYPE}else{r.streamType=this.programMapTable["timed-metadata"][r.pid]}r.type="pes";r.data=e.subarray(t);this.trigger("data",r)}};_e.prototype=new W;_e.STREAM_TYPES={h264:27,adts:15};be=function e(){var t=this,r={data:[],size:0},n={data:[],size:0},i={data:[],size:0},a=function e(t,r){var n;r.packetLength=6+(t[4]<<8|t[5]);r.dataAlignmentIndicator=(t[6]&4)!==0;n=t[7];if(n&192){r.pts=(t[9]&14)<<27|(t[10]&255)<<20|(t[11]&254)<<12|(t[12]&255)<<5|(t[13]&254)>>>3;r.pts*=4;r.pts+=(t[13]&6)>>>1;r.dts=r.pts;if(n&64){r.dts=(t[14]&14)<<27|(t[15]&255)<<20|(t[16]&254)<<12|(t[17]&255)<<5|(t[18]&254)>>>3;r.dts*=4;r.dts+=(t[18]&6)>>>1}}r.data=t.subarray(9+t[8])},o=function e(r,n,i){var o=new Uint8Array(r.size),s={type:n},u=0,l=0,c=false,f;if(!r.data.length||r.size<9){return}s.trackId=r.data[0].pid;for(u=0;u<r.data.length;u++){f=r.data[u];o.set(f.data,l);l+=f.data.byteLength}a(o,s);c=n==="video"||s.packetLength<=r.size;if(i||c){r.size=0;r.data.length=0}if(c){t.trigger("data",s)}};be.prototype.init.call(this);this.push=function(e){({pat:function e(){},pes:function t(){var a,s;switch(e.streamType){case ie.H264_STREAM_TYPE:case ie.H264_STREAM_TYPE:a=r;s="video";break;case ie.ADTS_STREAM_TYPE:a=n;s="audio";break;case ie.METADATA_STREAM_TYPE:a=i;s="timed-metadata";break;default:return}if(e.payloadUnitStartIndicator){o(a,s,true)}a.data.push(e);a.size+=e.data.byteLength},pmt:function r(){var n={type:"metadata",tracks:[]},i=e.programMapTable;if(i.video!==null){n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.video,codec:"avc",type:"video"})}if(i.audio!==null){n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.audio,codec:"adts",type:"audio"})}t.trigger("data",n)}})[e.type]()};this.flush=function(){o(r,"video");o(n,"audio");o(i,"timed-metadata");this.trigger("done")}};be.prototype=new W;var we={PAT_PID:0,MP2T_PACKET_LENGTH:Te,TransportPacketStream:ge,TransportParseStream:_e,ElementaryStream:be,TimestampRolloverStream:me,CaptionStream:ne.CaptionStream,Cea608Stream:ne.Cea608Stream,MetadataStream:ye};for(var Ee in ie){if(ie.hasOwnProperty(Ee)){we[Ee]=ie[Ee]}}var ke=we;var Pe;var Oe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Pe=function e(){var t;Pe.prototype.init.call(this);this.push=function(e){var r=0,n=0,i,a,o,s,u,l;if(e.type!=="audio"){return}if(t){s=t;t=new Uint8Array(s.byteLength+e.data.byteLength);t.set(s);t.set(e.data,s.byteLength)}else{t=e.data}while(r+5<t.length){if(t[r]!==255||(t[r+1]&246)!==240){r++;continue}a=(~t[r+1]&1)*2;i=(t[r+3]&3)<<11|t[r+4]<<3|(t[r+5]&224)>>5;u=((t[r+6]&3)+1)*1024;l=u*9e4/Oe[(t[r+2]&60)>>>2];o=r+i;if(t.byteLength<o){return}this.trigger("data",{pts:e.pts+n*l,dts:e.dts+n*l,sampleCount:u,audioobjecttype:(t[r+2]>>>6&3)+1,channelcount:(t[r+2]&1)<<2|(t[r+3]&192)>>>6,samplerate:Oe[(t[r+2]&60)>>>2],samplingfrequencyindex:(t[r+2]&60)>>>2,samplesize:16,data:t.subarray(r+7+a,o)});if(t.byteLength===o){t=undefined;return}n++;t=t.subarray(o)}};this.flush=function(){this.trigger("done")}};Pe.prototype=new W;var Ce=Pe;var Ae;Ae=function e(t){var r=t.byteLength,n=0,i=0;this.length=function(){return 8*r};this.bitsAvailable=function(){return 8*r+i};this.loadWord=function(){var e=t.byteLength-r,a=new Uint8Array(4),o=Math.min(4,r);if(o===0){throw new Error("no bytes available")}a.set(t.subarray(e,e+o));n=new DataView(a.buffer).getUint32(0);i=o*8;r-=o};this.skipBits=function(e){var t;if(i>e){n<<=e;i-=e}else{e-=i;t=Math.floor(e/8);e-=t*8;r-=t;this.loadWord();n<<=e;i-=e}};this.readBits=function(e){var t=Math.min(i,e),a=n>>>32-t;i-=t;if(i>0){n<<=t}else if(r>0){this.loadWord()}t=e-t;if(t>0){return a<<t|this.readBits(t)}return a};this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e){if((n&2147483648>>>e)!==0){n<<=e;i-=e;return e}}this.loadWord();return e+this.skipLeadingZeros()};this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1};this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();if(1&e){return 1+e>>>1}return-1*(e>>>1)};this.readBoolean=function(){return this.readBits(1)===1};this.readUnsignedByte=function(){return this.readBits(8)};this.loadWord()};var xe=Ae;var Ie,Le;var De;Le=function e(){var t=0,r,n;Le.prototype.init.call(this);this.push=function(e){var i;if(!n){n=e.data}else{i=new Uint8Array(n.byteLength+e.data.byteLength);i.set(n);i.set(e.data,n.byteLength);n=i}for(;t<n.byteLength-3;t++){if(n[t+2]===1){r=t+5;break}}while(r<n.byteLength){switch(n[r]){case 0:if(n[r-1]!==0){r+=2;break}else if(n[r-2]!==0){r++;break}if(t+3!==r-2){this.trigger("data",n.subarray(t+3,r-2))}do{r++}while(n[r]!==1&&r<n.length);t=r-2;r+=3;break;case 1:if(n[r-1]!==0||n[r-2]!==0){r+=3;break}this.trigger("data",n.subarray(t+3,r-2));t=r-2;r+=3;break;default:r+=3;break}}n=n.subarray(t);r-=t;t=0};this.flush=function(){if(n&&n.byteLength>3){this.trigger("data",n.subarray(t+3))}n=null;t=0;this.trigger("done")}};Le.prototype=new W;De={100:true,110:true,122:true,244:true,44:true,83:true,86:true,118:true,128:true,138:true,139:true,134:true};Ie=function e(){var t=new Le,r,n,i,a,o,s,u;Ie.prototype.init.call(this);r=this;this.push=function(e){if(e.type!=="video"){return}n=e.trackId;i=e.pts;a=e.dts;t.push(e)};t.on("data",function(e){var t={trackId:n,pts:i,dts:a,data:e};switch(e[0]&31){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp";t.escapedRBSP=o(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp";t.escapedRBSP=o(e.subarray(1));t.config=s(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp";break;default:break}r.trigger("data",t)});t.on("done",function(){r.trigger("done")});this.flush=function(){t.flush()};u=function e(t,r){var n=8,i=8,a,o;for(a=0;a<t;a++){if(i!==0){o=r.readExpGolomb();i=(n+o+256)%256}n=i===0?n:i}};o=function e(t){var r=t.byteLength,n=[],i=1,a,o;while(i<r-2){if(t[i]===0&&t[i+1]===0&&t[i+2]===3){n.push(i+2);i+=2}else{i++}}if(n.length===0){return t}a=r-n.length;o=new Uint8Array(a);var s=0;for(i=0;i<a;s++,i++){if(s===n[0]){s++;n.shift()}o[i]=t[s]}return o};s=function e(t){var r=0,n=0,i=0,a=0,o=1,s,l,c,f,d,p,h,v,y,m,g,_,b,T;s=new xe(t);l=s.readUnsignedByte();f=s.readUnsignedByte();c=s.readUnsignedByte();s.skipUnsignedExpGolomb();if(De[l]){d=s.readUnsignedExpGolomb();if(d===3){s.skipBits(1)}s.skipUnsignedExpGolomb();s.skipUnsignedExpGolomb();s.skipBits(1);if(s.readBoolean()){g=d!==3?8:12;for(T=0;T<g;T++){if(s.readBoolean()){if(T<6){u(16,s)}else{u(64,s)}}}}}s.skipUnsignedExpGolomb();p=s.readUnsignedExpGolomb();if(p===0){s.readUnsignedExpGolomb()}else if(p===1){s.skipBits(1);s.skipExpGolomb();s.skipExpGolomb();h=s.readUnsignedExpGolomb();for(T=0;T<h;T++){s.skipExpGolomb()}}s.skipUnsignedExpGolomb();s.skipBits(1);v=s.readUnsignedExpGolomb();y=s.readUnsignedExpGolomb();m=s.readBits(1);if(m===0){s.skipBits(1)}s.skipBits(1);if(s.readBoolean()){r=s.readUnsignedExpGolomb();n=s.readUnsignedExpGolomb();i=s.readUnsignedExpGolomb();a=s.readUnsignedExpGolomb()}if(s.readBoolean()){if(s.readBoolean()){b=s.readUnsignedByte();switch(b){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:{_=[s.readUnsignedByte()<<8|s.readUnsignedByte(),s.readUnsignedByte()<<8|s.readUnsignedByte()];break}}if(_){o=_[0]/_[1]}}}return{profileIdc:l,levelIdc:c,profileCompatibility:f,width:Math.ceil(((v+1)*16-r*2-n*2)*o),height:(2-m)*(y+1)*16-i*2-a*2}}};Ie.prototype=new W;var Re={H264Stream:Ie,NalByteStream:Le};var je;je=function e(){var t=new Uint8Array,r=0;je.prototype.init.call(this);this.setTimestamp=function(e){r=e};this.parseId3TagSize=function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],n=e[t+5],i=(n&16)>>4;if(i){return r+20}return r+10};this.parseAdtsSize=function(e,t){var r=(e[t+5]&224)>>5,n=e[t+4]<<3,i=e[t+3]&3<<11;return i|n|r};this.push=function(e){var n=0,i=0,a,o,s,u;if(t.length){u=t.length;t=new Uint8Array(e.byteLength+u);t.set(t.subarray(0,u));t.set(e,u)}else{t=e}while(t.length-i>=3){if(t[i]==="I".charCodeAt(0)&&t[i+1]==="D".charCodeAt(0)&&t[i+2]==="3".charCodeAt(0)){if(t.length-i<10){break}n=this.parseId3TagSize(t,i);if(n>t.length){break}o={type:"timed-metadata",data:t.subarray(i,i+n)};this.trigger("data",o);i+=n;continue}else if(t[i]&255===255&&(t[i+1]&240)===240){if(t.length-i<7){break}n=this.parseAdtsSize(t,i);if(n>t.length){break}s={type:"audio",data:t.subarray(i,i+n),pts:r,dts:r};this.trigger("data",s);i+=n;continue}i++}a=t.length-i;if(a>0){t=t.subarray(i)}else{t=new Uint8Array}}};je.prototype=new W;var Me=je;var Ne=[33,16,5,32,164,27];var Ue=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252];var Be=function e(t){var r=[];while(t--){r.push(0)}return r};var Fe=function e(t){return Object.keys(t).reduce(function(e,r){e[r]=new Uint8Array(t[r].reduce(function(e,t){return e.concat(t)},[]));return e},{})};var qe={96000:[Ne,[227,64],Be(154),[56]],88200:[Ne,[231],Be(170),[56]],64000:[Ne,[248,192],Be(240),[56]],48000:[Ne,[255,192],Be(268),[55,148,128],Be(54),[112]],44100:[Ne,[255,192],Be(268),[55,163,128],Be(84),[112]],32000:[Ne,[255,192],Be(268),[55,234],Be(226),[112]],24000:[Ne,[255,192],Be(268),[55,255,128],Be(268),[111,112],Be(126),[224]],16000:[Ne,[255,192],Be(268),[55,255,128],Be(268),[111,255],Be(269),[223,108],Be(195),[1,192]],12000:[Ue,Be(268),[3,127,248],Be(268),[6,255,240],Be(268),[13,255,224],Be(268),[27,253,128],Be(259),[56]],11025:[Ue,Be(268),[3,127,248],Be(268),[6,255,240],Be(268),[13,255,224],Be(268),[27,255,192],Be(268),[55,175,128],Be(108),[112]],8000:[Ue,Be(268),[3,121,16],Be(47),[7]]};var He=Fe(qe);var Ve=9e4,We,Ge,ze,Xe,Ye,Ke;We=function e(t){return t*Ve};Ge=function e(t,r){return t*r};ze=function e(t){return t/Ve};Xe=function e(t,r){return t/r};Ye=function e(t,r){return We(Xe(t,r))};Ke=function e(t,r){return Ge(ze(t),r)};var $e={secondsToVideoTs:We,secondsToAudioTs:Ge,videoTsToSeconds:ze,audioTsToSeconds:Xe,audioTsToVideoTs:Ye,videoTsToAudioTs:Ke};var Je=Re.H264Stream;var Qe=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"];var Ze=["width","height","profileIdc","levelIdc","profileCompatibility"];var et=9e4;var tt,rt,nt,it;var at,ot,st,ut,lt,ct,ft;at=function e(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}};ot=function e(t){if(t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)){return true}return false};ct=function e(t,r){var n;if(t.length!==r.length){return false}for(n=0;n<t.length;n++){if(t[n]!==r[n]){return false}}return true};ft=function e(t){var r,n,i=0;for(r=0;r<t.length;r++){n=t[r];i+=n.data.byteLength}return i};rt=function e(t,r){var n=[],i=0,a=0,o=0,s=Infinity;r=r||{};rt.prototype.init.call(this);this.push=function(e){st(t,e);if(t){Qe.forEach(function(r){t[r]=e[r]})}n.push(e)};this.setEarliestDts=function(e){a=e-t.timelineStartInfo.baseMediaDecodeTime};this.setVideoBaseMediaDecodeTime=function(e){s=e};this.setAudioAppendStart=function(e){o=e};this.flush=function(){var e,a,o,s;if(n.length===0){this.trigger("done","AudioSegmentStream");return}e=this.trimAdtsFramesByEarliestDts_(n);t.baseMediaDecodeTime=lt(t,r.keepOriginalTimestamps);this.prefixWithSilence_(t,e);t.samples=this.generateSampleTable_(e);o=H.mdat(this.concatenateFrameData_(e));n=[];a=H.moof(i,[t]);s=new Uint8Array(a.byteLength+o.byteLength);i++;s.set(a);s.set(o,a.byteLength);ut(t);this.trigger("data",{track:t,boxes:s});this.trigger("done","AudioSegmentStream")};this.prefixWithSilence_=function(e,t){var r,n=0,i=0,a=0,u=0,l,c;if(!t.length){return}r=$e.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate);n=Math.ceil(et/(e.samplerate/1024));if(o&&s){i=r-Math.max(o,s);a=Math.floor(i/n);u=a*n}if(a<1||u>et/2){return}l=He[e.samplerate];if(!l){l=t[0].data}for(c=0;c<a;c++){t.splice(c,0,{data:l})}e.baseMediaDecodeTime-=Math.floor($e.videoTsToAudioTs(u,e.samplerate))};this.trimAdtsFramesByEarliestDts_=function(e){if(t.minSegmentDts>=a){return e}t.minSegmentDts=Infinity;return e.filter(function(e){if(e.dts>=a){t.minSegmentDts=Math.min(t.minSegmentDts,e.dts);t.minSegmentPts=t.minSegmentDts;return true}return false})};this.generateSampleTable_=function(e){var t,r,n=[];for(t=0;t<e.length;t++){r=e[t];n.push({size:r.data.byteLength,duration:1024})}return n};this.concatenateFrameData_=function(e){var t,r,n=0,i=new Uint8Array(ft(e));for(t=0;t<e.length;t++){r=e[t];i.set(r.data,n);n+=r.data.byteLength}return i}};rt.prototype=new W;tt=function e(t,r){var n=0,i=[],a=[],o,s;r=r||{};tt.prototype.init.call(this);delete t.minPTS;this.gopCache_=[];this.push=function(e){st(t,e);if(e.nalUnitType==="seq_parameter_set_rbsp"&&!o){o=e.config;t.sps=[e.data];Ze.forEach(function(e){t[e]=o[e]},this)}if(e.nalUnitType==="pic_parameter_set_rbsp"&&!s){s=e.data;t.pps=[e.data]}i.push(e)};this.flush=function(){var e,o,s,u,l,c;while(i.length){if(i[0].nalUnitType==="access_unit_delimiter_rbsp"){break}i.shift()}if(i.length===0){this.resetStream_();this.trigger("done","VideoSegmentStream");return}e=this.groupNalsIntoFrames_(i);s=this.groupFramesIntoGops_(e);if(!s[0][0].keyFrame){o=this.getGopForFusion_(i[0],t);if(o){s.unshift(o);s.byteLength+=o.byteLength;s.nalCount+=o.nalCount;s.pts=o.pts;s.dts=o.dts;s.duration+=o.duration}else{s=this.extendFirstKeyFrame_(s)}}if(a.length){var f;if(r.alignGopsAtEnd){f=this.alignGopsAtEnd_(s)}else{f=this.alignGopsAtStart_(s)}if(!f){this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);i=[];this.resetStream_();this.trigger("done","VideoSegmentStream");return}ut(t);s=f}st(t,s);t.samples=this.generateSampleTable_(s);l=H.mdat(this.concatenateNalData_(s));t.baseMediaDecodeTime=lt(t,r.keepOriginalTimestamps);this.trigger("processedGopsInfo",s.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}));this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);i=[];this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime);this.trigger("timelineStartInfo",t.timelineStartInfo);u=H.moof(n,[t]);c=new Uint8Array(u.byteLength+l.byteLength);n++;c.set(u);c.set(l,u.byteLength);this.trigger("data",{track:t,boxes:c});this.resetStream_();this.trigger("done","VideoSegmentStream")};this.resetStream_=function(){ut(t);o=undefined;s=undefined};this.getGopForFusion_=function(e){var r=45e3,n=1e4,i=Infinity,a,o,s,u,l;for(l=0;l<this.gopCache_.length;l++){u=this.gopCache_[l];s=u.gop;if(!(t.pps&&ct(t.pps[0],u.pps[0]))||!(t.sps&&ct(t.sps[0],u.sps[0]))){continue}if(s.dts<t.timelineStartInfo.dts){continue}a=e.dts-s.dts-s.duration;if(a>=-n&&a<=r){if(!o||i>a){o=u;i=a}}}if(o){return o.gop}return null};this.extendFirstKeyFrame_=function(e){var t;if(!e[0][0].keyFrame&&e.length>1){t=e.shift();e.byteLength-=t.byteLength;e.nalCount-=t.nalCount;e[0][0].dts=t.dts;e[0][0].pts=t.pts;e[0][0].duration+=t.duration}return e};this.groupNalsIntoFrames_=function(e){var t,r,n=[],i=[];n.byteLength=0;for(t=0;t<e.length;t++){r=e[t];if(r.nalUnitType==="access_unit_delimiter_rbsp"){if(n.length){n.duration=r.dts-n.dts;i.push(n)}n=[r];n.byteLength=r.data.byteLength;n.pts=r.pts;n.dts=r.dts}else{if(r.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"){n.keyFrame=true}n.duration=r.dts-n.dts;n.byteLength+=r.data.byteLength;n.push(r)}}if(i.length&&(!n.duration||n.duration<=0)){n.duration=i[i.length-1].duration}i.push(n);return i};this.groupFramesIntoGops_=function(e){var t,r,n=[],i=[];n.byteLength=0;n.nalCount=0;n.duration=0;n.pts=e[0].pts;n.dts=e[0].dts;i.byteLength=0;i.nalCount=0;i.duration=0;i.pts=e[0].pts;i.dts=e[0].dts;for(t=0;t<e.length;t++){r=e[t];if(r.keyFrame){if(n.length){i.push(n);i.byteLength+=n.byteLength;i.nalCount+=n.nalCount;i.duration+=n.duration}n=[r];n.nalCount=r.length;n.byteLength=r.byteLength;n.pts=r.pts;n.dts=r.dts;n.duration=r.duration}else{n.duration+=r.duration;n.nalCount+=r.length;n.byteLength+=r.byteLength;n.push(r)}}if(i.length&&n.duration<=0){n.duration=i[i.length-1].duration}i.byteLength+=n.byteLength;i.nalCount+=n.nalCount;i.duration+=n.duration;i.push(n);return i};this.generateSampleTable_=function(e,t){var r,n,i,a,o,s=t||0,u=[];for(r=0;r<e.length;r++){a=e[r];for(n=0;n<a.length;n++){o=a[n];i=at();i.dataOffset=s;i.compositionTimeOffset=o.pts-o.dts;i.duration=o.duration;i.size=4*o.length;i.size+=o.byteLength;if(o.keyFrame){i.flags.dependsOn=2}s+=i.size;u.push(i)}}return u};this.concatenateNalData_=function(e){var t,r,n,i,a,o,s=0,u=e.byteLength,l=e.nalCount,c=u+4*l,f=new Uint8Array(c),d=new DataView(f.buffer);for(t=0;t<e.length;t++){i=e[t];for(r=0;r<i.length;r++){a=i[r];for(n=0;n<a.length;n++){o=a[n];d.setUint32(s,o.data.byteLength);s+=4;f.set(o.data,s);s+=o.data.byteLength}}}return f};this.alignGopsAtStart_=function(e){var t,r,n,i,o,s,u,l;o=e.byteLength;s=e.nalCount;u=e.duration;t=r=0;while(t<a.length&&r<e.length){n=a[t];i=e[r];if(n.pts===i.pts){break}if(i.pts>n.pts){t++;continue}r++;o-=i.byteLength;s-=i.nalCount;u-=i.duration}if(r===0){return e}if(r===e.length){return null}l=e.slice(r);l.byteLength=o;l.duration=u;l.nalCount=s;l.pts=l[0].pts;l.dts=l[0].dts;return l};this.alignGopsAtEnd_=function(e){var t,r,n,i,o,s;t=a.length-1;r=e.length-1;o=null;s=false;while(t>=0&&r>=0){n=a[t];i=e[r];if(n.pts===i.pts){s=true;break}if(n.pts>i.pts){t--;continue}if(t===a.length-1){o=r}r--}if(!s&&o===null){return null}var u;if(s){u=r}else{u=o}if(u===0){return e}var l=e.slice(u);var c=l.reduce(function(e,t){e.byteLength+=t.byteLength;e.duration+=t.duration;e.nalCount+=t.nalCount;return e},{byteLength:0,duration:0,nalCount:0});l.byteLength=c.byteLength;l.duration=c.duration;l.nalCount=c.nalCount;l.pts=l[0].pts;l.dts=l[0].dts;return l};this.alignGopsWith=function(e){a=e}};tt.prototype=new W;st=function e(t,r){if(typeof r.pts==="number"){if(t.timelineStartInfo.pts===undefined){t.timelineStartInfo.pts=r.pts}if(t.minSegmentPts===undefined){t.minSegmentPts=r.pts}else{t.minSegmentPts=Math.min(t.minSegmentPts,r.pts)}if(t.maxSegmentPts===undefined){t.maxSegmentPts=r.pts}else{t.maxSegmentPts=Math.max(t.maxSegmentPts,r.pts)}}if(typeof r.dts==="number"){if(t.timelineStartInfo.dts===undefined){t.timelineStartInfo.dts=r.dts}if(t.minSegmentDts===undefined){t.minSegmentDts=r.dts}else{t.minSegmentDts=Math.min(t.minSegmentDts,r.dts)}if(t.maxSegmentDts===undefined){t.maxSegmentDts=r.dts}else{t.maxSegmentDts=Math.max(t.maxSegmentDts,r.dts)}}};ut=function e(t){delete t.minSegmentDts;delete t.maxSegmentDts;delete t.minSegmentPts;delete t.maxSegmentPts};lt=function e(t,r){var n,i,a=t.minSegmentDts;if(!r){a-=t.timelineStartInfo.dts}n=t.timelineStartInfo.baseMediaDecodeTime;n+=a;n=Math.max(0,n);if(t.type==="audio"){i=t.samplerate/et;n*=i;n=Math.floor(n)}return n};it=function e(t,r){this.numberOfTracks=0;this.metadataStream=r;if(typeof t.remux!=="undefined"){this.remuxTracks=!!t.remux}else{this.remuxTracks=true}this.pendingTracks=[];this.videoTrack=null;this.pendingBoxes=[];this.pendingCaptions=[];this.pendingMetadata=[];this.pendingBytes=0;this.emittedTracks=0;it.prototype.init.call(this);this.push=function(e){if(e.text){return this.pendingCaptions.push(e)}if(e.frames){return this.pendingMetadata.push(e)}this.pendingTracks.push(e.track);this.pendingBoxes.push(e.boxes);this.pendingBytes+=e.boxes.byteLength;if(e.track.type==="video"){this.videoTrack=e.track}if(e.track.type==="audio"){this.audioTrack=e.track}}};it.prototype=new W;it.prototype.flush=function(e){var t=0,r={captions:[],captionStreams:{},metadata:[],info:{}},n,i,a,o=0,s;if(this.pendingTracks.length<this.numberOfTracks){if(e!=="VideoSegmentStream"&&e!=="AudioSegmentStream"){return}else if(this.remuxTracks){return}else if(this.pendingTracks.length===0){this.emittedTracks++;if(this.emittedTracks>=this.numberOfTracks){this.trigger("done");this.emittedTracks=0}return}}if(this.videoTrack){o=this.videoTrack.timelineStartInfo.pts;Ze.forEach(function(e){r.info[e]=this.videoTrack[e]},this)}else if(this.audioTrack){o=this.audioTrack.timelineStartInfo.pts;Qe.forEach(function(e){r.info[e]=this.audioTrack[e]},this)}if(this.pendingTracks.length===1){r.type=this.pendingTracks[0].type}else{r.type="combined"}this.emittedTracks+=this.pendingTracks.length;a=H.initSegment(this.pendingTracks);r.initSegment=new Uint8Array(a.byteLength);r.initSegment.set(a);r.data=new Uint8Array(this.pendingBytes);for(s=0;s<this.pendingBoxes.length;s++){r.data.set(this.pendingBoxes[s],t);t+=this.pendingBoxes[s].byteLength}for(s=0;s<this.pendingCaptions.length;s++){n=this.pendingCaptions[s];n.startTime=n.startPts-o;n.startTime/=9e4;n.endTime=n.endPts-o;n.endTime/=9e4;r.captionStreams[n.stream]=true;r.captions.push(n)}for(s=0;s<this.pendingMetadata.length;s++){i=this.pendingMetadata[s];i.cueTime=i.pts-o;i.cueTime/=9e4;r.metadata.push(i)}r.metadata.dispatchType=this.metadataStream.dispatchType;this.pendingTracks.length=0;this.videoTrack=null;this.pendingBoxes.length=0;this.pendingCaptions.length=0;this.pendingBytes=0;this.pendingMetadata.length=0;this.trigger("data",r);if(this.emittedTracks>=this.numberOfTracks){this.trigger("done");this.emittedTracks=0}};nt=function e(t){var r=this,n=true,i,a;nt.prototype.init.call(this);t=t||{};this.baseMediaDecodeTime=t.baseMediaDecodeTime||0;this.transmuxPipeline_={};this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e;e.type="aac";e.metadataStream=new ke.MetadataStream;e.aacStream=new Me;e.audioTimestampRolloverStream=new ke.TimestampRolloverStream("audio");e.timedMetadataTimestampRolloverStream=new ke.TimestampRolloverStream("timed-metadata");e.adtsStream=new Ce;e.coalesceStream=new it(t,e.metadataStream);e.headOfPipeline=e.aacStream;e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream);e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream);e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)});e.aacStream.on("data",function(n){if(n.type==="timed-metadata"&&!e.audioSegmentStream){a=a||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"};e.coalesceStream.numberOfTracks++;e.audioSegmentStream=new rt(a,t);e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream)}});e.coalesceStream.on("data",this.trigger.bind(this,"data"));e.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setupTsPipeline=function(){var e={};this.transmuxPipeline_=e;e.type="ts";e.metadataStream=new ke.MetadataStream;e.packetStream=new ke.TransportPacketStream;e.parseStream=new ke.TransportParseStream;e.elementaryStream=new ke.ElementaryStream;e.videoTimestampRolloverStream=new ke.TimestampRolloverStream("video");e.audioTimestampRolloverStream=new ke.TimestampRolloverStream("audio");e.timedMetadataTimestampRolloverStream=new ke.TimestampRolloverStream("timed-metadata");e.adtsStream=new Ce;e.h264Stream=new Je;e.captionStream=new ke.CaptionStream;e.coalesceStream=new it(t,e.metadataStream);e.headOfPipeline=e.packetStream;e.packetStream.pipe(e.parseStream).pipe(e.elementaryStream);e.elementaryStream.pipe(e.videoTimestampRolloverStream).pipe(e.h264Stream);e.elementaryStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream);e.elementaryStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream);e.h264Stream.pipe(e.captionStream).pipe(e.coalesceStream);e.elementaryStream.on("data",function(n){var o;if(n.type==="metadata"){o=n.tracks.length;while(o--){if(!i&&n.tracks[o].type==="video"){i=n.tracks[o];i.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime}else if(!a&&n.tracks[o].type==="audio"){a=n.tracks[o];a.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime}}if(i&&!e.videoSegmentStream){e.coalesceStream.numberOfTracks++;e.videoSegmentStream=new tt(i,t);e.videoSegmentStream.on("timelineStartInfo",function(t){if(a){a.timelineStartInfo=t;e.audioSegmentStream.setEarliestDts(t.dts)}});e.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo"));e.videoSegmentStream.on("baseMediaDecodeTime",function(t){if(a){e.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}});e.h264Stream.pipe(e.videoSegmentStream).pipe(e.coalesceStream)}if(a&&!e.audioSegmentStream){e.coalesceStream.numberOfTracks++;e.audioSegmentStream=new rt(a,t);e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream)}}});e.coalesceStream.on("data",this.trigger.bind(this,"data"));e.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e;if(a){a.timelineStartInfo.dts=undefined;a.timelineStartInfo.pts=undefined;ut(a);a.timelineStartInfo.baseMediaDecodeTime=e;if(t.audioTimestampRolloverStream){t.audioTimestampRolloverStream.discontinuity()}}if(i){if(t.videoSegmentStream){t.videoSegmentStream.gopCache_=[];t.videoTimestampRolloverStream.discontinuity()}i.timelineStartInfo.dts=undefined;i.timelineStartInfo.pts=undefined;ut(i);t.captionStream.reset();i.timelineStartInfo.baseMediaDecodeTime=e}if(t.timedMetadataTimestampRolloverStream){t.timedMetadataTimestampRolloverStream.discontinuity()}};this.setAudioAppendStart=function(e){if(a){this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)}};this.alignGopsWith=function(e){if(i&&this.transmuxPipeline_.videoSegmentStream){this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)}};this.push=function(e){if(n){var t=ot(e);if(t&&this.transmuxPipeline_.type!=="aac"){this.setupAacPipeline()}else if(!t&&this.transmuxPipeline_.type!=="ts"){this.setupTsPipeline()}n=false}this.transmuxPipeline_.headOfPipeline.push(e)};this.flush=function(){n=true;this.transmuxPipeline_.headOfPipeline.flush()};this.resetCaptions=function(){if(this.transmuxPipeline_.captionStream){this.transmuxPipeline_.captionStream.reset()}}};nt.prototype=new W;var dt={Transmuxer:nt,VideoSegmentStream:tt,AudioSegmentStream:rt,AUDIO_PROPERTIES:Qe,VIDEO_PROPERTIES:Ze};var pt={generator:H,Transmuxer:dt.Transmuxer,AudioSegmentStream:dt.AudioSegmentStream,VideoSegmentStream:dt.VideoSegmentStream};var ht=function e(t,r){if(!(t instanceof r)){throw new TypeError("Cannot call a class as a function")}};var vt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var yt=function e(t){t.on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var r=e.data;e.data=r.buffer;i.postMessage({action:"data",segment:e,byteOffset:r.byteOffset,byteLength:r.byteLength},[e.data])});if(t.captionStream){t.captionStream.on("data",function(e){i.postMessage({action:"caption",data:e})})}t.on("done",function(e){i.postMessage({action:"done"})});t.on("gopInfo",function(e){i.postMessage({action:"gopInfo",gopInfo:e})})};var mt=function(){function e(t){ht(this,e);this.options=t||{};this.init()}vt(e,[{key:"init",value:function e(){if(this.transmuxer){this.transmuxer.dispose()}this.transmuxer=new pt.Transmuxer(this.options);yt(this.transmuxer)}},{key:"push",value:function e(t){var r=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(r)}},{key:"reset",value:function e(){this.init()}},{key:"setTimestampOffset",value:function e(t){var r=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(r*9e4))}},{key:"setAudioAppendStart",value:function e(t){this.transmuxer.setAudioAppendStart(Math.ceil(t.appendStart*9e4))}},{key:"flush",value:function e(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function e(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function e(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]);return e}();var gt=function e(t){t.onmessage=function(e){if(e.data.action==="init"&&e.data.options){this.messageHandlers=new mt(e.data.options);return}if(!this.messageHandlers){this.messageHandlers=new mt}if(e.data&&e.data.action&&e.data.action!=="init"){if(this.messageHandlers[e.data.action]){this.messageHandlers[e.data.action](e.data)}}}};var _t=new gt(r);return _t}()});var dt=function e(t){return/mp4a\.\d+.\d+/i.test(t)};var pt=function e(t){return/avc1\.[\da-f]+/i.test(t)};var ht=function e(t){var r={type:"",parameters:{}};var n=t.trim().split(";");r.type=n.shift().trim();n.forEach(function(e){var t=e.trim().split("=");if(t.length>1){var n=t[0].replace(/"/g,"").trim();var i=t[1].replace(/"/g,"").trim();r.parameters[n]=i}});return r};var vt=function e(t){return t.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,r){var n=("00"+Number(t).toString(16)).slice(-2);var i=("00"+Number(r).toString(16)).slice(-2);return"avc1."+n+"00"+i})})};var yt=function e(t,r){var n=t.addSourceBuffer(r);var i=Object.create(null);i.updating=false;i.realBuffer_=n;var a=function e(t){if(typeof n[t]==="function"){i[t]=function(){return n[t].apply(n,arguments)}}else if(typeof i[t]==="undefined"){Object.defineProperty(i,t,{get:function e(){return n[t]},set:function e(r){return n[t]=r}})}};for(var o in n){a(o)}return i};var mt=function e(t,r,n){if(!r||!t.length){return[]}var i=Math.ceil((r.currentTime()-n+3)*9e4);var a=void 0;for(a=0;a<t.length;a++){if(t[a].pts>i){break}}return t.slice(a)};var gt=function e(t,r,n){if(!r.length){return t}if(n){return r.slice()}var i=r[0].pts;var a=0;for(a;a<t.length;a++){if(t[a].pts>=i){break}}return t.slice(0,a).concat(r)};var _t=function e(t,r,n,i){var a=Math.ceil((r-i)*9e4);var o=Math.ceil((n-i)*9e4);var s=t.slice();var u=t.length;while(u--){if(t[u].pts<=o){break}}if(u===-1){return s}var l=u+1;while(l--){if(t[l].pts<=a){break}}l=Math.max(l,0);s.splice(l,u-l+1);return s};var bt=function(e){x(t,e);function t(e,r){P(this,t);var i=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.EventTarget));i.timestampOffset_=0;i.pendingBuffers_=[];i.bufferUpdating_=false;i.mediaSource_=e;i.codecs_=r;i.audioCodec_=null;i.videoCodec_=null;i.audioDisabled_=false;i.appendAudioInitSegment_=true;i.gopBuffer_=[];i.timeMapping_=0;i.safeAppend_=n.browser.IE_VERSION>=11;var a={remux:false,alignGopsAtEnd:i.safeAppend_};i.codecs_.forEach(function(e){if(dt(e)){i.audioCodec_=e}else if(pt(e)){i.videoCodec_=e}});i.transmuxer_=new ft;i.transmuxer_.postMessage({action:"init",options:a});i.transmuxer_.onmessage=function(e){if(e.data.action==="data"){return i.data_(e)}if(e.data.action==="done"){return i.done_(e)}if(e.data.action==="gopInfo"){return i.appendGopInfo_(e)}};Object.defineProperty(i,"timestampOffset",{get:function e(){return this.timestampOffset_},set:function e(t){if(typeof t==="number"&&t>=0){this.timestampOffset_=t;this.appendAudioInitSegment_=true;this.gopBuffer_.length=0;this.timeMapping_=0;this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t})}}});Object.defineProperty(i,"appendWindowStart",{get:function e(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function e(t){if(this.videoBuffer_){this.videoBuffer_.appendWindowStart=t}if(this.audioBuffer_){this.audioBuffer_.appendWindowStart=t}}});Object.defineProperty(i,"updating",{get:function e(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}});Object.defineProperty(i,"buffered",{get:function e(){var t=null;var r=null;var i=0;var a=[];var o=[];if(!this.videoBuffer_&&!this.audioBuffer_){return n.createTimeRange()}if(!this.videoBuffer_){return this.audioBuffer_.buffered}if(!this.audioBuffer_){return this.videoBuffer_.buffered}if(this.audioDisabled_){return this.videoBuffer_.buffered}if(this.videoBuffer_.buffered.length===0&&this.audioBuffer_.buffered.length===0){return n.createTimeRange()}var s=this.videoBuffer_.buffered;var u=this.audioBuffer_.buffered;var l=s.length;while(l--){a.push({time:s.start(l),type:"start"});a.push({time:s.end(l),type:"end"})}l=u.length;while(l--){a.push({time:u.start(l),type:"start"});a.push({time:u.end(l),type:"end"})}a.sort(function(e,t){return e.time-t.time});for(l=0;l<a.length;l++){if(a[l].type==="start"){i++;if(i===2){t=a[l].time}}else if(a[l].type==="end"){i--;if(i===1){r=a[l].time}}if(t!==null&&r!==null){o.push([t,r]);t=null;r=null}}return n.createTimeRanges(o)}});return i}O(t,[{key:"data_",value:function e(t){var r=t.data.segment;r.data=new Uint8Array(r.data,t.data.byteOffset,t.data.byteLength);r.initSegment=new Uint8Array(r.initSegment.data,r.initSegment.byteOffset,r.initSegment.byteLength);Ye(this,this.mediaSource_,r);this.pendingBuffers_.push(r);return}},{key:"done_",value:function e(t){if(this.mediaSource_.readyState==="closed"){this.pendingBuffers_.length=0;return}this.processPendingSegments_();return}},{key:"createRealSourceBuffers_",value:function e(){var t=this;var r=["audio","video"];r.forEach(function(e){if(!t[e+"Codec_"]){return}if(t[e+"Buffer_"]){return}var n=null;if(t.mediaSource_[e+"Buffer_"]){n=t.mediaSource_[e+"Buffer_"];n.updating=false}else{var i=e+"Codec_";var a=e+'/mp4;codecs="'+t[i]+'"';n=yt(t.mediaSource_.nativeMediaSource_,a);t.mediaSource_[e+"Buffer_"]=n}t[e+"Buffer_"]=n;["update","updatestart","updateend"].forEach(function(i){n.addEventListener(i,function(){if(e==="audio"&&t.audioDisabled_){return}if(i==="updateend"){t[e+"Buffer_"].updating=false}var n=r.every(function(r){if(r==="audio"&&t.audioDisabled_){return true}if(e!==r&&t[r+"Buffer_"]&&t[r+"Buffer_"].updating){return false}return true});if(n){return t.trigger(i)}})})})}},{key:"appendBuffer",value:function e(t){this.bufferUpdating_=true;if(this.audioBuffer_&&this.audioBuffer_.buffered.length){var r=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:r.end(r.length-1)})}if(this.videoBuffer_){this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:mt(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)})}this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]);this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function e(t){this.gopBuffer_=gt(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function e(t,r){if(this.videoBuffer_){this.videoBuffer_.updating=true;this.videoBuffer_.remove(t,r);this.gopBuffer_=_t(this.gopBuffer_,t,r,this.timeMapping_)}if(!this.audioDisabled_&&this.audioBuffer_){this.audioBuffer_.updating=true;this.audioBuffer_.remove(t,r)}Ke(t,r,this.metadataTrack_);if(this.inbandTextTracks_){for(var n in this.inbandTextTracks_){Ke(t,r,this.inbandTextTracks_[n])}}}},{key:"processPendingSegments_",value:function e(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(e,t){var r=t.type;var n=t.data;var i=t.initSegment;e[r].segments.push(n);e[r].bytes+=n.byteLength;e[r].initSegment=i;if(t.captions){e.captions=e.captions.concat(t.captions)}if(t.info){e[r].info=t.info}if(t.metadata){e.metadata=e.metadata.concat(t.metadata)}return e},t);if(!this.videoBuffer_&&!this.audioBuffer_){if(t.video.bytes===0){this.videoCodec_=null}if(t.audio.bytes===0){this.audioCodec_=null}this.createRealSourceBuffers_()}if(t.audio.info){this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info})}if(t.video.info){this.mediaSource_.trigger({type:"videoinfo",info:t.video.info})}if(this.appendAudioInitSegment_){if(!this.audioDisabled_&&this.audioBuffer_){t.audio.segments.unshift(t.audio.initSegment);t.audio.bytes+=t.audio.initSegment.byteLength}this.appendAudioInitSegment_=false}var r=false;if(this.videoBuffer_&&t.video.bytes){t.video.segments.unshift(t.video.initSegment);t.video.bytes+=t.video.initSegment.byteLength;this.concatAndAppendSegments_(t.video,this.videoBuffer_);Qe(this,t.captions,t.metadata)}else if(this.videoBuffer_&&(this.audioDisabled_||!this.audioBuffer_)){r=true}if(!this.audioDisabled_&&this.audioBuffer_){this.concatAndAppendSegments_(t.audio,this.audioBuffer_)}this.pendingBuffers_.length=0;if(r){this.trigger("updateend")}this.bufferUpdating_=false}},{key:"concatAndAppendSegments_",value:function e(t,r){var n=0;var i=void 0;if(t.bytes){i=new Uint8Array(t.bytes);t.segments.forEach(function(e){i.set(e,n);n+=e.byteLength});try{r.updating=true;r.appendBuffer(i)}catch(e){if(this.mediaSource_.player_){this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}}},{key:"abort",value:function e(){if(this.videoBuffer_){this.videoBuffer_.abort()}if(!this.audioDisabled_&&this.audioBuffer_){this.audioBuffer_.abort()}if(this.transmuxer_){this.transmuxer_.postMessage({action:"reset"})}this.pendingBuffers_.length=0;this.bufferUpdating_=false}}]);return t}(n.EventTarget);var Tt=function(e){x(t,e);function t(){P(this,t);var e=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));var r=void 0;e.nativeMediaSource_=new h.MediaSource;for(r in e.nativeMediaSource_){if(!(r in t.prototype)&&typeof e.nativeMediaSource_[r]==="function"){e[r]=e.nativeMediaSource_[r].bind(e.nativeMediaSource_)}}e.duration_=NaN;Object.defineProperty(e,"duration",{get:function e(){if(this.duration_===Infinity){return this.duration_}return this.nativeMediaSource_.duration},set:function e(t){this.duration_=t;if(t!==Infinity){this.nativeMediaSource_.duration=t;return}}});Object.defineProperty(e,"seekable",{get:function e(){if(this.duration_===Infinity){return n.createTimeRanges([[0,this.nativeMediaSource_.duration]])}return this.nativeMediaSource_.seekable}});Object.defineProperty(e,"readyState",{get:function e(){return this.nativeMediaSource_.readyState}});Object.defineProperty(e,"activeSourceBuffers",{get:function e(){return this.activeSourceBuffers_}});e.sourceBuffers=[];e.activeSourceBuffers_=[];e.updateActiveSourceBuffers_=function(){e.activeSourceBuffers_.length=0;if(e.sourceBuffers.length===1){var t=e.sourceBuffers[0];t.appendAudioInitSegment_=true;t.audioDisabled_=!t.audioCodec_;e.activeSourceBuffers_.push(t);return}var r=false;var n=true;for(var i=0;i<e.player_.audioTracks().length;i++){var a=e.player_.audioTracks()[i];if(a.enabled&&a.kind!=="main"){r=true;n=false;break}}e.sourceBuffers.forEach(function(t,i){t.appendAudioInitSegment_=true;if(t.videoCodec_&&t.audioCodec_){t.audioDisabled_=r}else if(t.videoCodec_&&!t.audioCodec_){t.audioDisabled_=true;n=false}else if(!t.videoCodec_&&t.audioCodec_){t.audioDisabled_=i?n:!n;if(t.audioDisabled_){return}}e.activeSourceBuffers_.push(t)})};e.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=true})};e.onHlsReset_=function(){e.sourceBuffers.forEach(function(e){if(e.transmuxer_){e.transmuxer_.postMessage({action:"resetCaptions"})}})};e.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})};["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},e);e.on("sourceopen",function(t){var r=f.querySelector('[src="'+e.url_+'"]');if(!r){return}e.player_=n(r.parentNode);e.player_.tech_.on("hls-reset",e.onHlsReset_);e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_);if(e.player_.audioTracks&&e.player_.audioTracks()){e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_);e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_);e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)}e.player_.on("mediachange",e.onPlayerMediachange_)});e.on("sourceended",function(t){var r=Je(e.duration);for(var n=0;n<e.sourceBuffers.length;n++){var i=e.sourceBuffers[n];var a=i.metadataTrack_&&i.metadataTrack_.cues;if(a&&a.length){a[a.length-1].endTime=r}}});e.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){if(e.transmuxer_){e.transmuxer_.terminate()}});this.sourceBuffers.length=0;if(!this.player_){return}if(this.player_.audioTracks&&this.player_.audioTracks()){this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_);this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_);this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)}if(this.player_.el_){this.player_.off("mediachange",this.onPlayerMediachange_);this.player_.tech_.off("hls-reset",this.onHlsReset_);this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)}});return e}O(t,[{key:"addSeekableRange_",value:function e(t,r){var n=void 0;if(this.duration!==Infinity){n=new Error("MediaSource.addSeekableRange() can only be invoked "+"when the duration is Infinity");n.name="InvalidStateError";n.code=11;throw n}if(r>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration)){this.nativeMediaSource_.duration=r}}},{key:"addSourceBuffer",value:function e(t){var r=void 0;var n=ht(t);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];if(n.parameters&&n.parameters.codecs){i=n.parameters.codecs.split(",");i=vt(i);i=i.filter(function(e){return dt(e)||pt(e)})}if(i.length===0){i=["avc1.4d400d","mp4a.40.2"]}r=new bt(this,i);if(this.sourceBuffers.length!==0){this.sourceBuffers[0].createRealSourceBuffers_();r.createRealSourceBuffers_();this.sourceBuffers[0].audioDisabled_=true}}else{r=this.nativeMediaSource_.addSourceBuffer(t)}this.sourceBuffers.push(r);return r}}]);return t}(n.EventTarget);var St=0;n.mediaSources={};var wt=function e(t,r){var i=n.mediaSources[t];if(i){i.trigger({type:"sourceopen",swfId:r})}else{throw new Error("Media Source not found (Video.js)")}};var Et=function e(){return!!h.MediaSource&&!!h.MediaSource.isTypeSupported&&h.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')};var kt=function e(){this.MediaSource={open:wt,supportsNativeMediaSources:Et};if(Et()){return new Tt}throw new Error("Cannot use create a virtual MediaSource for this video")};kt.open=wt;kt.supportsNativeMediaSources=Et;var Pt={createObjectURL:function e(t){var r="blob:vjs-media-source/";var i=void 0;if(t instanceof Tt){i=h.URL.createObjectURL(t.nativeMediaSource_);t.url_=i;return i}if(!(t instanceof Tt)){i=h.URL.createObjectURL(t);t.url_=i;return i}i=r+St;St++;n.mediaSources[i]=t;return i}};n.MediaSource=kt;n.URL=Pt;var Ot=function e(t){var r=t.attributes,n=t.segments;var i={attributes:C({NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},"PROGRAM-ID",1),uri:"",endList:(r.type||"static")==="static",timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:n,mediaSequence:n.length?n[0].number:1};if(r.contentProtection){i.contentProtection=r.contentProtection}return i};var Ct=function e(t){var r=t.attributes,n=t.segments;if(typeof n==="undefined"){n=[{uri:r.baseUrl,timeline:r.periodIndex,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}];r.duration=r.sourceDuration}return{attributes:C({NAME:r.id,BANDWIDTH:r.bandwidth},"PROGRAM-ID",1),uri:"",endList:(r.type||"static")==="static",timeline:r.periodIndex,resolvedUri:r.baseUrl||"",targetDuration:r.duration,segments:n,mediaSequence:n.length?n[0].number:1}};var At=function e(t){return t.reduce(function(e,t){var r=t.attributes.role&&t.attributes.role.value||"main";var n=t.attributes.lang||"";var i="main";if(n){i=t.attributes.lang+" ("+r+")"}if(e[i]&&e[i].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth){return e}e[i]={language:n,autoselect:true,default:r==="main",playlists:[Ot(t)],uri:""};return e},{})};var xt=function e(t){return t.reduce(function(e,t){var r=t.attributes.lang||"text";if(e[r]){return e}e[r]={language:r,default:false,autoselect:false,playlists:[Ct(t)],uri:""};return e},{})};var It=function e(t){var r=t.attributes,n=t.segments;var i={attributes:C({NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth},"PROGRAM-ID",1),uri:"",endList:(r.type||"static")==="static",timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:n,mediaSequence:n.length?n[0].number:1};if(r.contentProtection){i.contentProtection=r.contentProtection}return i};var Lt=function e(t){var r;if(!t.length){return{}}var n=t[0].attributes,i=n.sourceDuration,a=n.minimumUpdatePeriod,o=a===undefined?0:a;var s=function e(t){var r=t.attributes;return r.mimeType==="video/mp4"||r.contentType==="video"};var u=function e(t){var r=t.attributes;return r.mimeType==="audio/mp4"||r.contentType==="audio"};var l=function e(t){var r=t.attributes;return r.mimeType==="text/vtt"||r.contentType==="text"};var c=t.filter(s).map(It);var f=t.filter(u);var d=t.filter(l);var p={allowCache:true,discontinuityStarts:[],segments:[],endList:true,mediaGroups:(r={AUDIO:{},VIDEO:{}},C(r,"CLOSED-CAPTIONS",{}),C(r,"SUBTITLES",{}),r),uri:"",duration:i,playlists:c,minimumUpdatePeriod:o*1e3};if(f.length){p.mediaGroups.AUDIO.audio=At(f)}if(d.length){p.mediaGroups.SUBTITLES.subs=xt(d)}return p};var Dt=function e(t){return!!t&&typeof t==="object"};var Rt=function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}return r.reduce(function(t,r){Object.keys(r).forEach(function(n){if(Array.isArray(t[n])&&Array.isArray(r[n])){t[n]=t[n].concat(r[n])}else if(Dt(t[n])&&Dt(r[n])){t[n]=e(t[n],r[n])}else{t[n]=r[n]}});return t},{})};var jt=function e(t,r){if(/^[a-z]+:/i.test(r)){return r}if(!/\/\//i.test(t)){t=d.buildAbsoluteURL(h.location.href,t)}return d.buildAbsoluteURL(t,r)};var Mt=function e(t){var r=t.baseUrl,n=r===undefined?"":r,i=t.source,a=i===undefined?"":i,o=t.range,s=o===undefined?"":o;var u={uri:a,resolvedUri:jt(n||"",a)};if(s){var l=s.split("-");var c=parseInt(l[0],10);var f=parseInt(l[1],10);u.byterange={length:f-c,offset:c}}return u};var Nt=function e(t,r,n){var i=t.NOW,a=t.clientOffset,o=t.availabilityStartTime,s=t.timescale,u=s===undefined?1:s,l=t.start,c=l===undefined?0:l,f=t.minimumUpdatePeriod,d=f===undefined?0:f;var p=(i+a)/1e3;var h=o+c;var v=p+d;var y=v-h;return Math.ceil((y*u-r)/n)};var Ut=function e(t,r){var n=t.type,i=n===undefined?"static":n,a=t.minimumUpdatePeriod,o=a===undefined?0:a,s=t.media,u=s===undefined?"":s,l=t.sourceDuration,c=t.timescale,f=c===undefined?1:c,d=t.startNumber,p=d===undefined?1:d,h=t.periodIndex;var v=[];var y=-1;for(var m=0;m<r.length;m++){var g=r[m];var _=g.d;var b=g.r||0;var T=g.t||0;if(y<0){y=T}if(T&&T>y){y=T}var S=void 0;if(b<0){var w=m+1;if(w===r.length){if(i==="dynamic"&&o>0&&u.indexOf("$Number$")>0){S=Nt(t,y,_)}else{S=(l*f-y)/_}}else{S=(r[w].t-y)/_}}else{S=b+1}var E=p+v.length+S;var k=p+v.length;while(k<E){v.push({number:k,duration:_/f,time:y,timeline:h});y+=_;k++}}return v};var Bt=function e(t,r){var n=[];for(var i=t;i<r;i++){n.push(i)}return n};var Ft=function e(t){return t.reduce(function(e,t){return e.concat(t)},[])};var qt=function e(t){if(!t.length){return[]}var r=[];for(var n=0;n<t.length;n++){r.push(t[n])}return r};var Ht={static:function e(t){var r=t.duration,n=t.timescale,i=n===undefined?1:n,a=t.sourceDuration;return{start:0,end:Math.ceil(a/(r/i))}},dynamic:function e(t){var r=t.NOW,n=t.clientOffset,i=t.availabilityStartTime,a=t.timescale,o=a===undefined?1:a,s=t.duration,u=t.start,l=u===undefined?0:u,c=t.minimumUpdatePeriod,f=c===undefined?0:c,d=t.timeShiftBufferDepth,p=d===undefined?Infinity:d;var h=(r+n)/1e3;var v=i+l;var y=h+f;var m=y-v;var g=Math.ceil(m*o/s);var _=Math.floor((h-v-p)*o/s);var b=Math.floor((h-v)*o/s);return{start:Math.max(0,_),end:Math.min(g,b)}}};var Vt=function e(t){return function(e,r){var n=t.duration,i=t.timescale,a=i===undefined?1:i,o=t.periodIndex,s=t.startNumber,u=s===undefined?1:s;return{number:u+e,duration:n/a,timeline:o,time:r*n}}};var Wt=function e(t){var r=t.type,n=r===undefined?"static":r,i=t.duration,a=t.timescale,o=a===undefined?1:a,s=t.sourceDuration;var u=Ht[n](t),l=u.start,c=u.end;var f=Bt(l,c).map(Vt(t));if(n==="static"){var d=f.length-1;f[d].duration=s-i/o*d}return f};var Gt=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g;var zt=function e(t){return function(e,r,n,i){if(e==="$$"){return"$"}if(typeof t[r]==="undefined"){return e}var a=""+t[r];if(r==="RepresentationID"){return a}if(!n){i=1}else{i=parseInt(i,10)}if(a.length>=i){return a}return""+new Array(i-a.length+1).join("0")+a}};var Xt=function e(t,r){return t.replace(Gt,zt(r))};var Yt=function e(t,r){if(!t.duration&&!r){return[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}if(t.duration){return Wt(t)}return Ut(t,r)};var Kt=function e(t,r){var n={RepresentationID:t.id,Bandwidth:t.bandwidth||0};var i=t.initialization,a=i===undefined?{sourceURL:"",range:""}:i;var o=Mt({baseUrl:t.baseUrl,source:Xt(a.sourceURL,n),range:a.range});var s=Yt(t,r);return s.map(function(e){n.Number=e.number;n.Time=e.time;var r=Xt(t.media||"",n);return{uri:r,timeline:e.timeline,duration:e.duration,resolvedUri:jt(t.baseUrl||"",r),map:o,number:e.number}})};var $t={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};var Jt=function e(t,r){var n=t.baseUrl,i=t.initialization,a=i===undefined?{}:i;var o=Mt({baseUrl:n,source:a.sourceURL,range:a.range});var s=Mt({baseUrl:n,source:r.media,range:r.mediaRange});s.map=o;return s};var Qt=function e(t,r){var n=t.duration,i=t.segmentUrls,a=i===undefined?[]:i;if(!n&&!r||n&&r){throw new Error($t.SEGMENT_TIME_UNSPECIFIED)}var o=a.map(function(e){return Jt(t,e)});var s=void 0;if(n){s=Wt(t)}if(r){s=Ut(t,r)}var u=s.map(function(e,t){if(o[t]){var r=o[t];r.timeline=e.timeline;r.duration=e.duration;r.number=e.number;return r}}).filter(function(e){return e});return u};var Zt=function e(t){var r=t.baseUrl,n=t.initialization,i=n===undefined?{}:n,a=t.sourceDuration,o=t.timescale,s=o===undefined?1:o,u=t.indexRange,l=u===undefined?"":u,c=t.duration;if(!r){throw new Error($t.NO_BASE_URL)}var f=Mt({baseUrl:r,source:i.sourceURL,range:i.range});var d=Mt({baseUrl:r,source:r,range:l});d.map=f;if(c){var p=Wt(t);if(p.length){d.duration=p[0].duration;d.timeline=p[0].timeline}}else if(a){d.duration=a/s;d.timeline=0}d.number=0;return[d]};var er=function e(t){var r=t.attributes,n=t.segmentInfo;var i=void 0;var a=void 0;if(n.template){a=Kt;i=Rt(r,n.template)}else if(n.base){a=Zt;i=Rt(r,n.base)}else if(n.list){a=Qt;i=Rt(r,n.list)}if(!a){return{attributes:r}}var o=a(i,n.timeline);if(i.duration){var s=i,u=s.duration,l=s.timescale,c=l===undefined?1:l;i.duration=u/c}else if(o.length){i.duration=o.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0)}else{i.duration=0}return{attributes:i,segments:o}};var tr=function e(t){return t.map(er)};var rr=function e(t,r){return qt(t.childNodes).filter(function(e){var t=e.tagName;return t===r})};var nr=function e(t){return t.textContent.trim()};var ir=function e(t){var r=365*24*60*60;var n=30*24*60*60;var i=24*60*60;var a=60*60;var o=60;var s=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/;var u=s.exec(t);if(!u){return 0}var l=u.slice(1),c=L(l,6),f=c[0],d=c[1],p=c[2],h=c[3],v=c[4],y=c[5];return parseFloat(f||0)*r+parseFloat(d||0)*n+parseFloat(p||0)*i+parseFloat(h||0)*a+parseFloat(v||0)*o+parseFloat(y||0)};var ar=function e(t){var r=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;if(r.test(t)){t+="Z"}return Date.parse(t)};var or={mediaPresentationDuration:function e(t){return ir(t)},availabilityStartTime:function e(t){return ar(t)/1e3},minimumUpdatePeriod:function e(t){return ir(t)},timeShiftBufferDepth:function e(t){return ir(t)},start:function e(t){return ir(t)},width:function e(t){return parseInt(t,10)},height:function e(t){return parseInt(t,10)},bandwidth:function e(t){return parseInt(t,10)},startNumber:function e(t){return parseInt(t,10)},timescale:function e(t){return parseInt(t,10)},duration:function e(t){var r=parseInt(t,10);if(isNaN(r)){return ir(t)}return r},d:function e(t){return parseInt(t,10)},t:function e(t){return parseInt(t,10)},r:function e(t){return parseInt(t,10)},DEFAULT:function e(t){return t}};var sr=function e(t){if(!(t&&t.attributes)){return{}}return qt(t.attributes).reduce(function(e,t){var r=or[t.name]||or.DEFAULT;e[t.name]=r(t.value);return e},{})};function ur(e){var t=h.atob(e);var r=new Uint8Array(t.length);for(var n=0;n<t.length;n++){r[n]=t.charCodeAt(n)}return r}var lr={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};var cr=function e(t,r){if(!r.length){return t}return Ft(t.map(function(e){return r.map(function(t){return jt(e,nr(t))})}))};var fr=function e(t){var r=rr(t,"SegmentTemplate")[0];var n=rr(t,"SegmentList")[0];var i=n&&rr(n,"SegmentURL").map(function(e){return Rt({tag:"SegmentURL"},sr(e))});var a=rr(t,"SegmentBase")[0];var o=n||r;var s=o&&rr(o,"SegmentTimeline")[0];var u=n||a||r;var l=u&&rr(u,"Initialization")[0];var c=r&&sr(r);if(c&&l){c.initialization=l&&sr(l)}else if(c&&c.initialization){c.initialization={sourceURL:c.initialization}}var f={template:c,timeline:s&&rr(s,"S").map(function(e){return sr(e)}),list:n&&Rt(sr(n),{segmentUrls:i,initialization:sr(l)}),base:a&&Rt(sr(a),{initialization:sr(l)})};Object.keys(f).forEach(function(e){if(!f[e]){delete f[e]}});return f};var dr=function e(t,r,n){return function(e){var i=rr(e,"BaseURL");var a=cr(r,i);var o=Rt(t,sr(e));var s=fr(e);return a.map(function(e){return{segmentInfo:Rt(n,s),attributes:Rt(o,{baseUrl:e})}})}};var pr=function e(t){return t.reduce(function(e,t){var r=sr(t);var n=lr[r.schemeIdUri];if(n){e[n]={attributes:r};var i=rr(t,"cenc:pssh")[0];if(i){var a=nr(i);var o=a&&ur(a);e[n].pssh=o}}return e},{})};var hr=function e(t,r,n){return function(e){var i=sr(e);var a=cr(r,rr(e,"BaseURL"));var o=rr(e,"Role")[0];var s={role:sr(o)};var u=Rt(t,i,s);var l=pr(rr(e,"ContentProtection"));if(Object.keys(l).length){u=Rt(u,{contentProtection:l})}var c=fr(e);var f=rr(e,"Representation");var d=Rt(n,c);return Ft(f.map(dr(u,a,d)))}};var vr=function e(t,r){return function(e,n){var i=cr(r,rr(e,"BaseURL"));var a=sr(e);var o=Rt(t,a,{periodIndex:n});var s=rr(e,"AdaptationSet");var u=fr(e);return Ft(s.map(hr(o,i,u)))}};var yr=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=r.manifestUri,i=n===undefined?"":n,a=r.NOW,o=a===undefined?Date.now():a,s=r.clientOffset,u=s===undefined?0:s;var l=rr(t,"Period");if(l.length!==1){throw new Error($t.INVALID_NUMBER_OF_PERIOD)}var c=sr(t);var f=cr([i],rr(t,"BaseURL"));c.sourceDuration=c.mediaPresentationDuration||0;c.NOW=o;c.clientOffset=u;return Ft(l.map(vr(c,f)))};var mr=function e(t){if(t===""){throw new Error($t.DASH_EMPTY_MANIFEST)}var r=new h.DOMParser;var n=r.parseFromString(t,"application/xml");var i=n&&n.documentElement.tagName==="MPD"?n.documentElement:null;if(!i||i&&i.getElementsByTagName("parsererror").length>0){throw new Error($t.DASH_INVALID_XML)}return i};var gr=function e(t){var r=rr(t,"UTCTiming")[0];if(!r){return null}var n=sr(r);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT";n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error($t.UNSUPPORTED_UTC_TIMING_SCHEME)}return n};var _r=function e(t,r){return Lt(tr(yr(mr(t),r)))};var br=function e(t){return gr(mr(t))};var Tr=n.EventTarget,Sr=n.mergeOptions;var wr=function e(t,r){var n=Sr(t,{duration:r.duration,minimumUpdatePeriod:r.minimumUpdatePeriod});for(var i=0;i<r.playlists.length;i++){var a=B(n,r.playlists[i]);if(a){n=a}}M(r,function(e,t,r,i){if(e.playlists&&e.playlists.length){var a=e.playlists[0].uri;var o=B(n,e.playlists[0]);if(o){n=o;n.mediaGroups[t][r][i].playlists[0]=n.playlists[a]}}});return n};var Er=function(e){x(t,e);function t(e,r,n,i){P(this,t);var a=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));a.hls_=r;a.withCredentials=n;if(!e){throw new Error("A non-empty playlist URL or playlist is required")}a.on("minimumUpdatePeriod",function(){a.refreshXml_()});a.on("mediaupdatetimeout",function(){a.refreshMedia_()});if(typeof e==="string"){a.srcUrl=e;a.state="HAVE_NOTHING";return I(a)}a.masterPlaylistLoader_=i;a.state="HAVE_METADATA";a.started=true;a.media(e);h.setTimeout(function(){a.trigger("loadedmetadata")},0);return a}O(t,[{key:"dispose",value:function e(){this.stopRequest();h.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function e(){if(this.request){var t=this.request;this.request=null;t.onreadystatechange=null;t.abort()}}},{key:"media",value:function e(t){if(!t){return this.media_}if(this.state==="HAVE_NOTHING"){throw new Error("Cannot switch media playlist from "+this.state)}var r=this.state;if(typeof t==="string"){if(!this.master.playlists[t]){throw new Error("Unknown playlist URI: "+t)}t=this.master.playlists[t]}var n=!this.media_||t.uri!==this.media_.uri;this.state="HAVE_METADATA";if(!n){return}if(this.media_){this.trigger("mediachanging")}this.media_=t;this.refreshMedia_();if(r!=="HAVE_MASTER"){this.trigger("mediachange")}}},{key:"pause",value:function e(){this.stopRequest();if(this.state==="HAVE_NOTHING"){this.started=false}}},{key:"load",value:function e(){if(!this.started){this.start();return}this.trigger("loadedplaylist")}},{key:"parseMasterXml",value:function e(){var t=_r(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});t.uri=this.srcUrl;for(var r=0;r<t.playlists.length;r++){var n="placeholder-uri-"+r;t.playlists[r].uri=n;t.playlists[n]=t.playlists[r]}M(t,function(e,r,n,i){if(e.playlists&&e.playlists.length){var a="placeholder-uri-"+r+"-"+n+"-"+i;e.playlists[0].uri=a;t.playlists[a]=e.playlists[0]}});F(t);q(t);return t}},{key:"start",value:function e(){var t=this;this.started=true;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,r){if(!t.request){return}t.request=null;if(e){t.error={status:r.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:r.responseText,code:2};if(t.state==="HAVE_NOTHING"){t.started=false}return t.trigger("error")}t.masterXml_=r.responseText;if(r.responseHeaders&&r.responseHeaders.date){t.masterLoaded_=Date.parse(r.responseHeaders.date)}else{t.masterLoaded_=Date.now()}t.syncClientServerClock_(t.onClientServerClockSync_.bind(t))})}},{key:"syncClientServerClock_",value:function e(t){var r=this;var n=br(this.masterXml_);if(n===null){this.clientOffset_=this.masterLoaded_-Date.now();return t()}if(n.method==="DIRECT"){this.clientOffset_=n.value-Date.now();return t()}this.request=this.hls_.xhr({uri:v(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},function(e,i){if(!r.request){return}if(e){r.clientOffset_=r.masterLoaded_-Date.now();return t()}var a=void 0;if(n.method==="HEAD"){if(!i.responseHeaders||!i.responseHeaders.date){a=r.masterLoaded_}else{a=Date.parse(i.responseHeaders.date)}}else{a=Date.parse(i.responseText)}r.clientOffset_=a-Date.now();t()})}},{key:"onClientServerClockSync_",value:function e(){var t=this;this.master=this.parseMasterXml();this.state="HAVE_MASTER";this.trigger("loadedplaylist");if(!this.media_){this.media(this.master.playlists[0])}h.setTimeout(function(){t.trigger("loadedmetadata")},0);if(this.master.minimumUpdatePeriod){h.setTimeout(function(){t.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}}},{key:"refreshXml_",value:function e(){var t=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,r){if(!t.request){return}t.request=null;if(e){t.error={status:r.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:r.responseText,code:2};if(t.state==="HAVE_NOTHING"){t.started=false}return t.trigger("error")}t.masterXml_=r.responseText;var n=t.parseMasterXml();t.master=wr(t.master,n);h.setTimeout(function(){t.trigger("minimumUpdatePeriod")},t.master.minimumUpdatePeriod)})}},{key:"refreshMedia_",value:function e(){var t=this;var r=void 0;var n=void 0;if(this.masterPlaylistLoader_){r=this.masterPlaylistLoader_.master;n=this.masterPlaylistLoader_.parseMasterXml()}else{r=this.master;n=this.parseMasterXml()}var i=wr(r,n);if(i){if(this.masterPlaylistLoader_){this.masterPlaylistLoader_.master=i}else{this.master=i}this.media_=i.playlists[this.media_.uri]}else{this.trigger("playlistunchanged")}if(!this.media().endList){this.mediaUpdateTimeout=h.setTimeout(function(){t.trigger("mediaupdatetimeout")},H(this.media(),!!i))}this.trigger("loadedplaylist")}}]);return t}(Tr);var kr=function e(t){if(n.log.debug){return n.log.debug.bind(n,"VHS:",t+" >")}return function(){}};function Pr(){}var Or=function(){function e(t,r,n,i){P(this,e);this.callbacks_=[];this.pendingCallback_=null;this.timestampOffset_=0;this.mediaSource=t;this.processedAppend_=false;this.type_=n;this.mimeType_=r;this.logger_=kr("SourceUpdater["+n+"]["+r+"]");if(t.readyState==="closed"){t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,r,i))}else{this.createSourceBuffer_(r,i)}}O(e,[{key:"createSourceBuffer_",value:function e(t,r){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(t);this.logger_("created SourceBuffer");if(r){r.trigger("sourcebufferadded");if(this.mediaSource.sourceBuffers.length<2){r.on("sourcebufferadded",function(){n.start_()});return}}this.start_()}},{key:"start_",value:function e(){var t=this;this.started_=true;this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null;t.logger_("buffered ["+Ge(t.buffered())+"]");if(e){e()}t.runCallback_()};this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_);this.runCallback_()}},{key:"abort",value:function e(t){var r=this;if(this.processedAppend_){this.queueCallback_(function(){r.sourceBuffer_.abort()},t)}}},{key:"appendBuffer",value:function e(t,r){var n=this;this.processedAppend_=true;this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(t)},r)}},{key:"buffered",value:function e(){if(!this.sourceBuffer_){return n.createTimeRanges()}return this.sourceBuffer_.buffered}},{key:"remove",value:function e(t,r){var n=this;if(this.processedAppend_){this.queueCallback_(function(){n.logger_("remove ["+t+" => "+r+"]");n.sourceBuffer_.remove(t,r)},Pr)}}},{key:"updating",value:function e(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function e(t){var r=this;if(typeof t!=="undefined"){this.queueCallback_(function(){r.sourceBuffer_.timestampOffset=t});this.timestampOffset_=t}return this.timestampOffset_}},{key:"queueCallback_",value:function e(t,r){this.callbacks_.push([t.bind(this),r]);this.runCallback_()}},{key:"runCallback_",value:function e(){var t=void 0;if(!this.updating()&&this.callbacks_.length&&this.started_){t=this.callbacks_.shift();this.pendingCallback_=t[1];t[0]()}}},{key:"dispose",value:function e(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_);if(this.sourceBuffer_&&this.mediaSource.readyState==="open"){this.sourceBuffer_.abort()}}}]);return e}();var Cr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1};var Ar={FAILURE:2,TIMEOUT:-101,ABORTED:-102};var xr=function e(t){var r=void 0;var n=void 0;n=t.offset+t.length-1;r=t.offset;return"bytes="+r+"-"+n};var Ir=function e(t){var r={};if(t.byterange){r.Range=xr(t.byterange)}return r};var Lr=function e(t){t.forEach(function(e){e.abort()})};var Dr=function e(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}};var Rr=function e(t){var r=t.target;var n=Date.now()-r.requestTime;var i={bandwidth:Infinity,bytesReceived:0,roundTripTime:n||0};i.bytesReceived=t.loaded;i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3);return i};var jr=function e(t,r){if(r.timedout){return{status:r.status,message:"HLS request timed-out at URL: "+r.uri,code:Ar.TIMEOUT,xhr:r}}if(r.aborted){return{status:r.status,message:"HLS request aborted at URL: "+r.uri,code:Ar.ABORTED,xhr:r}}if(t){return{status:r.status,message:"HLS request errored at URL: "+r.uri,code:Ar.FAILURE,xhr:r}}return null};var Mr=function e(t,r){return function(e,n){var i=n.response;var a=jr(e,n);if(a){return r(a,t)}if(i.byteLength!==16){return r({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:Ar.FAILURE,xhr:n},t)}var o=new DataView(i);t.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]);return r(null,t)}};var Nr=function e(t,r){return function(e,n){var i=n.response;var a=jr(e,n);if(a){return r(a,t)}if(i.byteLength===0){return r({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:Ar.FAILURE,xhr:n},t)}t.map.bytes=new Uint8Array(n.response);return r(null,t)}};var Ur=function e(t,r){return function(e,n){var i=n.response;var a=jr(e,n);if(a){return r(a,t)}if(i.byteLength===0){return r({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:Ar.FAILURE,xhr:n},t)}t.stats=Dr(n);if(t.key){t.encryptedBytes=new Uint8Array(n.response)}else{t.bytes=new Uint8Array(n.response)}return r(null,t)}};var Br=function e(t,r,n){var i=function e(i){if(i.data.source===r.requestId){t.removeEventListener("message",e);var a=i.data.decrypted;r.bytes=new Uint8Array(a.bytes,a.byteOffset,a.byteLength);return n(null,r)}};t.addEventListener("message",i);t.postMessage(De({source:r.requestId,encrypted:r.encryptedBytes,key:r.key.bytes,iv:r.key.iv}),[r.encryptedBytes.buffer,r.key.bytes.buffer])};var Fr=function e(t){return t.reduce(function(e,t){return t.code>e.code?t:e})};var qr=function e(t,r,n){var i=[];var a=0;return function(e,o){if(e){Lr(t);i.push(e)}a+=1;if(a===t.length){o.endOfAllRequests=Date.now();if(i.length>0){var s=Fr(i);return n(s,o)}if(o.encryptedBytes){return Br(r,o,n)}return n(null,o)}}};var Hr=function e(t,r){return function(e){t.stats=n.mergeOptions(t.stats,Rr(e));if(!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived){t.stats.firstBytesReceivedAt=Date.now()}return r(e,t)}};var Vr=function e(t,r,i,a,o,s){var u=[];var l=qr(u,i,s);if(a.key){var c=n.mergeOptions(r,{uri:a.key.resolvedUri,responseType:"arraybuffer"});var f=Mr(a,l);var d=t(c,f);u.push(d)}if(a.map&&!a.map.bytes){var p=n.mergeOptions(r,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:Ir(a.map)});var h=Nr(a,l);var v=t(p,h);u.push(v)}var y=n.mergeOptions(r,{uri:a.resolvedUri,responseType:"arraybuffer",headers:Ir(a)});var m=Ur(a,l);var g=t(y,m);g.addEventListener("progress",Hr(a,o));u.push(g);return function(){return Lr(u)}};var Wr={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"};var Gr=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var r={codecCount:0};var n=void 0;r.codecCount=t.split(",").length;r.codecCount=r.codecCount||2;n=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(t);if(n){r.videoCodec=n[2];r.videoObjectTypeIndicator=n[3]}r.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t);r.audioProfile=r.audioProfile&&r.audioProfile[2];return r};var zr=function e(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return vt([e])[0]})};var Xr=function e(t,r,n){return t+"/"+r+'; codecs="'+n.filter(function(e){return!!e}).join(", ")+'"'};var Yr=function e(t){if(t.segments&&t.segments.length&&t.segments[0].map){return"mp4"}return"mp2t"};var Kr=function e(t){var r=t.attributes||{};if(r.CODECS){return Gr(r.CODECS)}return Wr};var $r=function e(t,r){if(!t.mediaGroups.AUDIO||!r){return null}var n=t.mediaGroups.AUDIO[r];if(!n){return null}for(var i in n){var a=n[i];if(a.default&&a.playlists){return Gr(a.playlists[0].attributes.CODECS).audioProfile}}return null};var Jr=function e(t,r){var i=Yr(r);var a=Kr(r);var o=r.attributes||{};var s=true;var u=false;if(!r){return[]}if(t.mediaGroups.AUDIO&&o.AUDIO){var l=t.mediaGroups.AUDIO[o.AUDIO];if(l){u=true;s=false;for(var c in l){if(!l[c].uri&&!l[c].playlists){s=true;break}}}}if(u&&!a.audioProfile){if(!s){a.audioProfile=$r(t,o.AUDIO)}if(!a.audioProfile){n.log.warn("Multiple audio tracks present but no audio codec string is specified. "+"Attempting to use the default audio codec (mp4a.40.2)");a.audioProfile=Wr.audioProfile}}var f={};if(a.videoCodec){f.video=""+a.videoCodec+a.videoObjectTypeIndicator}if(a.audioProfile){f.audio="mp4a.40."+a.audioProfile}var d=Xr("audio",i,[f.audio]);var p=Xr("video",i,[f.video]);var h=Xr("video",i,[f.video,f.audio]);if(u){if(!s&&f.video){return[p,d]}if(!s&&!f.video){return[d,d]}return[h,d]}if(!f.video){return[d]}return[h]};var Qr=function e(t,r){var n=void 0;if(!t){return""}n=h.getComputedStyle(t);if(!n){return""}return n[r]};var Zr=function e(t,r){var n=t.slice();t.sort(function(e,t){var i=r(e,t);if(i===0){return n.indexOf(e)-n.indexOf(t)}return i})};var en=function e(t,r){var n=void 0;var i=void 0;if(t.attributes.BANDWIDTH){n=t.attributes.BANDWIDTH}n=n||h.Number.MAX_VALUE;if(r.attributes.BANDWIDTH){i=r.attributes.BANDWIDTH}i=i||h.Number.MAX_VALUE;return n-i};var tn=function e(t,r){var n=void 0;var i=void 0;if(t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width){n=t.attributes.RESOLUTION.width}n=n||h.Number.MAX_VALUE;if(r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width){i=r.attributes.RESOLUTION.width}i=i||h.Number.MAX_VALUE;if(n===i&&t.attributes.BANDWIDTH&&r.attributes.BANDWIDTH){return t.attributes.BANDWIDTH-r.attributes.BANDWIDTH}return n-i};var rn=function e(t,r,n,i){var a=t.playlists.map(function(e){var t=void 0;var r=void 0;var n=void 0;t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width;r=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;n=e.attributes.BANDWIDTH;n=n||h.Number.MAX_VALUE;return{bandwidth:n,width:t,height:r,playlist:e}});Zr(a,function(e,t){return e.bandwidth-t.bandwidth});a=a.filter(function(e){return!pe.isIncompatible(e.playlist)});var o=a.filter(function(e){return pe.isEnabled(e.playlist)});if(!o.length){o=a.filter(function(e){return!pe.isDisabled(e.playlist)})}var s=o.filter(function(e){return e.bandwidth*Cr.BANDWIDTH_VARIANCE<r});var u=s[s.length-1];var l=s.filter(function(e){return e.bandwidth===u.bandwidth})[0];var c=s.filter(function(e){return e.width&&e.height});Zr(c,function(e,t){return e.width-t.width});var f=c.filter(function(e){return e.width===n&&e.height===i});u=f[f.length-1];var d=f.filter(function(e){return e.bandwidth===u.bandwidth})[0];var p=void 0;var v=void 0;var y=void 0;if(!d){p=c.filter(function(e){return e.width>n||e.height>i});v=p.filter(function(e){return e.width===p[0].width&&e.height===p[0].height});u=v[v.length-1];y=v.filter(function(e){return e.bandwidth===u.bandwidth})[0]}var m=y||d||l||o[0]||a[0];return m?m.playlist:null};var nn=function e(){return rn(this.playlists.master,this.systemBandwidth,parseInt(Qr(this.tech_.el(),"width"),10),parseInt(Qr(this.tech_.el(),"height"),10))};var an=function e(t){var r=t.master,n=t.currentTime,i=t.bandwidth,a=t.duration,o=t.segmentDuration,s=t.timeUntilRebuffer,u=t.currentTimeline,l=t.syncController;var c=r.playlists.filter(function(e){return!pe.isIncompatible(e)});var f=c.filter(pe.isEnabled);if(!f.length){f=c.filter(function(e){return!pe.isDisabled(e)})}var d=f.filter(pe.hasAttribute.bind(null,"BANDWIDTH"));var p=d.map(function(e){var t=l.getSyncPoint(e,a,u,n);var r=t?1:2;var c=pe.estimateSegmentRequestTime(o,i,e);var f=c*r-s;return{playlist:e,rebufferingImpact:f}});var h=p.filter(function(e){return e.rebufferingImpact<=0});Zr(h,function(e,t){return en(t.playlist,e.playlist)});if(h.length){return h[0]}Zr(p,function(e,t){return e.rebufferingImpact-t.rebufferingImpact});return p[0]||null};var on=function e(){var t=this.playlists.master.playlists.filter(pe.isEnabled);Zr(t,function(e,t){return en(e,t)});var r=t.filter(function(e){return Gr(e.attributes.CODECS).videoCodec});return r[0]||null};var sn=500;var un=function e(t,r,n){if(!t||!r){return false}var i=t.segments;var a=n===i.length;return t.endList&&r.readyState==="open"&&a};var ln=function e(t){return typeof t==="number"&&isFinite(t)};var cn=function e(t,r,n){if(t!=="main"||!r||!n){return null}if(!n.containsAudio&&!n.containsVideo){return"Neither audio nor video found in segment."}if(r.containsVideo&&!n.containsVideo){return"Only audio found in segment when we expected video."+" We can't switch to audio only from a stream that had video."+" To get rid of this message, please add codec information to the manifest."}if(!r.containsVideo&&n.containsVideo){return"Video found in segment when we expected only audio."+" We can't switch to a stream with video from an audio only stream."+" To get rid of this message, please add codec information to the manifest."}return null};var fn=function e(t,r,n){var i=void 0;if(t.length&&t.start(0)>0&&t.start(0)<r){i=t.start(0)}else{i=r-30}return Math.min(i,r-n)};var dn=function e(t){var r=t.segment,n=r.start,i=r.end,a=t.playlist,o=a.mediaSequence,s=a.id,u=a.segments,l=u===undefined?[]:u,c=t.mediaIndex,f=t.timeline;return["appending ["+c+"] of ["+o+", "+(o+l.length)+"] from playlist ["+s+"]","["+n+" => "+i+"] in timeline ["+f+"]"].join(" ")};var pn=function(e){x(t,e);function t(e){P(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e){throw new TypeError("Initialization settings are required")}if(typeof e.currentTime!=="function"){throw new TypeError("No currentTime getter specified")}if(!e.mediaSource){throw new TypeError("No MediaSource specified")}r.bandwidth=e.bandwidth;r.throughput={rate:0,count:0};r.roundTrip=NaN;r.resetStats_();r.mediaIndex=null;r.hasPlayed_=e.hasPlayed;r.currentTime_=e.currentTime;r.seekable_=e.seekable;r.seeking_=e.seeking;r.duration_=e.duration;r.mediaSource_=e.mediaSource;r.hls_=e.hls;r.loaderType_=e.loaderType;r.startingMedia_=void 0;r.segmentMetadataTrack_=e.segmentMetadataTrack;r.goalBufferLength_=e.goalBufferLength;r.sourceType_=e.sourceType;r.state_="INIT";r.checkBufferTimeout_=null;r.error_=void 0;r.currentTimeline_=-1;r.pendingSegment_=null;r.mimeType_=null;r.sourceUpdater_=null;r.xhrOptions_=null;r.activeInitSegmentId_=null;r.initSegments_={};r.decrypter_=e.decrypter;r.syncController_=e.syncController;r.syncPoint_={segmentIndex:0,time:0};r.syncController_.on("syncinfoupdate",function(){return r.trigger("syncinfoupdate")});r.mediaSource_.addEventListener("sourceopen",function(){return r.ended_=false});r.fetchAtBuffer_=false;r.logger_=kr("SegmentLoader["+r.loaderType_+"]");Object.defineProperty(r,"state",{get:function e(){return this.state_},set:function e(t){if(t!==this.state_){this.logger_(this.state_+" -> "+t);this.state_=t}}});return r}O(t,[{key:"resetStats_",value:function e(){this.mediaBytesTransferred=0;this.mediaRequests=0;this.mediaRequestsAborted=0;this.mediaRequestsTimedout=0;this.mediaRequestsErrored=0;this.mediaTransferDuration=0;this.mediaSecondsLoaded=0}},{key:"dispose",value:function e(){this.state="DISPOSED";this.pause();this.abort_();if(this.sourceUpdater_){this.sourceUpdater_.dispose()}this.resetStats_()}},{key:"abort",value:function e(){if(this.state!=="WAITING"){if(this.pendingSegment_){this.pendingSegment_=null}return}this.abort_();this.state="READY";if(!this.paused()){this.monitorBuffer_()}}},{key:"abort_",value:function e(){if(this.pendingSegment_){this.pendingSegment_.abortRequests()}this.pendingSegment_=null}},{key:"error",value:function e(t){if(typeof t!=="undefined"){this.error_=t}this.pendingSegment_=null;return this.error_}},{key:"endOfStream",value:function e(){this.ended_=true;this.pause();this.trigger("ended")}},{key:"buffered_",value:function e(){if(!this.sourceUpdater_){return n.createTimeRanges()}return this.sourceUpdater_.buffered()}},{key:"initSegment",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!t){return null}var n=Re(t);var i=this.initSegments_[n];if(r&&!i&&t.bytes){this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes}}return i||t}},{key:"couldBeginLoading_",value:function e(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&this.state==="INIT")&&!this.paused()}},{key:"load",value:function e(){this.monitorBuffer_();if(!this.playlist_){return}this.syncController_.setDateTimeMapping(this.playlist_);if(this.state==="INIT"&&this.couldBeginLoading_()){return this.init_()}if(!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"){return}this.state="READY"}},{key:"init_",value:function e(){this.state="READY";this.sourceUpdater_=new Or(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_);this.resetEverything();return this.monitorBuffer_()}},{key:"playlist",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!t){return}var n=this.playlist_;var i=this.pendingSegment_;this.playlist_=t;this.xhrOptions_=r;if(!this.hasPlayed_()){t.syncInfo={mediaSequence:t.mediaSequence,time:0}}var a=n?n.id:null;this.logger_("playlist update ["+a+" => "+t.id+"]");this.trigger("syncinfoupdate");if(this.state==="INIT"&&this.couldBeginLoading_()){return this.init_()}if(!n||n.uri!==t.uri){if(this.mediaIndex!==null){this.resyncLoader()}return}var o=t.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+o+"]");if(this.mediaIndex!==null){this.mediaIndex-=o}if(i){i.mediaIndex-=o;if(i.mediaIndex>=0){i.segment=t.segments[i.mediaIndex]}}this.syncController_.saveExpiredSegmentInfo(n,t)}},{key:"pause",value:function e(){if(this.checkBufferTimeout_){h.clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=null}}},{key:"paused",value:function e(){return this.checkBufferTimeout_===null}},{key:"mimeType",value:function e(t,r){if(this.mimeType_){return}this.mimeType_=t;this.sourceBufferEmitter_=r;if(this.state==="INIT"&&this.couldBeginLoading_()){this.init_()}}},{key:"resetEverything",value:function e(){this.ended_=false;this.resetLoader();this.remove(0,this.duration_());this.trigger("reseteverything")}},{key:"resetLoader",value:function e(){this.fetchAtBuffer_=false;this.resyncLoader()}},{key:"resyncLoader",value:function e(){this.mediaIndex=null;this.syncPoint_=null;this.abort()}},{key:"remove",value:function e(t,r){if(this.sourceUpdater_){this.sourceUpdater_.remove(t,r)}Ke(t,r,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function e(){if(this.checkBufferTimeout_){h.clearTimeout(this.checkBufferTimeout_)}this.checkBufferTimeout_=h.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function e(){if(this.state==="READY"){this.fillBuffer_()}if(this.checkBufferTimeout_){h.clearTimeout(this.checkBufferTimeout_)}this.checkBufferTimeout_=h.setTimeout(this.monitorBufferTick_.bind(this),sn)}},{key:"fillBuffer_",value:function e(){if(this.sourceUpdater_.updating()){return}if(!this.syncPoint_){this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())}var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(!t){return}var r=un(this.playlist_,this.mediaSource_,t.mediaIndex);if(r){this.endOfStream();return}if(t.mediaIndex===this.playlist_.segments.length-1&&this.mediaSource_.readyState==="ended"&&!this.seeking_()){return}if(t.timeline!==this.currentTimeline_||t.startOfSegment!==null&&t.startOfSegment<this.sourceUpdater_.timestampOffset()){this.syncController_.reset();t.timestampOffset=t.startOfSegment}this.loadSegment_(t)}},{key:"checkBuffer_",value:function e(t,r,n,i,a,o){var s=0;var u=void 0;if(t.length){s=t.end(t.length-1)}var l=Math.max(0,s-a);if(!r.segments.length){return null}if(l>=this.goalBufferLength_()){return null}if(!i&&l>=1){return null}if(o===null){n=this.getSyncSegmentCandidate_(r);return this.generateSegmentInfo_(r,n,null,true)}if(n!==null){var c=r.segments[n];if(c&&c.end){u=c.end}else{u=s}return this.generateSegmentInfo_(r,n+1,u,false)}if(this.fetchAtBuffer_){var f=pe.getMediaInfoForTime(r,s,o.segmentIndex,o.time);n=f.mediaIndex;u=f.startTime}else{var d=pe.getMediaInfoForTime(r,a,o.segmentIndex,o.time);n=d.mediaIndex;u=d.startTime}return this.generateSegmentInfo_(r,n,u,false)}},{key:"getSyncSegmentCandidate_",value:function e(t){var r=this;if(this.currentTimeline_===-1){return 0}var n=t.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===r.currentTimeline_});if(n.length){return n[Math.min(n.length-1,1)].segmentIndex}return Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function e(t,r,n,i){if(r<0||r>=t.segments.length){return null}var a=t.segments[r];return{requestId:"segment-loader-"+Math.random(),uri:a.resolvedUri,mediaIndex:r,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:a.timeline,duration:a.duration,segment:a}}},{key:"abortRequestEarly_",value:function e(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH){return false}if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3){return false}var r=this.currentTime_();var n=t.bandwidth;var i=this.pendingSegment_.duration;var a=pe.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived);var o=ze(this.buffered_(),r,this.hls_.tech_.playbackRate())-1;if(a<=o){return false}var s=an({master:this.hls_.playlists.master,currentTime:r,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!s){return}var u=a-o;var l=u-s.rebufferingImpact;var c=.5;if(o<=Be){c=1}if(!s.playlist||s.playlist.uri===this.playlist_.uri||l<c){return false}this.bandwidth=s.playlist.attributes.BANDWIDTH*Cr.BANDWIDTH_VARIANCE+1;this.abort();this.trigger("earlyabort");return true}},{key:"handleProgress_",value:function e(t,r){if(!this.pendingSegment_||r.requestId!==this.pendingSegment_.requestId||this.abortRequestEarly_(r.stats)){return}this.trigger("progress")}},{key:"loadSegment_",value:function e(t){this.state="WAITING";this.pendingSegment_=t;this.trimBackBuffer_(t);t.abortRequests=Vr(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function e(t){var r=fn(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);if(r>0){this.remove(0,r)}}},{key:"createSimplifiedSegmentObj_",value:function e(t){var r=t.segment;var n={resolvedUri:r.resolvedUri,byterange:r.byterange,requestId:t.requestId};if(r.key){var i=r.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key={resolvedUri:r.key.resolvedUri,iv:i}}if(r.map){n.map=this.initSegment(r.map)}return n}},{key:"segmentRequestFinished_",value:function e(t,r){this.mediaRequests+=1;if(r.stats){this.mediaBytesTransferred+=r.stats.bytesReceived;this.mediaTransferDuration+=r.stats.roundTripTime}if(!this.pendingSegment_){this.mediaRequestsAborted+=1;return}if(r.requestId!==this.pendingSegment_.requestId){return}if(t){this.pendingSegment_=null;this.state="READY";if(t.code===Ar.ABORTED){this.mediaRequestsAborted+=1;return}this.pause();if(t.code===Ar.TIMEOUT){this.mediaRequestsTimedout+=1;this.bandwidth=1;this.roundTrip=NaN;this.trigger("bandwidthupdate");return}this.mediaRequestsErrored+=1;this.error(t);this.trigger("error");return}this.bandwidth=r.stats.bandwidth;this.roundTrip=r.stats.roundTripTime;if(r.map){r.map=this.initSegment(r.map,true)}this.processSegmentResponse_(r)}},{key:"processSegmentResponse_",value:function e(t){var r=this.pendingSegment_;r.bytes=t.bytes;if(t.map){r.segment.map.bytes=t.map.bytes}r.endOfAllRequests=t.endOfAllRequests;this.handleSegment_()}},{key:"handleSegment_",value:function e(){var t=this;if(!this.pendingSegment_){this.state="READY";return}var r=this.pendingSegment_;var n=r.segment;var i=this.syncController_.probeSegmentInfo(r);if(typeof this.startingMedia_==="undefined"&&i&&(i.containsAudio||i.containsVideo)){this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo}}var a=cn(this.loaderType_,this.startingMedia_,i);if(a){this.error({message:a,blacklistDuration:Infinity});this.trigger("error");return}if(r.isSyncRequest){this.trigger("syncinfoupdate");this.pendingSegment_=null;this.state="READY";return}if(r.timestampOffset!==null&&r.timestampOffset!==this.sourceUpdater_.timestampOffset()){this.sourceUpdater_.timestampOffset(r.timestampOffset);this.trigger("timestampoffset")}var o=this.syncController_.mappingForTimeline(r.timeline);if(o!==null){this.trigger({type:"segmenttimemapping",mapping:o})}this.state="APPENDING";if(n.map){var s=Re(n.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==s){var u=this.initSegment(n.map);this.sourceUpdater_.appendBuffer(u.bytes,function(){t.activeInitSegmentId_=s})}}r.byteLength=r.bytes.byteLength;if(typeof n.start==="number"&&typeof n.end==="number"){this.mediaSecondsLoaded+=n.end-n.start}else{this.mediaSecondsLoaded+=n.duration}this.logger_(dn(r));this.sourceUpdater_.appendBuffer(r.bytes,this.handleUpdateEnd_.bind(this))}},{key:"handleUpdateEnd_",value:function e(){if(!this.pendingSegment_){this.state="READY";if(!this.paused()){this.monitorBuffer_()}return}var t=this.pendingSegment_;var r=t.segment;var n=this.mediaIndex!==null;this.pendingSegment_=null;this.recordThroughput_(t);this.addSegmentMetadataCue_(t);this.state="READY";this.mediaIndex=t.mediaIndex;this.fetchAtBuffer_=true;this.currentTimeline_=t.timeline;this.trigger("syncinfoupdate");if(r.end&&this.currentTime_()-r.end>t.playlist.targetDuration*3){this.resetEverything();return}if(n){this.trigger("bandwidthupdate")}this.trigger("progress");var i=un(t.playlist,this.mediaSource_,t.mediaIndex+1);if(i){this.endOfStream()}if(!this.paused()){this.monitorBuffer_()}}},{key:"recordThroughput_",value:function e(t){var r=this.throughput.rate;var n=Date.now()-t.endOfAllRequests+1;var i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-r)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function e(t){if(!this.segmentMetadataTrack_){return}var r=t.segment;var n=r.start;var i=r.end;if(!ln(n)||!ln(i)){return}Ke(n,i,this.segmentMetadataTrack_);var a=h.WebKitDataCue||h.VTTCue;var o={bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:n,end:i};var s=JSON.stringify(o);var u=new a(n,i,s);u.value=o;this.segmentMetadataTrack_.addCue(u)}}]);return t}(n.EventTarget);var hn=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)}));var vn=function e(t){return String.fromCharCode.apply(null,t)};var yn=function(e){x(t,e);function t(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};P(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));n.mediaSource_=null;n.subtitlesTrack_=null;return n}O(t,[{key:"buffered_",value:function e(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length){return n.createTimeRanges()}var t=this.subtitlesTrack_.cues;var r=t[0].startTime;var i=t[t.length-1].startTime;return n.createTimeRanges([[r,i]])}},{key:"initSegment",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!t){return null}var n=Re(t);var i=this.initSegments_[n];if(r&&!i&&t.bytes){var a=hn.byteLength+t.bytes.byteLength;var o=new Uint8Array(a);o.set(t.bytes);o.set(hn,t.bytes.byteLength);this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:o}}return i||t}},{key:"couldBeginLoading_",value:function e(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function e(){this.state="READY";this.resetEverything();return this.monitorBuffer_()}},{key:"track",value:function e(t){if(typeof t==="undefined"){return this.subtitlesTrack_}this.subtitlesTrack_=t;if(this.state==="INIT"&&this.couldBeginLoading_()){this.init_()}return this.subtitlesTrack_}},{key:"remove",value:function e(t,r){Ke(t,r,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function e(){var t=this;if(!this.syncPoint_){this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())}var r=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);r=this.skipEmptySegments_(r);if(!r){return}if(this.syncController_.timestampOffsetForTimeline(r.timeline)===null){var n=function e(){t.state="READY";if(!t.paused()){t.monitorBuffer_()}};this.syncController_.one("timestampoffset",n);this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(r)}},{key:"skipEmptySegments_",value:function e(t){while(t&&t.segment.empty){t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest)}return t}},{key:"handleSegment_",value:function e(){var t=this;if(!this.pendingSegment_||!this.subtitlesTrack_){this.state="READY";return}this.state="APPENDING";var r=this.pendingSegment_;var n=r.segment;if(typeof h.WebVTT!=="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var i=function e(){t.handleSegment_()};this.state="WAITING_ON_VTTJS";this.subtitlesTrack_.tech_.one("vttjsloaded",i);this.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",i);t.error({message:"Error loading vtt.js"});t.state="READY";t.pause();t.trigger("error")});return}n.requested=true;try{this.parseVTTCues_(r)}catch(e){this.error({message:e.message});this.state="READY";this.pause();return this.trigger("error")}this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_);if(r.isSyncRequest){this.trigger("syncinfoupdate");this.pendingSegment_=null;this.state="READY";return}r.byteLength=r.bytes.byteLength;this.mediaSecondsLoaded+=n.duration;if(r.cues.length){this.remove(r.cues[0].endTime,r.cues[r.cues.length-1].endTime)}r.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)});this.handleUpdateEnd_()}},{key:"parseVTTCues_",value:function e(t){var r=void 0;var i=false;if(typeof h.TextDecoder==="function"){r=new h.TextDecoder("utf8")}else{r=h.WebVTT.StringDecoder();i=true}var a=new h.WebVTT.Parser(h,h.vttjs,r);t.cues=[];t.timestampmap={MPEGTS:0,LOCAL:0};a.oncue=t.cues.push.bind(t.cues);a.ontimestampmap=function(e){return t.timestampmap=e};a.onparsingerror=function(e){n.log.warn("Error encountered when parsing cues: "+e.message)};if(t.segment.map){var o=t.segment.map.bytes;if(i){o=vn(o)}a.parse(o)}var s=t.bytes;if(i){s=vn(s)}a.parse(s);a.flush()}},{key:"updateTimeMapping_",value:function e(t,r,n){var i=t.segment;if(!r){return}if(!t.cues.length){i.empty=true;return}var a=t.timestampmap;var o=a.MPEGTS/9e4-a.LOCAL+r.mapping;t.cues.forEach(function(e){e.startTime+=o;e.endTime+=o});if(!n.syncInfo){var s=t.cues[0].startTime;var u=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(s,u-i.duration)}}}}]);return t}(pn);var mn=function e(t,r){var n=t.cues;for(var i=0;i<n.length;i++){var a=n[i];if(r>=a.adStartTime&&r<=a.adEndTime){return a}}return null};var gn=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(!t.segments){return}var i=n;var a=void 0;for(var o=0;o<t.segments.length;o++){var s=t.segments[o];if(!a){a=mn(r,i+s.duration/2)}if(a){if("cueIn"in s){a.endTime=i;a.adEndTime=i;i+=s.duration;a=null;continue}if(i<a.endTime){i+=s.duration;continue}a.endTime+=s.duration}else{if("cueOut"in s){a=new h.VTTCue(i,i+s.duration,s.cueOut);a.adStartTime=i;a.adEndTime=i+parseFloat(s.cueOut);r.addCue(a)}if("cueOutCont"in s){var u=void 0;var l=void 0;var c=s.cueOutCont.split("/").map(parseFloat);var f=L(c,2);u=f[0];l=f[1];a=new h.VTTCue(i,i+s.duration,"");a.adStartTime=i-u;a.adEndTime=a.adStartTime+l;r.addCue(a)}}i+=s.duration}};var _n=function e(t){return t>>>0};var bn={toUnsigned:_n};var Tn=bn.toUnsigned;var Sn,wn,En,kn;Sn=function e(t,r){var n=[],i,a,o,s,u;if(!r.length){return null}for(i=0;i<t.byteLength;){a=Tn(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]);o=wn(t.subarray(i+4,i+8));s=a>1?i+a:t.byteLength;if(o===r[0]){if(r.length===1){n.push(t.subarray(i+8,s))}else{u=Sn(t.subarray(i+8,s),r.slice(1));if(u.length){n=n.concat(u)}}}i=s}return n};wn=function e(t){var r="";r+=String.fromCharCode(t[0]);r+=String.fromCharCode(t[1]);r+=String.fromCharCode(t[2]);r+=String.fromCharCode(t[3]);return r};En=function e(t){var r={},n=Sn(t,["moov","trak"]);return n.reduce(function(e,t){var r,n,i,a,o;r=Sn(t,["tkhd"])[0];if(!r){return null}n=r[0];i=n===0?12:20;a=Tn(r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]);o=Sn(t,["mdia","mdhd"])[0];if(!o){return null}n=o[0];i=n===0?12:20;e[a]=Tn(o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3]);return e},r)};kn=function e(t,r){var n,i,a;n=Sn(r,["moof","traf"]);i=[].concat.apply([],n.map(function(e){return Sn(e,["tfhd"]).map(function(r){var n,i,a;n=Tn(r[4]<<24|r[5]<<16|r[6]<<8|r[7]);i=t[n]||9e4;a=Sn(e,["tfdt"]).map(function(e){var t,r;t=e[0];r=Tn(e[4]<<24|e[5]<<16|e[6]<<8|e[7]);if(t===1){r*=Math.pow(2,32);r+=Tn(e[8]<<24|e[9]<<16|e[10]<<8|e[11])}return r})[0];a=a||Infinity;return a/i})}));a=Math.min.apply(null,i);return isFinite(a)?a:0};var Pn={parseType:wn,timescale:En,startTime:kn};var On={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};var Cn=function e(){this.init=function(){var e={};this.on=function(t,r){if(!e[t]){e[t]=[]}e[t]=e[t].concat(r)};this.off=function(t,r){var n;if(!e[t]){return false}n=e[t].indexOf(r);e[t]=e[t].slice();e[t].splice(n,1);return n>-1};this.trigger=function(t){var r,n,i,a;r=e[t];if(!r){return}if(arguments.length===2){i=r.length;for(n=0;n<i;++n){r[n].call(this,arguments[1])}}else{a=[];n=arguments.length;for(n=1;n<arguments.length;++n){a.push(arguments[n])}i=r.length;for(n=0;n<i;++n){r[n].apply(this,a)}}};this.dispose=function(){e={}}}};Cn.prototype.pipe=function(e){this.on("data",function(t){e.push(t)});this.on("done",function(t){e.flush(t)});return e};Cn.prototype.push=function(e){this.trigger("data",e)};Cn.prototype.flush=function(e){this.trigger("done",e)};var An=Cn;var xn=8589934592;var In=4294967296;var Ln=function e(t,r){var n=1;if(t>r){n=-1}while(Math.abs(r-t)>In){t+=n*xn}return t};var Dn=function e(t){var r,n;e.prototype.init.call(this);this.type_=t;this.push=function(e){if(e.type!==this.type_){return}if(n===undefined){n=e.dts}e.dts=Ln(e.dts,n);e.pts=Ln(e.pts,n);r=e.dts;this.trigger("data",e)};this.flush=function(){n=r;this.trigger("done")};this.discontinuity=function(){n=void 0;r=void 0}};Dn.prototype=new An;var Rn={TimestampRolloverStream:Dn,handleRollover:Ln};var jn=function e(t){var r=t[1]&31;r<<=8;r|=t[2];return r};var Mn=function e(t){return!!(t[1]&64)};var Nn=function e(t){var r=0;if((t[3]&48)>>>4>1){r+=t[4]+1}return r};var Un=function e(t,r){var n=jn(t);if(n===0){return"pat"}else if(n===r){return"pmt"}else if(r){return"pes"}return null};var Bn=function e(t){var r=Mn(t);var n=4+Nn(t);if(r){n+=t[n]+1}return(t[n+10]&31)<<8|t[n+11]};var Fn=function e(t){var r={};var n=Mn(t);var i=4+Nn(t);if(n){i+=t[i]+1}if(!(t[i+5]&1)){return}var a,o,s;a=(t[i+1]&15)<<8|t[i+2];o=3+a-4;s=(t[i+10]&15)<<8|t[i+11];var u=12+s;while(u<o){var l=i+u;r[(t[l+1]&31)<<8|t[l+2]]=t[l];u+=((t[l+3]&15)<<8|t[l+4])+5}return r};var qn=function e(t,r){var n=jn(t);var i=r[n];switch(i){case On.H264_STREAM_TYPE:return"video";case On.ADTS_STREAM_TYPE:return"audio";case On.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}};var Hn=function e(t){var r=Mn(t);if(!r){return null}var n=4+Nn(t);if(n>=t.byteLength){return null}var i=null;var a;a=t[n+7];if(a&192){i={};i.pts=(t[n+9]&14)<<27|(t[n+10]&255)<<20|(t[n+11]&254)<<12|(t[n+12]&255)<<5|(t[n+13]&254)>>>3;i.pts*=4;i.pts+=(t[n+13]&6)>>>1;i.dts=i.pts;if(a&64){i.dts=(t[n+14]&14)<<27|(t[n+15]&255)<<20|(t[n+16]&254)<<12|(t[n+17]&255)<<5|(t[n+18]&254)>>>3;i.dts*=4;i.dts+=(t[n+18]&6)>>>1}}return i};var Vn=function e(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};var Wn=function e(t){var r=4+Nn(t);var n=t.subarray(r);var i=0;var a=0;var o=false;var s;for(;a<n.byteLength-3;a++){if(n[a+2]===1){i=a+5;break}}while(i<n.byteLength){switch(n[i]){case 0:if(n[i-1]!==0){i+=2;break}else if(n[i-2]!==0){i++;break}if(a+3!==i-2){s=Vn(n[a+3]&31);if(s==="slice_layer_without_partitioning_rbsp_idr"){o=true}}do{i++}while(n[i]!==1&&i<n.length);a=i-2;i+=3;break;case 1:if(n[i-1]!==0||n[i-2]!==0){i+=3;break}s=Vn(n[a+3]&31);if(s==="slice_layer_without_partitioning_rbsp_idr"){o=true}a=i-2;i+=3;break;default:i+=3;break}}n=n.subarray(a);i-=a;a=0;if(n&&n.byteLength>3){s=Vn(n[a+3]&31);if(s==="slice_layer_without_partitioning_rbsp_idr"){o=true}}return o};var Gn={parseType:Un,parsePat:Bn,parsePmt:Fn,parsePayloadUnitStartIndicator:Mn,parsePesType:qn,parsePesTime:Hn,videoPacketContainsKeyFrame:Wn};var zn=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];var Xn=function e(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]};var Yn=function e(t,r,n){var i,a="";for(i=r;i<n;i++){a+="%"+("00"+t[i].toString(16)).slice(-2)}return a};var Kn=function e(t,r,n){return unescape(Yn(t,r,n))};var $n=function e(t,r){var n=t[r+6]<<21|t[r+7]<<14|t[r+8]<<7|t[r+9],i=t[r+5],a=(i&16)>>4;if(a){return n+20}return n+10};var Jn=function e(t,r){var n=(t[r+5]&224)>>5,i=t[r+4]<<3,a=t[r+3]&3<<11;return a|i|n};var Qn=function e(t,r){if(t[r]==="I".charCodeAt(0)&&t[r+1]==="D".charCodeAt(0)&&t[r+2]==="3".charCodeAt(0)){return"timed-metadata"}else if(t[r]&255===255&&(t[r+1]&240)===240){return"audio"}return null};var Zn=function e(t){var r=0;while(r+5<t.length){if(t[r]!==255||(t[r+1]&246)!==240){r++;continue}return zn[(t[r+2]&60)>>>2]}return null};var ei=function e(t){var r,n,i,a;r=10;if(t[5]&64){r+=4;r+=Xn(t.subarray(10,14))}do{n=Xn(t.subarray(r+4,r+8));if(n<1){return null}a=String.fromCharCode(t[r],t[r+1],t[r+2],t[r+3]);if(a==="PRIV"){i=t.subarray(r+10,r+n+10);for(var o=0;o<i.byteLength;o++){if(i[o]===0){var s=Kn(i,0,o);if(s==="com.apple.streaming.transportStreamTimestamp"){var u=i.subarray(o+1);var l=(u[3]&1)<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;l*=4;l+=u[7]&3;return l}break}}}r+=10;r+=n}while(r<t.byteLength);return null};var ti={parseId3TagSize:$n,parseAdtsSize:Jn,parseType:Qn,parseSampleRate:Zn,parseAacTimestamp:ei};var ri=Rn.handleRollover;var ni={};ni.ts=Gn;ni.aac=ti;var ii=9e4,ai=188,oi=71;var si=function e(t){if(t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)){return true}return false};var ui=function e(t,r){var n=0,i=ai,a,o;while(i<t.byteLength){if(t[n]===oi&&t[i]===oi){a=t.subarray(n,i);o=ni.ts.parseType(a,r.pid);switch(o){case"pat":if(!r.pid){r.pid=ni.ts.parsePat(a)}break;case"pmt":if(!r.table){r.table=ni.ts.parsePmt(a)}break;default:break}if(r.pid&&r.table){return}n+=ai;i+=ai;continue}n++;i++}};var li=function e(t,r,n){var i=0,a=ai,o,s,u,l,c;var f=false;while(a<t.byteLength){if(t[i]===oi&&t[a]===oi){o=t.subarray(i,a);s=ni.ts.parseType(o,r.pid);switch(s){case"pes":u=ni.ts.parsePesType(o,r.table);l=ni.ts.parsePayloadUnitStartIndicator(o);if(u==="audio"&&l){c=ni.ts.parsePesTime(o);if(c){c.type="audio";n.audio.push(c);f=true}}break;default:break}if(f){break}i+=ai;a+=ai;continue}i++;a++}a=t.byteLength;i=a-ai;f=false;while(i>=0){if(t[i]===oi&&t[a]===oi){o=t.subarray(i,a);s=ni.ts.parseType(o,r.pid);switch(s){case"pes":u=ni.ts.parsePesType(o,r.table);l=ni.ts.parsePayloadUnitStartIndicator(o);if(u==="audio"&&l){c=ni.ts.parsePesTime(o);if(c){c.type="audio";n.audio.push(c);f=true}}break;default:break}if(f){break}i-=ai;a-=ai;continue}i--;a--}};var ci=function e(t,r,n){var i=0,a=ai,o,s,u,l,c,f,d,p;var h=false;var v={data:[],size:0};while(a<t.byteLength){if(t[i]===oi&&t[a]===oi){o=t.subarray(i,a);s=ni.ts.parseType(o,r.pid);switch(s){case"pes":u=ni.ts.parsePesType(o,r.table);l=ni.ts.parsePayloadUnitStartIndicator(o);if(u==="video"){if(l&&!h){c=ni.ts.parsePesTime(o);if(c){c.type="video";n.video.push(c);h=true}}if(!n.firstKeyFrame){if(l){if(v.size!==0){f=new Uint8Array(v.size);d=0;while(v.data.length){p=v.data.shift();f.set(p,d);d+=p.byteLength}if(ni.ts.videoPacketContainsKeyFrame(f)){n.firstKeyFrame=ni.ts.parsePesTime(f);n.firstKeyFrame.type="video"}v.size=0}}v.data.push(o);v.size+=o.byteLength}}break;default:break}if(h&&n.firstKeyFrame){break}i+=ai;a+=ai;continue}i++;a++}a=t.byteLength;i=a-ai;h=false;while(i>=0){if(t[i]===oi&&t[a]===oi){o=t.subarray(i,a);s=ni.ts.parseType(o,r.pid);switch(s){case"pes":u=ni.ts.parsePesType(o,r.table);l=ni.ts.parsePayloadUnitStartIndicator(o);if(u==="video"&&l){c=ni.ts.parsePesTime(o);if(c){c.type="video";n.video.push(c);h=true}}break;default:break}if(h){break}i-=ai;a-=ai;continue}i--;a--}};var fi=function e(t,r){if(t.audio&&t.audio.length){var n=r;if(typeof n==="undefined"){n=t.audio[0].dts}t.audio.forEach(function(e){e.dts=ri(e.dts,n);e.pts=ri(e.pts,n);e.dtsTime=e.dts/ii;e.ptsTime=e.pts/ii})}if(t.video&&t.video.length){var i=r;if(typeof i==="undefined"){i=t.video[0].dts}t.video.forEach(function(e){e.dts=ri(e.dts,i);e.pts=ri(e.pts,i);e.dtsTime=e.dts/ii;e.ptsTime=e.pts/ii});if(t.firstKeyFrame){var a=t.firstKeyFrame;a.dts=ri(a.dts,i);a.pts=ri(a.pts,i);a.dtsTime=a.dts/ii;a.ptsTime=a.dts/ii}}};var di=function e(t){var r=false,n=0,i=null,a=null,o=0,s=0,u;while(t.length-s>=3){var l=ni.aac.parseType(t,s);switch(l){case"timed-metadata":if(t.length-s<10){r=true;break}o=ni.aac.parseId3TagSize(t,s);if(o>t.length){r=true;break}if(a===null){u=t.subarray(s,s+o);a=ni.aac.parseAacTimestamp(u)}s+=o;break;case"audio":if(t.length-s<7){r=true;break}o=ni.aac.parseAdtsSize(t,s);if(o>t.length){r=true;break}if(i===null){u=t.subarray(s,s+o);i=ni.aac.parseSampleRate(u)}n++;s+=o;break;default:s++;break}if(r){return null}}if(i===null||a===null){return null}var c=ii/i;var f={audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+n*1024*c,pts:a+n*1024*c}]};return f};var pi=function e(t){var r={pid:null,table:null};var n={};ui(t,r);for(var i in r.table){if(r.table.hasOwnProperty(i)){var a=r.table[i];switch(a){case On.H264_STREAM_TYPE:n.video=[];ci(t,r,n);if(n.video.length===0){delete n.video}break;case On.ADTS_STREAM_TYPE:n.audio=[];li(t,r,n);if(n.audio.length===0){delete n.audio}break;default:break}}}return n};var hi=function e(t,r){var n=si(t);var i;if(n){i=di(t)}else{i=pi(t)}if(!i||!i.audio&&!i.video){return null}fi(i,r);return i};var vi={inspect:hi};var yi=vi.inspect;var mi=[{name:"VOD",run:function e(t,r,n,i,a){if(n!==Infinity){var o={time:0,segmentIndex:0};return o}return null}},{name:"ProgramDateTime",run:function e(t,r,n,i,a){if(!t.datetimeToDisplayTime){return null}var o=r.segments||[];var s=null;var u=null;a=a||0;for(var l=0;l<o.length;l++){var c=o[l];if(c.dateTimeObject){var f=c.dateTimeObject.getTime()/1e3;var d=f+t.datetimeToDisplayTime;var p=Math.abs(a-d);if(u!==null&&u<p){break}u=p;s={time:d,segmentIndex:l}}}return s}},{name:"Segment",run:function e(t,r,n,i,a){var o=r.segments||[];var s=null;var u=null;a=a||0;for(var l=0;l<o.length;l++){var c=o[l];if(c.timeline===i&&typeof c.start!=="undefined"){var f=Math.abs(a-c.start);if(u!==null&&u<f){break}if(!s||u===null||u>=f){u=f;s={time:c.start,segmentIndex:l}}}}return s}},{name:"Discontinuity",run:function e(t,r,n,i,a){var o=null;a=a||0;if(r.discontinuityStarts&&r.discontinuityStarts.length){var s=null;for(var u=0;u<r.discontinuityStarts.length;u++){var l=r.discontinuityStarts[u];var c=r.discontinuitySequence+u+1;var f=t.discontinuities[c];if(f){var d=Math.abs(a-f.time);if(s!==null&&s<d){break}if(!o||s===null||s>=d){s=d;o={time:f.time,segmentIndex:l}}}}}return o}},{name:"Playlist",run:function e(t,r,n,i,a){if(r.syncInfo){var o={time:r.syncInfo.time,segmentIndex:r.syncInfo.mediaSequence-r.mediaSequence};return o}return null}}];var gi=function(e){x(t,e);function t(){P(this,t);var e=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.inspectCache_=undefined;e.timelines=[];e.discontinuities=[];e.datetimeToDisplayTime=null;e.logger_=kr("SyncController");return e}O(t,[{key:"getSyncPoint",value:function e(t,r,n,i){var a=this.runStrategies_(t,r,n,i);if(!a.length){return null}return this.selectSyncPoint_(a,{key:"time",value:i})}},{key:"getExpiredTime",value:function e(t,r){if(!t||!t.segments){return null}var n=this.runStrategies_(t,r,t.discontinuitySequence,0);if(!n.length){return null}var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});if(i.segmentIndex>0){i.time*=-1}return Math.abs(i.time+K(t,i.segmentIndex,0))}},{key:"runStrategies_",value:function e(t,r,n,i){var a=[];for(var o=0;o<mi.length;o++){var s=mi[o];var u=s.run(this,t,r,n,i);if(u){u.strategy=s.name;a.push({strategy:s.name,syncPoint:u})}}return a}},{key:"selectSyncPoint_",value:function e(t,r){var n=t[0].syncPoint;var i=Math.abs(t[0].syncPoint[r.key]-r.value);var a=t[0].strategy;for(var o=1;o<t.length;o++){var s=Math.abs(t[o].syncPoint[r.key]-r.value);if(s<i){i=s;n=t[o].syncPoint;a=t[o].strategy}}this.logger_("syncPoint for ["+r.key+": "+r.value+"] chosen with strategy"+(" ["+a+"]: [time:"+n.time+",")+(" segmentIndex:"+n.segmentIndex+"]"));return n}},{key:"saveExpiredSegmentInfo",value:function e(t,r){var n=r.mediaSequence-t.mediaSequence;for(var i=n-1;i>=0;i--){var a=t.segments[i];if(a&&typeof a.start!=="undefined"){r.syncInfo={mediaSequence:t.mediaSequence+i,time:a.start};this.logger_("playlist refresh sync: [time:"+r.syncInfo.time+","+(" mediaSequence: "+r.syncInfo.mediaSequence+"]"));this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function e(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var r=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-r}}},{key:"reset",value:function e(){this.inspectCache_=undefined}},{key:"probeSegmentInfo",value:function e(t){var r=t.segment;var n=t.playlist;var i=void 0;if(r.map){i=this.probeMp4Segment_(t)}else{i=this.probeTsSegment_(t)}if(i){if(this.calculateSegmentTimeMapping_(t,i)){this.saveDiscontinuitySyncInfo_(t);if(!n.syncInfo){n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:r.start}}}}return i}},{key:"probeMp4Segment_",value:function e(t){var r=t.segment;var n=Pn.timescale(r.map.bytes);var i=Pn.startTime(n,t.bytes);if(t.timestampOffset!==null){t.timestampOffset-=i}return{start:i,end:i+r.duration}}},{key:"probeTsSegment_",value:function e(t){var r=yi(t.bytes,this.inspectCache_);var n=void 0;var i=void 0;if(!r){return null}if(r.video&&r.video.length===2){this.inspectCache_=r.video[1].dts;n=r.video[0].dtsTime;i=r.video[1].dtsTime}else if(r.audio&&r.audio.length===2){this.inspectCache_=r.audio[1].dts;n=r.audio[0].dtsTime;i=r.audio[1].dtsTime}return{start:n,end:i,containsVideo:r.video&&r.video.length===2,containsAudio:r.audio&&r.audio.length===2}}},{key:"timestampOffsetForTimeline",value:function e(t){if(typeof this.timelines[t]==="undefined"){return null}return this.timelines[t].time}},{key:"mappingForTimeline",value:function e(t){if(typeof this.timelines[t]==="undefined"){return null}return this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function e(t,r){var n=t.segment;var i=this.timelines[t.timeline];if(t.timestampOffset!==null){i={time:t.startOfSegment,mapping:t.startOfSegment-r.start};this.timelines[t.timeline]=i;this.trigger("timestampoffset");this.logger_("time mapping for timeline "+t.timeline+": "+("[time: "+i.time+"] [mapping: "+i.mapping+"]"));n.start=t.startOfSegment;n.end=r.end+i.mapping}else if(i){n.start=r.start+i.mapping;n.end=r.end+i.mapping}else{return false}return true}},{key:"saveDiscontinuitySyncInfo_",value:function e(t){var r=t.playlist;var n=t.segment;if(n.discontinuity){this.discontinuities[n.timeline]={time:n.start,accuracy:0}}else if(r.discontinuityStarts&&r.discontinuityStarts.length){for(var i=0;i<r.discontinuityStarts.length;i++){var a=r.discontinuityStarts[i];var o=r.discontinuitySequence+i+1;var s=a-t.mediaIndex;var u=Math.abs(s);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>u){var l=void 0;if(s<0){l=n.start-K(r,t.mediaIndex,a)}else{l=n.end+K(r,t.mediaIndex+1,a)}this.discontinuities[o]={time:l,accuracy:u}}}}}}]);return t}(n.EventTarget);var _i=new at("./decrypter-worker.worker.js",function(e,t){var r=this;var n=function(){var t=typeof e!=="undefined"?e:typeof global!=="undefined"?global:typeof r!=="undefined"?r:{};var n;if(typeof e!=="undefined"){n=e}else if(typeof t!=="undefined"){n=t}else if(typeof r!=="undefined"){n=r}else{n={}}var i=n;function a(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}var o=function e(t,r){if(!(t instanceof r)){throw new TypeError("Cannot call a class as a function")}};var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var u=function e(t,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof r)}t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(r)Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r};var l=function e(t,r){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return r&&(typeof r==="object"||typeof r==="function")?r:t};var c=function e(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]];var r=t[0];var n=t[1];var i=r[4];var a=n[4];var o=void 0;var s=void 0;var u=void 0;var l=[];var c=[];var f=void 0;var d=void 0;var p=void 0;var h=void 0;var v=void 0;var y=void 0;for(o=0;o<256;o++){c[(l[o]=o<<1^(o>>7)*283)^o]=o}for(s=u=0;!i[s];s^=f||1,u=c[u]||1){h=u^u<<1^u<<2^u<<3^u<<4;h=h>>8^h&255^99;i[s]=h;a[h]=s;p=l[d=l[f=l[s]]];y=p*16843009^d*65537^f*257^s*16843008;v=l[h]*257^h*16843008;for(o=0;o<4;o++){r[o][s]=v=v<<24^v>>>8;n[o][h]=y=y<<24^y>>>8}}for(o=0;o<5;o++){r[o]=r[o].slice(0);n[o]=n[o].slice(0)}return t};var f=null;var d=function(){function e(t){o(this,e);if(!f){f=c()}this._tables=[[f[0][0].slice(),f[0][1].slice(),f[0][2].slice(),f[0][3].slice(),f[0][4].slice()],[f[1][0].slice(),f[1][1].slice(),f[1][2].slice(),f[1][3].slice(),f[1][4].slice()]];var r=void 0;var n=void 0;var i=void 0;var a=void 0;var s=void 0;var u=this._tables[0][4];var l=this._tables[1];var d=t.length;var p=1;if(d!==4&&d!==6&&d!==8){throw new Error("Invalid aes key size")}a=t.slice(0);s=[];this._key=[a,s];for(r=d;r<4*d+28;r++){i=a[r-1];if(r%d===0||d===8&&r%d===4){i=u[i>>>24]<<24^u[i>>16&255]<<16^u[i>>8&255]<<8^u[i&255];if(r%d===0){i=i<<8^i>>>24^p<<24;p=p<<1^(p>>7)*283}}a[r]=a[r-d]^i}for(n=0;r;n++,r--){i=a[n&3?r:r-4];if(r<=4||n<4){s[n]=i}else{s[n]=l[0][u[i>>>24]]^l[1][u[i>>16&255]]^l[2][u[i>>8&255]]^l[3][u[i&255]]}}}e.prototype.decrypt=function e(t,r,n,i,a,o){var s=this._key[1];var u=t^s[0];var l=i^s[1];var c=n^s[2];var f=r^s[3];var d=void 0;var p=void 0;var h=void 0;var v=s.length/4-2;var y=void 0;var m=4;var g=this._tables[1];var _=g[0];var b=g[1];var T=g[2];var S=g[3];var w=g[4];for(y=0;y<v;y++){d=_[u>>>24]^b[l>>16&255]^T[c>>8&255]^S[f&255]^s[m];p=_[l>>>24]^b[c>>16&255]^T[f>>8&255]^S[u&255]^s[m+1];h=_[c>>>24]^b[f>>16&255]^T[u>>8&255]^S[l&255]^s[m+2];f=_[f>>>24]^b[u>>16&255]^T[l>>8&255]^S[c&255]^s[m+3];m+=4;u=d;l=p;c=h}for(y=0;y<4;y++){a[(3&-y)+o]=w[u>>>24]<<24^w[l>>16&255]<<16^w[c>>8&255]<<8^w[f&255]^s[m++];d=u;u=l;l=c;c=f;f=d}};return e}();var p=function(){function e(){o(this,e);this.listeners={}}e.prototype.on=function e(t,r){if(!this.listeners[t]){this.listeners[t]=[]}this.listeners[t].push(r)};e.prototype.off=function e(t,r){if(!this.listeners[t]){return false}var n=this.listeners[t].indexOf(r);this.listeners[t].splice(n,1);return n>-1};e.prototype.trigger=function e(t){var r=this.listeners[t];if(!r){return}if(arguments.length===2){var n=r.length;for(var i=0;i<n;++i){r[i].call(this,arguments[1])}}else{var a=Array.prototype.slice.call(arguments,1);var o=r.length;for(var s=0;s<o;++s){r[s].apply(this,a)}}};e.prototype.dispose=function e(){this.listeners={}};e.prototype.pipe=function e(t){this.on("data",function(e){t.push(e)})};return e}();var h=function(e){u(t,e);function t(){o(this,t);var r=l(this,e.call(this,p));r.jobs=[];r.delay=1;r.timeout_=null;return r}t.prototype.processJob_=function e(){this.jobs.shift()();if(this.jobs.length){this.timeout_=setTimeout(this.processJob_.bind(this),this.delay)}else{this.timeout_=null}};t.prototype.push=function e(t){this.jobs.push(t);if(!this.timeout_){this.timeout_=setTimeout(this.processJob_.bind(this),this.delay)}};return t}(p);var v=function e(t){return t<<24|(t&65280)<<8|(t&16711680)>>8|t>>>24};var y=function e(t,r,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2);var a=new d(Array.prototype.slice.call(r));var o=new Uint8Array(t.byteLength);var s=new Int32Array(o.buffer);var u=void 0;var l=void 0;var c=void 0;var f=void 0;var p=void 0;var h=void 0;var y=void 0;var m=void 0;var g=void 0;u=n[0];l=n[1];c=n[2];f=n[3];for(g=0;g<i.length;g+=4){p=v(i[g]);h=v(i[g+1]);y=v(i[g+2]);m=v(i[g+3]);a.decrypt(p,h,y,m,s,g);s[g]=v(s[g]^u);s[g+1]=v(s[g+1]^l);s[g+2]=v(s[g+2]^c);s[g+3]=v(s[g+3]^f);u=p;l=h;c=y;f=m}return o};var m=function(){function e(t,r,n,i){o(this,e);var s=e.STEP;var u=new Int32Array(t.buffer);var l=new Uint8Array(t.byteLength);var c=0;this.asyncStream_=new h;this.asyncStream_.push(this.decryptChunk_(u.subarray(c,c+s),r,n,l));for(c=s;c<u.length;c+=s){n=new Uint32Array([v(u[c-4]),v(u[c-3]),v(u[c-2]),v(u[c-1])]);this.asyncStream_.push(this.decryptChunk_(u.subarray(c,c+s),r,n,l))}this.asyncStream_.push(function(){i(null,a(l))})}e.prototype.decryptChunk_=function e(t,r,n,i){return function(){var e=y(t,r,n);i.set(e,t.byteOffset)}};s(e,null,[{key:"STEP",get:function e(){return 32e3}}]);return e}();var g=function e(t){var r={};Object.keys(t).forEach(function(e){var n=t[e];if(ArrayBuffer.isView(n)){r[e]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}}else{r[e]=n}});return r};var _=function e(t){t.onmessage=function(e){var t=e.data;var r=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength);var n=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4);var a=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new m(r,n,a,function(e,r){i.postMessage(g({source:t.source,decrypted:r}),[r.buffer])})}};var b=new _(r);return b}()});var bi=function e(t){var r=t.default?"main":"alternative";if(t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0){r="main-desc"}return r};var Ti=function e(t,r){t.abort();t.pause();if(r&&r.activePlaylistLoader){r.activePlaylistLoader.pause();r.activePlaylistLoader=null}};var Si=function e(t,r){r.activePlaylistLoader=t;t.load()};var wi=function e(t,r){return function(){var e=r.segmentLoaders,n=e[t],i=e.main,a=r.mediaTypes[t];var o=a.activeTrack();var s=a.activeGroup(o);var u=a.activePlaylistLoader;Ti(n,a);if(!s){return}if(!s.playlistLoader){if(u){i.resetEverything()}return}n.resyncLoader();Si(s.playlistLoader,a)}};var Ei=function e(t,r){return function(){var e=r.segmentLoaders,n=e[t],i=e.main,a=r.mediaTypes[t];var o=a.activeTrack();var s=a.activeGroup(o);var u=a.activePlaylistLoader;Ti(n,a);if(!s){return}if(!s.playlistLoader){i.resetEverything();return}if(u===s.playlistLoader){Si(s.playlistLoader,a);return}if(n.track){n.track(o)}n.resetEverything();Si(s.playlistLoader,a)}};var ki={AUDIO:function e(t,r){return function(){var e=r.segmentLoaders[t],i=r.mediaTypes[t],a=r.blacklistCurrentPlaylist;Ti(e,i);var o=i.activeTrack();var s=i.activeGroup();var u=(s.filter(function(e){return e.default})[0]||s[0]).id;var l=i.tracks[u];if(o===l){a({message:"Problem encountered loading the default audio track."});return}n.log.warn("Problem encountered loading the alternate audio track."+"Switching back to default.");for(var c in i.tracks){i.tracks[c].enabled=i.tracks[c]===l}i.onTrackChanged()}},SUBTITLES:function e(t,r){return function(){var e=r.segmentLoaders[t],i=r.mediaTypes[t];n.log.warn("Problem encountered loading the subtitle track."+"Disabling subtitle track.");Ti(e,i);var a=i.activeTrack();if(a){a.mode="disabled"}i.onTrackChanged()}}};var Pi={AUDIO:function e(t,r,n){if(!r){return}var i=n.tech,a=n.requestOptions,o=n.segmentLoaders[t];r.on("loadedmetadata",function(){var e=r.media();o.playlist(e,a);if(!i.paused()||e.endList&&i.preload()!=="none"){o.load()}});r.on("loadedplaylist",function(){o.playlist(r.media(),a);if(!i.paused()){o.load()}});r.on("error",ki[t](t,n))},SUBTITLES:function e(t,r,n){var i=n.tech,a=n.requestOptions,o=n.segmentLoaders[t],s=n.mediaTypes[t];r.on("loadedmetadata",function(){var e=r.media();o.playlist(e,a);o.track(s.activeTrack());if(!i.paused()||e.endList&&i.preload()!=="none"){o.load()}});r.on("loadedplaylist",function(){o.playlist(r.media(),a);if(!i.paused()){o.load()}});r.on("error",ki[t](t,n))}};var Oi=function e(t,r){return function(e){return e.attributes[t]===r}};var Ci=function e(t){return function(e){return e.resolvedUri===t}};var Ai={AUDIO:function e(t,r){var i=r.hls,a=r.sourceType,o=r.segmentLoaders[t],s=r.requestOptions.withCredentials,u=r.master,l=u.mediaGroups,c=u.playlists,f=r.mediaTypes[t],d=f.groups,p=f.tracks,h=r.masterPlaylistLoader;if(!l[t]||Object.keys(l[t]).length===0){l[t]={main:{default:{default:true}}}}for(var v in l[t]){if(!d[v]){d[v]=[]}var y=c.filter(Oi(t,v));for(var m in l[t][v]){var g=l[t][v][m];var _=y.filter(Ci(g.resolvedUri));if(_.length){delete g.resolvedUri}var b=void 0;if(g.resolvedUri){b=new V(g.resolvedUri,i,s)}else if(g.playlists&&a==="dash"){b=new Er(g.playlists[0],i,s,h)}else{b=null}g=n.mergeOptions({id:m,playlistLoader:b},g);Pi[t](t,g.playlistLoader,r);d[v].push(g);if(typeof p[m]==="undefined"){var T=new n.AudioTrack({id:m,kind:bi(g),enabled:false,language:g.language,default:g.default,label:m});p[m]=T}}}o.on("error",ki[t](t,r))},SUBTITLES:function e(t,r){var i=r.tech,a=r.hls,o=r.sourceType,s=r.segmentLoaders[t],u=r.requestOptions.withCredentials,l=r.master.mediaGroups,c=r.mediaTypes[t],f=c.groups,d=c.tracks,p=r.masterPlaylistLoader;for(var h in l[t]){if(!f[h]){f[h]=[]}for(var v in l[t][h]){if(l[t][h][v].forced){continue}var y=l[t][h][v];var m=void 0;if(o==="hls"){m=new V(y.resolvedUri,a,u)}else if(o==="dash"){m=new Er(y.playlists[0],a,u,p)}y=n.mergeOptions({id:v,playlistLoader:m},y);Pi[t](t,y.playlistLoader,r);f[h].push(y);if(typeof d[v]==="undefined"){var g=i.addRemoteTextTrack({id:v,kind:"subtitles",enabled:false,language:y.language,label:v},false).track;d[v]=g}}}s.on("error",ki[t](t,r))},"CLOSED-CAPTIONS":function e(t,r){var i=r.tech,a=r.master.mediaGroups,o=r.mediaTypes[t],s=o.groups,u=o.tracks;for(var l in a[t]){if(!s[l]){s[l]=[]}for(var c in a[t][l]){var f=a[t][l][c];if(!f.instreamId.match(/CC\d/)){continue}s[l].push(n.mergeOptions({id:c},f));if(typeof u[c]==="undefined"){var d=i.addRemoteTextTrack({id:f.instreamId,kind:"captions",enabled:false,language:f.language,label:c},false).track;u[c]=d}}}}};var xi=function e(t,r){return function(e){var n=r.masterPlaylistLoader,i=r.mediaTypes[t].groups;var a=n.media();if(!a){return null}var o=null;if(a.attributes[t]){o=i[a.attributes[t]]}o=o||i.main;if(typeof e==="undefined"){return o}if(e===null){return null}return o.filter(function(t){return t.id===e.id})[0]||null}};var Ii={AUDIO:function e(t,r){return function(){var e=r.mediaTypes[t].tracks;for(var n in e){if(e[n].enabled){return e[n]}}return null}},SUBTITLES:function e(t,r){return function(){var e=r.mediaTypes[t].tracks;for(var n in e){if(e[n].mode==="showing"){return e[n]}}return null}}};var Li=function e(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){Ai[e](e,t)});var r=t.mediaTypes,n=t.masterPlaylistLoader,i=t.tech,a=t.hls;["AUDIO","SUBTITLES"].forEach(function(e){r[e].activeGroup=xi(e,t);r[e].activeTrack=Ii[e](e,t);r[e].onGroupChanged=wi(e,t);r[e].onTrackChanged=Ei(e,t)});var o=r.AUDIO.activeGroup();var s=(o.filter(function(e){return e.default})[0]||o[0]).id;r.AUDIO.tracks[s].enabled=true;r.AUDIO.onTrackChanged();n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return r[e].onGroupChanged()})});var u=function e(){r.AUDIO.onTrackChanged();i.trigger({type:"usage",name:"hls-audio-change"})};i.audioTracks().addEventListener("change",u);i.remoteTextTracks().addEventListener("change",r.SUBTITLES.onTrackChanged);a.on("dispose",function(){i.audioTracks().removeEventListener("change",u);i.remoteTextTracks().removeEventListener("change",r.SUBTITLES.onTrackChanged)});i.clearTracks("audio");for(var l in r.AUDIO.tracks){i.audioTracks().addTrack(r.AUDIO.tracks[l])}};var Di=function e(){var t={};["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Pr,activeTrack:Pr,onGroupChanged:Pr,onTrackChanged:Pr}});return t};var Ri=60*2;var ji=void 0;var Mi=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"];var Ni=function e(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]};var Ui=function(e){x(t,e);function t(e){P(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));var i=e.url,a=e.withCredentials,o=e.tech,s=e.bandwidth,u=e.externHls,l=e.useCueTags,c=e.blacklistDuration,f=e.enableLowInitialPlaylist,d=e.sourceType;if(!i){throw new Error("A non-empty playlist URL is required")}ji=u;r.withCredentials=a;r.tech_=o;r.hls_=o.hls;r.sourceType_=d;r.useCueTags_=l;r.blacklistDuration=c;r.enableLowInitialPlaylist=f;if(r.useCueTags_){r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues");r.cueTagsTrack_.inBandMetadataTrackDispatchType=""}r.requestOptions_={withCredentials:r.withCredentials,timeout:null};r.mediaTypes_=Di();r.mediaSource=new n.MediaSource;r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_.bind(r));r.seekable_=n.createTimeRanges();r.hasPlayed_=function(){return false};r.syncController_=new gi(e);r.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},false).track;r.decrypter_=new _i;var p={hls:r.hls_,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function e(){return r.seekable()},seeking:function e(){return r.tech_.seeking()},duration:function e(){return r.mediaSource.duration},hasPlayed:function e(){return r.hasPlayed_()},goalBufferLength:function e(){return r.goalBufferLength()},bandwidth:s,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_};r.masterPlaylistLoader_=r.sourceType_==="dash"?new Er(i,r.hls_,r.withCredentials):new V(i,r.hls_,r.withCredentials);r.setupMasterPlaylistLoaderListeners_();r.mainSegmentLoader_=new pn(n.mergeOptions(p,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),e);r.audioSegmentLoader_=new pn(n.mergeOptions(p,{loaderType:"audio"}),e);r.subtitleSegmentLoader_=new yn(n.mergeOptions(p,{loaderType:"vtt"}),e);r.setupSegmentLoaderListeners_();Mi.forEach(function(e){r[e+"_"]=Ni.bind(r,e)});r.logger_=kr("MPC");r.masterPlaylistLoader_.load();return r}O(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function e(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=t.masterPlaylistLoader_.media();var r=t.masterPlaylistLoader_.targetDuration*1.5*1e3;if(de(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())){t.requestOptions_.timeout=0}else{t.requestOptions_.timeout=r}if(e.endList&&t.tech_.preload()!=="none"){t.mainSegmentLoader_.playlist(e,t.requestOptions_);t.mainSegmentLoader_.load()}Li({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)});t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(e){n.log.warn("Failed to create SourceBuffers",e);return t.mediaSource.endOfStream("decode")}t.setupFirstPlay();t.trigger("selectedinitialmedia")});this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=t.masterPlaylistLoader_.media();if(!e){t.excludeUnsupportedVariants_();var r=void 0;if(t.enableLowInitialPlaylist){r=t.selectInitialPlaylist()}if(!r){r=t.selectPlaylist()}t.initialMedia_=r;t.masterPlaylistLoader_.media(t.initialMedia_);return}if(t.useCueTags_){t.updateAdCues_(e)}t.mainSegmentLoader_.playlist(e,t.requestOptions_);t.updateDuration();if(!t.tech_.paused()){t.mainSegmentLoader_.load()}if(!e.endList){var n=function e(){var r=t.seekable();if(r.length!==0){t.mediaSource.addSeekableRange_(r.start(0),r.end(0))}};if(t.duration()!==Infinity){var i=function e(){if(t.duration()===Infinity){n()}else{t.tech_.one("durationchange",e)}};t.tech_.one("durationchange",i)}else{n()}}});this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)});this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort();t.mainSegmentLoader_.pause()});this.masterPlaylistLoader_.on("mediachange",function(){var e=t.masterPlaylistLoader_.media();var r=t.masterPlaylistLoader_.targetDuration*1.5*1e3;if(de(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())){t.requestOptions_.timeout=0}else{t.requestOptions_.timeout=r}t.mainSegmentLoader_.playlist(e,t.requestOptions_);t.mainSegmentLoader_.load();t.tech_.trigger({type:"mediachange",bubbles:true})});this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=t.masterPlaylistLoader_.media();var r=t.stuckAtPlaylistEnd_(e);if(r){t.blacklistCurrentPlaylist({message:"Playlist no longer updating."});t.tech_.trigger("playliststuck")}});this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})});this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function e(t,r){var n=t.mediaGroups||{};var i=true;var a=Object.keys(n.AUDIO);for(var o in n.AUDIO){for(var s in n.AUDIO[o]){var u=n.AUDIO[o][s];if(!u.uri){i=false}}}if(i){this.tech_.trigger({type:"usage",name:"hls-demuxed"})}if(Object.keys(n.SUBTITLES).length){this.tech_.trigger({type:"usage",name:"hls-webvtt"})}if(ji.Playlist.isAes(r)){this.tech_.trigger({type:"usage",name:"hls-aes"})}if(ji.Playlist.isFmp4(r)){this.tech_.trigger({type:"usage",name:"hls-fmp4"})}if(a.length&&Object.keys(n.AUDIO[a[0]]).length>1){this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})}if(this.useCueTags_){this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}}},{key:"setupSegmentLoaderListeners_",value:function e(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist();var r=t.masterPlaylistLoader_.media();var n=t.tech_.buffered();var i=n.length?n.end(n.length-1)-t.tech_.currentTime():0;var a=t.bufferLowWaterLine();if(!r.endList||t.duration()<Cr.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<r.attributes.BANDWIDTH||i>=a){t.masterPlaylistLoader_.media(e)}t.tech_.trigger("bandwidthupdate")});this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")});this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())});this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})});this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("ended",function(){t.onEndOfStream()});this.mainSegmentLoader_.on("earlyabort",function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the "+"request without rebuffering."},Ri)});this.mainSegmentLoader_.on("reseteverything",function(){t.tech_.trigger("hls-reset")});this.mainSegmentLoader_.on("segmenttimemapping",function(e){t.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})});this.audioSegmentLoader_.on("ended",function(){t.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function e(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function e(){this.mainSegmentLoader_.load();if(this.mediaTypes_.AUDIO.activePlaylistLoader){this.audioSegmentLoader_.load()}if(this.mediaTypes_.SUBTITLES.activePlaylistLoader){this.subtitleSegmentLoader_.load()}}},{key:"fastQualityChange_",value:function e(){var t=this.selectPlaylist();if(t!==this.masterPlaylistLoader_.media()){this.masterPlaylistLoader_.media(t);this.mainSegmentLoader_.resetLoader()}}},{key:"play",value:function e(){if(this.setupFirstPlay()){return}if(this.tech_.ended()){this.tech_.setCurrentTime(0)}if(this.hasPlayed_()){this.load()}var t=this.tech_.seekable();if(this.tech_.duration()===Infinity){if(this.tech_.currentTime()<t.start(0)){return this.tech_.setCurrentTime(t.end(t.length-1))}}}},{key:"setupFirstPlay",value:function e(){var t=this;var r=this.masterPlaylistLoader_.media();if(!r||this.tech_.paused()||this.hasPlayed_()){return false}if(!r.endList){var i=this.seekable();if(!i.length){return false}if(n.browser.IE_VERSION&&this.tech_.readyState()===0){this.tech_.one("loadedmetadata",function(){t.trigger("firstplay");t.tech_.setCurrentTime(i.end(0));t.hasPlayed_=function(){return true}});return false}this.trigger("firstplay");this.tech_.setCurrentTime(i.end(0))}this.hasPlayed_=function(){return true};this.load();return true}},{key:"handleSourceOpen_",value:function e(){try{this.setupSourceBuffers_()}catch(e){n.log.warn("Failed to create Source Buffers",e);return this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();if(typeof t!=="undefined"&&typeof t.then==="function"){t.then(null,function(e){})}}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function e(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo){t=t&&this.audioSegmentLoader_.ended_}else{t=this.audioSegmentLoader_.ended_}}if(t){this.mediaSource.endOfStream()}}},{key:"stuckAtPlaylistEnd_",value:function e(t){var r=this.seekable();if(!r.length){return false}var n=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(n===null){return false}var i=ji.Playlist.playlistEnd(t,n);var a=this.tech_.currentTime();var o=this.tech_.buffered();if(!o.length){return i-a<=Fe}var s=o.end(o.length-1);return s-a<=Fe&&i-s<=Fe}},{key:"blacklistCurrentPlaylist",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=arguments[1];var i=void 0;var a=void 0;i=t.playlist||this.masterPlaylistLoader_.media();r=r||t.blacklistDuration||this.blacklistDuration;if(!i){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var o=this.masterPlaylistLoader_.master.playlists.filter(oe).length===1;if(o){n.log.warn("Problem encountered with the current "+"HLS playlist. Trying again since it is the final playlist.");this.tech_.trigger("retryplaylist");return this.masterPlaylistLoader_.load(o)}i.excludeUntil=Date.now()+r*1e3;this.tech_.trigger("blacklistplaylist");this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});a=this.selectPlaylist();n.log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist.");return this.masterPlaylistLoader_.media(a)}},{key:"pauseLoading",value:function e(){this.mainSegmentLoader_.pause();if(this.mediaTypes_.AUDIO.activePlaylistLoader){this.audioSegmentLoader_.pause()}if(this.mediaTypes_.SUBTITLES.activePlaylistLoader){this.subtitleSegmentLoader_.pause()}}},{key:"setCurrentTime",value:function e(t){var r=He(this.tech_.buffered(),t);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())){return 0}if(!this.masterPlaylistLoader_.media().segments){return 0}if(r&&r.length){return t}this.mainSegmentLoader_.resetEverything();this.mainSegmentLoader_.abort();if(this.mediaTypes_.AUDIO.activePlaylistLoader){this.audioSegmentLoader_.resetEverything();this.audioSegmentLoader_.abort()}if(this.mediaTypes_.SUBTITLES.activePlaylistLoader){this.subtitleSegmentLoader_.resetEverything();this.subtitleSegmentLoader_.abort()}this.load()}},{key:"duration",value:function e(){if(!this.masterPlaylistLoader_){return 0}if(this.mediaSource){return this.mediaSource.duration}return ji.Playlist.duration(this.masterPlaylistLoader_.media())}},{key:"seekable",value:function e(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function e(){var t=void 0;var r=void 0;if(!this.masterPlaylistLoader_){return}var i=this.masterPlaylistLoader_.media();if(!i){return}var a=this.syncController_.getExpiredTime(i,this.mediaSource.duration);if(a===null){return}t=ji.Playlist.seekable(i,a);if(t.length===0){return}if(this.mediaTypes_.AUDIO.activePlaylistLoader){i=this.mediaTypes_.AUDIO.activePlaylistLoader.media();a=this.syncController_.getExpiredTime(i,this.mediaSource.duration);if(a===null){return}r=ji.Playlist.seekable(i,a);if(r.length===0){return}}if(!r){this.seekable_=t}else if(r.start(0)>t.end(0)||t.start(0)>r.end(0)){this.seekable_=t}else{this.seekable_=n.createTimeRanges([[r.start(0)>t.start(0)?r.start(0):t.start(0),r.end(0)<t.end(0)?r.end(0):t.end(0)]])}this.logger_("seekable updated ["+Ge(this.seekable_)+"]");this.tech_.trigger("seekablechanged")}},{key:"updateDuration",value:function e(){var t=this;var r=this.mediaSource.duration;var n=ji.Playlist.duration(this.masterPlaylistLoader_.media());var i=this.tech_.buffered();var a=function e(){t.mediaSource.duration=n;t.tech_.trigger("durationchange");t.mediaSource.removeEventListener("sourceopen",e)};if(i.length>0){n=Math.max(n,i.end(i.length-1))}if(r!==n){if(this.mediaSource.readyState!=="open"){this.mediaSource.addEventListener("sourceopen",a)}else{a()}}}},{key:"dispose",value:function e(){var t=this;this.decrypter_.terminate();this.masterPlaylistLoader_.dispose();this.mainSegmentLoader_.dispose();["AUDIO","SUBTITLES"].forEach(function(e){var r=t.mediaTypes_[e].groups;for(var n in r){r[n].forEach(function(e){if(e.playlistLoader){e.playlistLoader.dispose()}})}});this.audioSegmentLoader_.dispose();this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function e(){return this.masterPlaylistLoader_.master}},{key:"media",value:function e(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function e(){var t=this.masterPlaylistLoader_.media();var r=void 0;if(!t||this.mediaSource.readyState!=="open"){return}r=Jr(this.masterPlaylistLoader_.master,t);if(r.length<1){this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri;return this.mediaSource.endOfStream("decode")}this.configureLoaderMimeTypes_(r);this.excludeIncompatibleVariants_(t)}},{key:"configureLoaderMimeTypes_",value:function e(t){var r=t.length>1&&t[0].indexOf(",")===-1&&t[0]!==t[1]?new n.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],r);if(t[1]){this.audioSegmentLoader_.mimeType(t[1],r)}}},{key:"excludeUnsupportedVariants_",value:function e(){this.master().playlists.forEach(function(e){if(e.attributes.CODECS&&h.MediaSource&&h.MediaSource.isTypeSupported&&!h.MediaSource.isTypeSupported('video/mp4; codecs="'+zr(e.attributes.CODECS)+'"')){e.excludeUntil=Infinity}})}},{key:"excludeIncompatibleVariants_",value:function e(t){var r=2;var n=null;var i=void 0;if(t.attributes.CODECS){i=Gr(t.attributes.CODECS);n=i.videoCodec;r=i.codecCount}this.master().playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};if(e.attributes.CODECS){t=Gr(e.attributes.CODECS)}if(t.codecCount!==r){e.excludeUntil=Infinity}if(t.videoCodec!==n){e.excludeUntil=Infinity}})}},{key:"updateAdCues_",value:function e(t){var r=0;var n=this.seekable();if(n.length){r=n.start(0)}gn(t,this.cueTagsTrack_,r)}},{key:"goalBufferLength",value:function e(){var t=this.tech_.currentTime();var r=Cr.GOAL_BUFFER_LENGTH;var n=Cr.GOAL_BUFFER_LENGTH_RATE;var i=Math.max(r,Cr.MAX_GOAL_BUFFER_LENGTH);return Math.min(r+t*n,i)}},{key:"bufferLowWaterLine",value:function e(){var t=this.tech_.currentTime();var r=Cr.BUFFER_LOW_WATER_LINE;var n=Cr.BUFFER_LOW_WATER_LINE_RATE;var i=Math.max(r,Cr.MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+t*n,i)}}]);return t}(n.EventTarget);var Bi=function e(t,r,n){return function(e){var i=t.master.playlists[r];var a=ae(i);var o=oe(i);if(typeof e==="undefined"){return o}if(e){delete i.disabled}else{i.disabled=true}if(e!==o&&!a){n();if(e){t.trigger("renditionenabled")}else{t.trigger("renditiondisabled")}}return e}};var Fi=function e(t,r,n){P(this,e);var i=t.masterPlaylistController_.fastQualityChange_.bind(t.masterPlaylistController_);if(r.attributes.RESOLUTION){var a=r.attributes.RESOLUTION;this.width=a.width;this.height=a.height}this.bandwidth=r.attributes.BANDWIDTH;this.id=n;this.enabled=Bi(t.playlists,r.uri,i)};var qi=function e(t){var r=t.playlists;t.representations=function(){return r.master.playlists.filter(function(e){return!ae(e)}).map(function(e,r){return new Fi(t,e,e.uri)})}};var Hi=["seeking","seeked","pause","playing","error"];var Vi=function(){function e(t){var r=this;P(this,e);this.tech_=t.tech;this.seekable=t.seekable;this.consecutiveUpdates=0;this.lastRecordedTime=null;this.timer_=null;this.checkCurrentTimeTimeout_=null;this.logger_=kr("PlaybackWatcher");this.logger_("initialize");var n=function e(){return r.monitorCurrentTime_()};var i=function e(){return r.techWaiting_()};var a=function e(){return r.cancelTimer_()};var o=function e(){return r.fixesBadSeeks_()};this.tech_.on("seekablechanged",o);this.tech_.on("waiting",i);this.tech_.on(Hi,a);this.tech_.on("canplay",n);this.dispose=function(){r.logger_("dispose");r.tech_.off("seekablechanged",o);r.tech_.off("waiting",i);r.tech_.off(Hi,a);r.tech_.off("canplay",n);if(r.checkCurrentTimeTimeout_){h.clearTimeout(r.checkCurrentTimeTimeout_)}r.cancelTimer_()}}O(e,[{key:"monitorCurrentTime_",value:function e(){this.checkCurrentTime_();if(this.checkCurrentTimeTimeout_){h.clearTimeout(this.checkCurrentTimeTimeout_)}this.checkCurrentTimeTimeout_=h.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function e(){if(this.tech_.seeking()&&this.fixesBadSeeks_()){this.consecutiveUpdates=0;this.lastRecordedTime=this.tech_.currentTime();return}if(this.tech_.paused()||this.tech_.seeking()){return}var t=this.tech_.currentTime();var r=this.tech_.buffered();if(this.lastRecordedTime===t&&(!r.length||t+Fe>=r.end(r.length-1))){return this.techWaiting_()}if(this.consecutiveUpdates>=5&&t===this.lastRecordedTime){this.consecutiveUpdates++;this.waiting_()}else if(t===this.lastRecordedTime){this.consecutiveUpdates++}else{this.consecutiveUpdates=0;this.lastRecordedTime=t}}},{key:"cancelTimer_",value:function e(){this.consecutiveUpdates=0;if(this.timer_){this.logger_("cancelTimer_");clearTimeout(this.timer_)}this.timer_=null}},{key:"fixesBadSeeks_",value:function e(){var t=this.tech_.seeking();var r=this.seekable();var n=this.tech_.currentTime();var i=void 0;if(t&&this.afterSeekableWindow_(r,n)){var a=r.end(r.length-1);i=a}if(t&&this.beforeSeekableWindow_(r,n)){var o=r.start(0);i=o+Fe}if(typeof i!=="undefined"){this.logger_("Trying to seek outside of seekable at time "+n+" with "+("seekable range "+Ge(r)+". Seeking to ")+(i+"."));this.tech_.setCurrentTime(i);return true}return false}},{key:"waiting_",value:function e(){if(this.techWaiting_()){return}var t=this.tech_.currentTime();var r=this.tech_.buffered();var n=He(r,t);if(n.length&&t+3<=n.end(0)){this.cancelTimer_();this.tech_.setCurrentTime(t);this.logger_("Stopped at "+t+" while inside a buffered region "+("["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time.");this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},{key:"techWaiting_",value:function e(){var t=this.seekable();var r=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_()){return true}if(this.tech_.seeking()||this.timer_!==null){return true}if(this.beforeSeekableWindow_(t,r)){var n=t.end(t.length-1);this.logger_("Fell out of live window at time "+r+". Seeking to "+("live point (seekable end) "+n));this.cancelTimer_();this.tech_.setCurrentTime(n);this.tech_.trigger({type:"usage",name:"hls-live-resync"});return true}var i=this.tech_.buffered();var a=Ve(i,r);if(this.videoUnderflow_(a,i,r)){this.cancelTimer_();this.tech_.setCurrentTime(r);this.tech_.trigger({type:"usage",name:"hls-video-underflow"});return true}if(a.length>0){var o=a.start(0)-r;this.logger_("Stopped at "+r+", setting timer for "+o+", seeking "+("to "+a.start(0)));this.timer_=setTimeout(this.skipTheGap_.bind(this),o*1e3,r);return true}return false}},{key:"afterSeekableWindow_",value:function e(t,r){if(!t.length){return false}if(r>t.end(t.length-1)+Fe){return true}return false}},{key:"beforeSeekableWindow_",value:function e(t,r){if(t.length&&t.start(0)>0&&r<t.start(0)-Fe){return true}return false}},{key:"videoUnderflow_",value:function e(t,r,n){if(t.length===0){var i=this.gapFromVideoUnderflow_(r,n);if(i){this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". "+("Seeking to current time "+n));return true}}return false}},{key:"skipTheGap_",value:function e(t){var r=this.tech_.buffered();var n=this.tech_.currentTime();var i=Ve(r,n);this.cancelTimer_();if(i.length===0||n!==t){return}this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0));this.tech_.setCurrentTime(i.start(0)+Be);this.tech_.trigger({type:"usage",name:"hls-gap-skip"})}},{key:"gapFromVideoUnderflow_",value:function e(t,r){var n=We(t);for(var i=0;i<n.length;i++){var a=n.start(i);var o=n.end(i);if(r-a<4&&r-a>2){return{start:a,end:o}}}return null}}]);return e}();var Wi={errorInterval:30,getSource:function e(t){var r=this.tech({IWillNotUseThisInPlugins:true});var n=r.currentSource_;return t(n)}};var Gi=function e(t,r){var i=0;var a=0;var o=n.mergeOptions(Wi,r);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function e(){if(a){t.currentTime(a)}};var u=function e(r){if(r===null||r===undefined){return}a=t.duration()!==Infinity&&t.currentTime()||0;t.one("loadedmetadata",s);t.src(r);t.trigger({type:"usage",name:"hls-error-reload"});t.play()};var l=function e(){if(Date.now()-i<o.errorInterval*1e3){t.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!o.getSource||typeof o.getSource!=="function"){n.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}i=Date.now();return o.getSource.call(t,u)};var c=function e(){t.off("loadedmetadata",s);t.off("error",l);t.off("dispose",e)};var f=function r(n){c();e(t,n)};t.on("error",l);t.on("dispose",c);t.reloadSourceOnError=f};var zi=function e(t){Gi(this,t)};var Xi="1.0.0";var Yi={PlaylistLoader:V,Playlist:pe,Decrypter:Ae,AsyncStream:Pe,decrypt:Ce,utils:Ue,STANDARD_PLAYLIST_SELECTOR:nn,INITIAL_PLAYLIST_SELECTOR:on,comparePlaylistBandwidth:en,comparePlaylistResolution:tn,xhr:ye()};var Ki=4194304;["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(Yi,e,{get:function t(){n.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing");return Cr[e]},set:function t(r){n.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing");if(typeof r!=="number"||r<0){n.log.warn("value of Hls."+e+" must be greater than or equal to 0");return}Cr[e]=r}})});var $i=function e(t){var r=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;if(r.test(t)){return"hls"}var n=/^application\/dash\+xml/i;if(n.test(t)){return"dash"}return null};var Ji=function e(t,r){var n=r.media();var i=-1;for(var a=0;a<t.length;a++){if(t[a].id===n.uri){i=a;break}}t.selectedIndex_=i;t.trigger({selectedIndex:i,type:"change"})};var Qi=function e(t,r){r.representations().forEach(function(e){t.addQualityLevel(e)});Ji(t,r.playlists)};Yi.canPlaySource=function(){return n.log.warn("HLS is no longer a tech. Please remove it from "+"your player's techOrder.")};var Zi=function e(t,r,i){if(!t){return t}var a={};for(var o in t){a[o]={audioContentType:'audio/mp4; codecs="'+i.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+r.attributes.CODECS+'"'};if(r.contentProtection&&r.contentProtection[o]&&r.contentProtection[o].pssh){a[o].pssh=r.contentProtection[o].pssh}if(typeof t[o]==="string"){a[o].url=t[o]}}return n.mergeOptions(t,a)};var ea=function e(t){if(t.options_.sourceType!=="dash"){return}var r=n.players[t.tech_.options_.playerId];if(r.eme){var i=Zi(t.source_.keySystems,t.playlists.media(),t.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());if(i){r.currentSource().keySystems=i}}};Yi.supportsNativeHls=function(){var e=f.createElement("video");if(!n.getTech("Html5").isSupported()){return false}var t=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return t.some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}();Yi.supportsNativeDash=function(){if(!n.getTech("Html5").isSupported()){return false}return/maybe|probably/i.test(f.createElement("video").canPlayType("application/dash+xml"))}();Yi.supportsTypeNatively=function(e){if(e==="hls"){return Yi.supportsNativeHls}if(e==="dash"){return Yi.supportsNativeDash}return false};Yi.isSupported=function(){return n.log.warn("HLS is no longer a tech. Please remove it from "+"your player's techOrder.")};var ta=n.getComponent("Component");var ra=function(e){x(t,e);function t(e,r,i){P(this,t);var a=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,i.hls));if(r.options_&&r.options_.playerId){var o=n(r.options_.playerId);if(!o.hasOwnProperty("hls")){Object.defineProperty(o,"hls",{get:function e(){n.log.warn("player.hls is deprecated. Use player.tech_.hls instead.");r.trigger({type:"usage",name:"hls-player-access"});return a}})}o.vhs=a;o.dash=a}a.tech_=r;a.source_=e;a.stats={};a.ignoreNextSeekingEvent_=false;a.setOptions_();if(a.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks)){throw new Error("Overriding native HLS requires emulated tracks. "+"See https://git.io/vMpjB")}a.on(f,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=f.fullscreenElement||f.webkitFullscreenElement||f.mozFullScreenElement||f.msFullscreenElement;if(t&&t.contains(a.tech_.el())){a.masterPlaylistController_.fastQualityChange_()}});a.on(a.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=false;return}this.setCurrentTime(this.tech_.currentTime())});a.on(a.tech_,"error",function(){if(this.masterPlaylistController_){this.masterPlaylistController_.pauseLoading()}});a.on(a.tech_,"play",a.play);return a}O(t,[{key:"setOptions_",value:function e(){var t=this;this.options_.withCredentials=this.options_.withCredentials||false;if(typeof this.options_.blacklistDuration!=="number"){this.options_.blacklistDuration=5*60}if(typeof this.options_.bandwidth!=="number"){this.options_.bandwidth=Ki}this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ki;["withCredentials","bandwidth"].forEach(function(e){if(typeof t.source_[e]!=="undefined"){t.options_[e]=t.source_[e]}});this.bandwidth=this.options_.bandwidth}},{key:"src",value:function e(t,r){var i=this;if(!t){return}this.setOptions_();this.options_.url=this.source_.src;this.options_.tech=this.tech_;this.options_.externHls=Yi;this.options_.sourceType=$i(r);this.masterPlaylistController_=new Ui(this.options_);this.playbackWatcher_=new Vi(n.mergeOptions(this.options_,{seekable:function e(){return i.seekable()}}));this.masterPlaylistController_.on("error",function(){var e=n.players[i.tech_.options_.playerId];e.error(i.masterPlaylistController_.error)});this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Yi.STANDARD_PLAYLIST_SELECTOR.bind(this);this.masterPlaylistController_.selectInitialPlaylist=Yi.INITIAL_PLAYLIST_SELECTOR.bind(this);this.playlists=this.masterPlaylistController_.masterPlaylistLoader_;this.mediaSource=this.masterPlaylistController_.mediaSource;Object.defineProperties(this,{selectPlaylist:{get:function e(){return this.masterPlaylistController_.selectPlaylist},set:function e(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function e(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function e(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t;this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function e(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function e(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t;this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function e(){var t=1/(this.bandwidth||1);var r=void 0;if(this.throughput>0){r=1/this.throughput}else{r=0}var n=Math.floor(1/(t+r));return n},set:function e(){n.log.error('The "systemBandwidth" property is read-only')}}});Object.defineProperties(this.stats,{bandwidth:{get:function e(){return i.bandwidth||0},enumerable:true},mediaRequests:{get:function e(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:true},mediaRequestsAborted:{get:function e(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:true},mediaRequestsTimedout:{get:function e(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:true},mediaRequestsErrored:{get:function e(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:true},mediaTransferDuration:{get:function e(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:true},mediaBytesTransferred:{get:function e(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:true},mediaSecondsLoaded:{get:function e(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:true},buffered:{get:function e(){return Xe(i.tech_.buffered())},enumerable:true},currentTime:{get:function e(){return i.tech_.currentTime()},enumerable:true},currentSource:{get:function e(){return i.tech_.currentSource_},enumerable:true},currentTech:{get:function e(){return i.tech_.name_},enumerable:true},duration:{get:function e(){return i.tech_.duration()},enumerable:true},master:{get:function e(){return i.playlists.master},enumerable:true},playerDimensions:{get:function e(){return i.tech_.currentDimensions()},enumerable:true},seekable:{get:function e(){return Xe(i.tech_.seekable())},enumerable:true},timestamp:{get:function e(){return Date.now()},enumerable:true},videoPlaybackQuality:{get:function e(){return i.tech_.getVideoPlaybackQuality()},enumerable:true}});this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_));this.masterPlaylistController_.on("selectedinitialmedia",function(){qi(i);ea(i)});this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")});this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=true});this.tech_.ready(function(){return i.setupQualityLevels_()});if(!this.tech_.el()){return}this.tech_.src(n.URL.createObjectURL(this.masterPlaylistController_.mediaSource))}},{key:"setupQualityLevels_",value:function e(){var t=this;var r=n.players[this.tech_.options_.playerId];if(r&&r.qualityLevels){this.qualityLevels_=r.qualityLevels();this.masterPlaylistController_.on("selectedinitialmedia",function(){Qi(t.qualityLevels_,t)});this.playlists.on("mediachange",function(){Ji(t.qualityLevels_,t.playlists)})}}},{key:"play",value:function e(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function e(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function e(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function e(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function e(){if(this.playbackWatcher_){this.playbackWatcher_.dispose()}if(this.masterPlaylistController_){this.masterPlaylistController_.dispose()}if(this.qualityLevels_){this.qualityLevels_.dispose()}A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}}]);return t}(ta);var na={name:"videojs-http-streaming",VERSION:Xi,canHandleSource:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=n.mergeOptions(n.options,r);return na.canPlayType(t.type,i)},handleSource:function e(t,r){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var a=n.mergeOptions(n.options,i);r.hls=new ra(t,r,a);r.hls.xhr=ye();r.hls.src(t.src,t.type);return r.hls},canPlayType:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=n.mergeOptions(n.options,r),a=i.hls.overrideNative;var o=$i(t);var s=o&&(!Yi.supportsTypeNatively(o)||a);return s?"maybe":""}};if(typeof n.MediaSource==="undefined"||typeof n.URL==="undefined"){n.MediaSource=kt;n.URL=Pt}if(kt.supportsNativeMediaSources()){n.getTech("Html5").registerSourceHandler(na,0)}n.HlsHandler=ra;n.HlsSourceHandler=na;n.Hls=Yi;if(!n.use){n.registerComponent("Hls",Yi)}n.options.hls=n.options.hls||{};if(n.registerPlugin){n.registerPlugin("reloadSourceOnError",zi)}else{n.plugin("reloadSourceOnError",zi)}r.Hls=Yi;r.HlsHandler=ra;r.HlsSourceHandler=na;r.emeKeySystems=Zi;r.simpleTypeFromSourceType=$i;Object.defineProperty(r,"__esModule",{value:true})})}(function(){if(v.getPlugin("proxyTracks")){return}(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t(require("video.js")):typeof r==="function"&&r.amd?r(["video.js"],t):e.videojsProxyTracks=t(e.videojs)})(this,function(e){"use strict";e="default"in e?e["default"]:e;var t=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var r=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t};var n=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e};var i={activeCues:null,cues:null,id:"",inBandMetadataTrackDispatchType:undefined,kind:"metadata",label:"",language:"",mode:"",oncuechange:undefined};var a=["activeCues","cues","id","inBandMetadataTrackDispatchType","kind","label","language"];var o=["mode"];var s=function e(t,r){if(t==="media"&&r.kind==="metadata"&&r.label==="media-cues"){return true}if(t==="id3"&&r.inBandMetadataTrackDispatchType&&r.inBandMetadataTrackDispatchType.length>0){return true}return false};var u=function(u){r(l,u);function l(r,s){var c;t(this,l);var f=n(this,u.call(this));var d=f;d.player_=r;d.reTriggerEvent_=e.bind(d,d.reTriggerEvent_);d.update_=e.bind(d,d.update_);d.type_=s;a.concat(o).forEach(function(e){var t={get:function t(){return d.track_&&d.track_[e]||i[e]},enumerable:true};if(o.indexOf(e)!==-1){t.set=function(t){if(!d.track_){return}d.track_[e]=t}}Object.defineProperty(d,e,t)});d.update_();var p=r.textTracks();var h=function e(t){if(!d.track_){d.update_(t)}};["addtrack","removetrack"].forEach(function(e){return p.addEventListener(e,d.update_)});d.player_.on("timeupdate",h);return c=d,n(f,c)}l.prototype.addCue=function e(){var t=this;var r=arguments;if(!this.track_){this.one("trackexists",function(){return t.addCue.apply(t,r)});return}return this.track_.addCue.apply(this.track_,r)};l.prototype.removeCue=function e(){var t=this;var r=arguments;if(!this.track_){return this.one("trackexists",function(){return t.removeCue.apply(t,r)})}return this.track_.removeCue.apply(this.track_,r)};l.prototype.reTriggerEvent_=function e(t){this.trigger(t)};l.prototype.update_=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=void 0;if(t.type==="removetrack"&&t.track&&t.track===this.track_){r=null}else if(t.type==="addtrack"&&t.track&&!this.track_&&s(this.type_,t.track)){r=t.track}else{var n=this.player_.textTracks();var i=n.length;while(i--){if(s(this.type_,n[i])){r=n[i];break}}}if(this.track_===r){return}if(this.track_){this.track_.removeEventListener("cuechange",this.reTriggerEvent_)}this.track_=r;if(!this.track_){return}if(this.track_.mode!=="hidden"){this.track_.mode="hidden"}this.track_.addEventListener("cuechange",this.reTriggerEvent_);this.trigger("trackexists")};return l}(e.EventTarget);u.prototype.allowedEvents_={cuechange:"cuechange"};var l=e.registerPlugin||e.plugin;var c={id3CuePointsTrack:function e(){var t=this.proxyTracks_.id3;if(!t){t=this.proxyTracks_.id3=new u(this,"id3")}return t},mediaCuePointsTrack:function e(){var t=this.proxyTracks_.media;if(t){return t}t=this.proxyTracks_.media=new u(this,"media");if(t.track_){return t}this.addTextTrack("metadata","media-cues");t.update_();return t}};function f(){var t=this;this.proxyTracks_={};Object.keys(c).forEach(function(r){if(e.browser.IS_IE8||!Object.defineProperty){t[r]=function(){e.log("This API method - player."+r+"() - is not supported in this browser.")}}else{t[r]=function(){return c[r].call(t)}}})}l("proxyTracks",f);f.VERSION="__VERSION__";return f})})();(function(){if(v.getPlugin("perSourceBehaviors")){return}(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t(require("video.js")):typeof r==="function"&&r.amd?r(["video.js"],t):e.videojsPerSourceBehaviors=t(e.videojs)})(this,function(e){"use strict";e="default"in e?e["default"]:e;var t=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=e.getTech("Html5");var n=e.registerPlugin||e.plugin;var i=["abort","emptied","loadstart","play"];var a=["abort","emptied"];var o=["ad-playback","ads-ready?","postroll?","preroll?"];var s=function n(){var s=this;var u=[];var l=void 0;var c=false;var f=void 0;var d=true;var p=function e(){return!!s.ads&&t(s.ads)==="object"&&o.indexOf(s.ads.state)>-1};var h=function t(r){return function(t,n){var i=this;if(this.perSourceBehaviors.disabled()){return}var a=arguments.length===2;var o=this.currentSrc();var s=[t];var l=e.bind(a?this:t,arguments[arguments.length-1]);var c=function e(){var t=i.currentSrc()!==o;if(i.perSourceBehaviors.disabled()){return}if(t||r){i.off.apply(i,s)}if(!t){l.apply(undefined,arguments)}};c.guid=l.guid;if(!a){s.push(n)}s.push(c);u.push(s);return this.on.apply(this,s)}};this.perSourceBehaviors={disable:e.bind(this,function e(){this.clearTimeout(f);f=null;c=true;return c}),disabled:function e(){return c},enable:function e(){c=false;return c},enabled:function e(){return!c},isSrcStable:function e(){return d},VERSION:"__VERSION__"};this.onPerSrc=h();this.onePerSrc=h(true);this.on("dispose",function(){u.length=0});this.on(i,function(e){if(s.perSourceBehaviors.disabled()||f||p(s)){return}if(d&&a.indexOf(e.type)>-1){d=false;s.trigger("sourceunstable")}var t=[];var n=function e(r){return t.push({time:Date.now(),event:r})};n(e);s.on(r.Events,n);f=s.setTimeout(function(){var e=s.currentSrc();d=true;f=null;s.off(r.Events,n);if(e&&e!==l){u.forEach(function(e){return s.off.apply(s,e)});u.length=0;s.trigger("sourcechanged",{interimEvents:t,from:l,to:e});l=e}},1)})};n("perSourceBehaviors",s);s.VERSION="__VERSION__";return s})})();(function(){if(v.getPlugin("seekEvents")){return}(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t(require("video.js")):typeof r==="function"&&r.amd?r(["video.js"],t):e.videojsSeekEvents=t(e.videojs)})(this,function(e){"use strict";e="default"in e?e["default"]:e;var t={verbose:false,maxSavedSeekEvents:10,debounceTimeout:1e3,playbackRateTolerance:1.5,stableTimeUpdateCount:3,minInterval:1};var r=function e(t,r){var n=void 0;return function(){var e=this;for(var i=arguments.length,a=Array(i),o=0;o<i;o++){a[o]=arguments[o]}var s=function r(){n=null;s=null;t.apply(e,a)};clearTimeout(n);n=setTimeout(s,r)}};var n=function e(t){t.trigger("seek")};var i=function i(a){var o=e.mergeOptions(t,a);var s=void 0;var u=false;var l=void 0;var c=void 0;var f=void 0;var d=void 0;var p=0;var h=[];var v=0;var y={};var m={};var g=o.verbose?function(){var t;for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}return(t=e.log).call.apply(t,[e,"seek-events:"].concat(n))}:function(){};var _=function e(){y.seek=this.seekEvents.last().seekEnd;u=false;g("event seekStart: ",this.seekEvents.last().seekStart);g("event seekEnd: ",this.seekEvents.last().seekEnd)};var b=function e(){g("stable");this.seekEvents.stable=true};var T=function e(){g("unstable");this.seekEvents.stable=false};var S=function e(t){y.seek=this.currentTime();y.clock=t.timeStamp||Date.now();m.seek=y.seek;m.clock=y.clock};var w=r(n,o.debounceTimeout);var E=function e(t){l=this.currentTime();c=t.timeStamp||+new Date;f=l-m.seek;if(c===m.clock||l===y.seek){return}d=Math.abs(f)/(Math.abs(c-m.clock)*.001);if(d>this.seekEvents.playbackRateTolerance){if(Math.abs(l-y.seek)>=this.seekEvents.minInterval){this.trigger("unstable");p=0;if(!u){v=Number(y.seek)}h.push({timeStamp:c,seekStart:v,seekEnd:l,seekInterval:l-v});if(h.length>o.maxSavedSeekEvents){h.shift()}u=true;w(this)}}else{p++;g(l+": "+p);if(p>=this.seekEvents.stableTimeUpdateCount&&!this.seekEvents.stable&&!u){this.trigger("stable")}y.seek=l}m.seek=l;m.clock=c};this.seekEvents={stableTimeUpdateCount:o.stableTimeUpdateCount,playbackRateTolerance:o.playbackRateTolerance,debounceTimeout:o.debounceTimeout,minInterval:o.minInterval,stable:false,enabled:function e(){return s},enable:e.bind(this,function(){if(s){return}s=true;y.seek=0;y.clock=Date.now();m.seek=0;m.clock=y.clock;this.on("seek",_);this.on("stable",b);this.on("unstable",T);this.on(["loadstart","playing","adplaying"],S);this.on(["timeupdate","adtimeupdate"],E)}),disable:e.bind(this,function(){if(!s){return}s=false;this.off("seek",_);this.off("stable",b);this.off("unstable",T);this.off(["loadstart","playing","adplaying"],S);this.off(["timeupdate","adtimeupdate"],E)}),last:function e(){return h[h.length-1]},all:function e(){return h}};this.seekEvents.enable()};var a=e.registerPlugin||e.plugin;a("seekEvents",i);return i})})();(function(){if(v.getPlugin("viewport")){return}(function(){var r=v.registerPlugin||v.plugin;r("viewport",function(r){r=r||{};if(!("width"in r)||!("height"in r)){throw Error("viewport plugin options must include both height and width properties")}if(!/vw/.test(r.height)||!r.iframe){return}var n=this,i=function(){var e=t.createElement("_").style;try{e.width="";e.width="10vw"}catch(e){return false}return!!e.width},a=function(){n.setTimeout(o,500)},o,s=parseFloat(r.width)||n.width(),u=parseFloat(r.height)||n.height();if(r.force||!i()){o=v.bc_.debounce(function(e){var n=r.el,i=t.documentElement.clientWidth,a=t.documentElement.clientHeight;n.style.width=Math.min(s*a*.01,i)+"px";n.style.height=Math.min(u*i*.01,a)+"px"},500);v.on(e,["load","resize"],o);v.on(t.documentElement,"resize",o);v.on(e,"orientationchange",a);o();n.on("dispose",function(){v.off(e,["load","resize"],o);v.off(t.documentElement,"resize",o);v.off(e,"orientationchange",a)})}})})()})();(function(){if(v.getPlugin("posterStretch")){return}(function(){var t=v.registerPlugin||v.plugin;t("posterStretch",function(t){t=t||{};var r=this,n=this.posterImage.el(),i=function(e,t){var r=e/t;return function(e,t){var n=e/t,i,a;if(r===n){i=e;a=t}else if(r>n){i=e;a=e/r}else{a=t;i=t*r}return{width:i,height:a}}};if(t.force||!("backgroundSize"in n.style)){(function(){var t,a,o,s;t=v.bc_.debounce(function(){var e=r.el(),t;if(a){t=a(e.offsetWidth,e.offsetHeight);s.style.width=t.width+"px";s.style.height=t.height+"px"}},500);o=function(){var o=new e.Image;s=n.querySelector("img");o.onload=function(){a=i(o.width,o.height);t()};o.src=r.poster()};if(r.poster()!==""){o()}v.on(e,"resize",t);r.on("posterchange",o);r.on("dispose",function(){v.off(e,"resize",t)})})()}})})()})();(function(){if(v.getPlugin("fullscreenOpen")){return}(function(e,t,r){var n=e.bc_.qs();var i=function(r){r=r||{};var i=this,a=i.el(),s=a.querySelector(".vjs-tech"),u="videojs-fullscreen-window";if(!i.controlBar.fullscreenToggle){return}if(!r.force&&(a.requestFullScreen||a.mozRequestFullScreen||a.mozFullScreenEnabled||a.webkitRequestFullScreen||a.msRequestFullScreen||a.msRequestFullscreen||s.webkitEnterFullscreen||s.webkitEnterFullScreen||s.supportsFullscreen||s.supportsFullScreen||s.webkitSupportsFullscreen)){return}if(t.name===u||n.search.iefullscreen==="true"){i.addClass("vjs-fullscreen")}i.controlBar.fullscreenToggle.off("click");i.controlBar.fullscreenToggle.on(["click","keydown"],function(a){var s,l,c,f=i.options_;a=a||t.event;if(a.type==="keydown"){l=a.which||a.keyCode;if(l!==32&&l!==13){return}}if(t.name===u||n.search.iefullscreen==="true"){try{t.opener.focus()}catch(t){e.log(t)}t.close()}else{if(i.fullscreenWindow&&!i.fullscreenWindow.closed){i.fullscreenWindow.focus()}else{c=["https://players.brightcove.net/",r.accountId,"/",r.playerId,"_",r.embedId,"/index.html?",n.stringify({applicationId:r.applicationId,iefullscreen:true,videoId:i.mediainfo&&i.mediainfo.id||""})].join("");s=o({startingURL:c,tracks:i.textTracks(),time:i.currentTime(),autoplay:!i.paused()});i.fullscreenWindow=t.open(s,"_blank","fullscreen");i.fullscreenWindow.name=u}if(!i.paused()){i.pause()}}})},a=i.formatTime=function(e){e=Math.floor(e);if(!e){return""}var t="";if(e>=3600){t=Math.floor(e/3600)+"h";e=e%3600}if(e>=60){t+=Math.floor(e/60)+"m";e=e%60}if(e>0){t+=e+"s"}return t},o=i.buildNewWindowURL=function(e){e=e||{};var r=e.tracks,i={},o,s,u,l=e.startingURL||t.location.href,c=a(e.time);if(r){for(s=0;s<r.length;s++){o=r[s];if(o.mode==="showing"){u=o.language;break}}}if(c){i.t=c}if(e.autoplay){i.autoplay=""}if(u){i.captions=u}l+=l.indexOf("#")===-1?"#":"&";return l+n.stringify(i)};var s=e.registerPlugin||e.plugin;s("fullscreenOpen",i)})(v,e)})();(function(){if(v.getPlugin("urlparams")){return}(function(){var t=v.registerPlugin||v.plugin;t("urlparams",function(t){t=t||{};var r=function(e){var t=0,r;e=(e||"").replace(/^\s+|\s+$/g,"");if(!e||!/^(\d+h)?(\d+m)?(\d+s)?$/.test(e)){return-1}r=e.match(/^(\d+)h/);if(r){t+=parseFloat(r[1])*3600;e=e.replace(/^(\d+)h/,"")}r=e.match(/^(\d+)m/);if(r){t+=parseFloat(r[1])*60;e=e.replace(/^(\d+)m/,"")}r=e.match(/^(\d+)s/);if(r){t+=parseFloat(r[1])}return t},n=.9,i=function(e,t){var r=e-t;if(isNaN(r)){return false}return Math.abs(r)<n},a=function(e){o.ready(function(){if(o.networkState()===2){e()}else{o.one("loadedmetadata",function(){o.setTimeout(e,0)})}})},o=this,s=t.url||e.location.href,u=v.bc_.qs(),l=r(u.hash.t||u.search.t);if(l>0){(function(){var e=t.delay||250,r,n=false,s=function(){if(n||i(o.currentTime(),l)){n=true;u()}else{o.currentTime(l);r=o.setTimeout(s,e)}},u=function(){o.clearTimeout(r);o.off("timeupdate",u);if(!n){o.currentTime(l)}};o.on("timeupdate",u);a(s)})()}if(u.hash.autoplay!==undefined||u.search.autoplay!==undefined){o.autoplay(true);a(function(){o.play()})}if(u.hash.captions!==undefined||u.search.captions!==undefined){(function(){var e=u.hash.captions||u.search.captions;o.one("play",function(){var t=o.textTracks(),r,n;if(t){for(n=0;n<t.length;n++){r=t[n];if(r.language===e){r.mode="showing";break}}}})})()}})})()})();(function(){if(v.getPlugin("resizeTextTracks")){return}(function(){var t=v.registerPlugin||v.plugin;t("resizeTextTracks",function(t){if(!t.iframe){return}var r=this,n=v.bc_.debounce(function(){r.textTrackSettings.updateDisplay()},500);v.on(e,"resize",n);r.on("dispose",function(){v.off(e,"resize",n)})})})()})();(function(){if(v.getPlugin("bcAnalytics")){return}(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t(require("video.js"),require("@brightcove/loscore")):typeof r==="function"&&r.amd?r(["video.js","@brightcove/loscore"],t):e.videojsBcAnalytics=t(e.videojs,e.videojs.bc_)})(this,function(r,n){"use strict";r=r&&r.hasOwnProperty("default")?r["default"]:r;n=n&&n.hasOwnProperty("default")?n["default"]:n;var i=typeof e!=="undefined"?e:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var a;if(typeof e!=="undefined"){a=e}else if(typeof i!=="undefined"){a=i}else if(typeof self!=="undefined"){a=self}else{a={}}var o=a;var s={};var u=Object.freeze({default:s});var l=u&&s||u;var c=typeof i!=="undefined"?i:typeof e!=="undefined"?e:{};var f;if(typeof t!=="undefined"){f=t}else{f=c["__GLOBAL_DOCUMENT_CACHE@4"];if(!f){f=c["__GLOBAL_DOCUMENT_CACHE@4"]=l}}var d=f;var p=function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};t.forEach(function(t){if(e[t]!==undefined){r[t]=e[t]}});return r};var h=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var a={};Object.keys(t).forEach(function(o){var s=t[o];i.push(o);if(n.isObj(s)){a=r.mergeOptions(a,e(s,i))}else{a[i.join(".")]=s}i.pop()});return a};var v=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var y=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var m=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t};var g=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e};var _=function e(t){return t.charAt(0).toUpperCase()+t.slice(1)};var b=function e(t,r){return t+"x"+r};var T={memory:["jsHeapSizeLimit","usedJSHeapSize","totalJSHeapSize"],navigation:["redirectCount","type","directedMigration"],timing:["loadEventEnd","loadEventStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","responseEnd","responseStart","requestStart","secureConnectionStart","connectEnd","connectStart","domainLookupEnd","domainLookupStart","fetchStart","redirectEnd","redirectStart","unloadEventEnd","unloadEventStart","navigationStart"]};var S={bitrate:"bitrates",event:"events"};var w=function(){function e(){y(this,e);this.data_={bitrates:{bitrates:[],playlists:[],rendered:[],throughput:[]},events:[],mr:0,performance:{},player:{dimensions:[],pixelratio:[],screendimensions:[]},frames:{}}}e.prototype.keys=function e(){return Object.keys(this.data_)};e.prototype.append=function e(t){t=S.hasOwnProperty(t)?S[t]:t;if(!this.data_.hasOwnProperty(t)){throw new Error('"'+t+'" is not a known QosBuffer key')}for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++){n[i-1]=arguments[i]}this["append"+_(t)+"_"].apply(this,n)};e.prototype.flush=function e(){var t=this;for(var i=arguments.length,a=Array(i),o=0;o<i;o++){a[o]=arguments[o]}if(!a.length){a=this.keys()}for(var s=0;s<a.length;s++){if(!this.data_.hasOwnProperty(a[s])){throw new Error('"'+a[s]+'" is not a known QosBuffer key')}}var u=a.map(function(e){return t["flush"+_(e)+"_"]()});var l=r.mergeOptions.apply(r,u);var c=n.qs().stringify(l).length;if(c>3e3&&l["qos.bitrates"]){l["qos.bitrates"]=JSON.stringify({bitrates:[],playlists:[],rendered:[],throughput:[]})}return l};e.prototype.appendBitrates_=function e(t){var r=this;if(typeof t.playlists!=="undefined"){this.data_.bitrates.playlists.push([Date.now(),t.bitrates,t.playlists]);delete t.bitrates;delete t.playlists}Object.keys(t).forEach(function(e){r.data_.bitrates[e].push([Date.now(),t[e]])})};e.prototype.appendMr_=function e(t){this.data_.mr=t?1:null};e.prototype.appendPerformance_=function e(t){var r=this;var i=o.performance;if(n.isNil(i)){return}Object.keys(T).forEach(function(e){if(!n.isNil(i[e])){r.data_.performance[e]=p(i[e],T[e])}});if(n.isFn(i.measure)){["bcParse","bcInit"].forEach(function(e){i.getEntriesByName(e,"measure").forEach(function(t){r.data_.performance[e]=t.duration})})}if(this.data_.performance.navigation){this.data_.performance.navigation.directedMigration=t?n.qs().parse(t).directedMigration==="true":false}};e.prototype.appendFrames_=function e(t){this.data_.frames={dropped:t.droppedVideoFrames,corrupted:t.corruptedVideoFrames,total:t.totalVideoFrames}};e.prototype.appendPlayer_=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Date.now();this.data_.player.dimensions.push([r,b(t.width,t.height),b(t.computedWidth,t.computedHeight)]);this.data_.player.pixelratio.push([r,o.devicePixelRatio]);this.data_.player.screendimensions.push([r,b(o.screen.width,o.screen.height)])};e.prototype.appendEvents_=function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}this.data_.events.push({type:r.join("."),time:Date.now()})};e.prototype.flushBitrates_=function e(){var t=this.data_.bitrates;var r={};if(t.bitrates.length||t.playlists.length||t.rendered.length||t.throughput.length){r["qos.bitrates"]=JSON.stringify(t)}t.bitrates.length=0;t.playlists.length=0;t.rendered.length=0;t.throughput.length=0;return r};e.prototype.flushEvents_=function e(){var t=this.data_.events;var r={};var n="ad.ads-ad-started";var i="qos.events."+n;t.forEach(function(e){var t="qos.events."+e.type;if(e.type===n){if(!r[t]){r[t]=[]}r[t].push(e.time)}else{r[t]=e.time}});if(r[i]){r[i]=JSON.stringify(r[i])}t.length=0;return r};e.prototype.flushMr_=function e(){return{"qos.mr":this.data_.mr}};e.prototype.flushFrames_=function e(){var t=h(this.data_.frames,["qos","frames"]);this.data_.frames={};return t};e.prototype.flushPerformance_=function e(){return h(this.data_.performance,["qos","performance"])};e.prototype.flushPlayer_=function e(){var t=this.data_.player;var r={};Object.keys(t).forEach(function(e){var n=t[e];if(n.length){r["qos.player."+e]=JSON.stringify(n);n.length=0}});return r};return e}();var E=["ad-playback","ads-ready?","postroll?","preroll?"];var k=function e(t){return!!t.ads&&v(t.ads)==="object"};var P=function e(t){return k(t)?t.ads.state:undefined};var O=function e(t){return k(t)&&!!t.adonly};var C=function e(t){return E.indexOf(t)>-1};var A=function e(t){return k(t)&&C(t.ads.state)||O(t)};var x=function e(t){var r={};if(t.ima3){var i=t.ima3.currentAdEventInfo;r.plugin="ima3";if(n.isFn(t.ima3)){return r}r.pluginVersion=t.ima3.VERSION||t.ima3.version;r.adTech=t.ima3.adTech;r.requestMode=t.ima3.settings.requestMode;r.timeout=t.ima3.settings.timeout;if(i){p(i,["adType","adPodLength","adPodId","creativeFormat","creativeLength","creativeId","creativeIndex","creativeUrl","advertiserName","wrapperCreativeIds","dealId","surveyUrl","adId","adTitle","adSystem","adIsciId","creativeAdId"],r);var a=i.creativeIndex;if(a&&a.length){r.firstPlayedAdIndex=a[0]}r.startedInAdPod=i.started;r.completedInAdPod=i.completed}}else if(t.FreeWheelPlugin){r.plugin="freewheel";if(n.isFn(t.FreeWheelPlugin)){return r}r.pluginVersion=t.FreeWheelPlugin.VERSION||t.FreeWheelPlugin.getVersion()}return r};var I=function e(t){t.adBreakIndex=null;t.hasAdBreakStarted=false;t["ads-request"]=null;t["ads-response-received"]=null;t["ads-loading"]=[];t["ads-ad-started"]=[];t["ads-ad-ended"]=[]};var L=function e(){var t={};I(t);return t};var D=function e(t,r,n){var i=t.currentAdSequence_;var a=["ads-loading","ads-ad-started","ads-ad-ended"];if(r==="ads-request"){I(i)}else if(r==="adstart"||r==="ads-loading"){if(!i.hasAdBreakStarted){if(i.adBreakIndex===null){i.adBreakIndex=0}else{i.adBreakIndex++}i.hasAdBreakStarted=true;a.forEach(function(e){i[e].push([])})}}else if(r==="adend"){i.hasAdBreakStarted=false}if(a.indexOf(r)>-1){i[r][i.adBreakIndex].push(n)}else if(r==="ads-request"||r==="ads-response-received"){i[r]=n}};var R=["account","domain","event","player"];var j=function e(t,r){return Math.floor(t)+".."+(Math.floor(r)-1)};var M=function e(t){var r=2166136261;var n=r;for(var i=0;i<t.length;++i){n^=t.charCodeAt(i);n*=16777619}return n>>>0};var N=function e(t,r){Object.keys(r).forEach(function(e){if(n.isNil(r[e])){delete r[e]}});return t+"?"+n.qs().stringify(r)};var U=function e(t,r,n,i,a){var o=r-t;if(a!==undefined&&a<r){o-=a-t}else if(n!==undefined&&i!==undefined){if(n<t){n=t}if(i>r){i=r}o-=i-n}return o};var B=function e(t){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++){i[a-1]=arguments[a]}var o=r.mergeOptions.apply(r,[t.params||{}].concat(i));delete t.params;return o};var F=function e(t,r){var i=t.mediainfo;var a=i&&i.duration||t.duration();if(i){if(r.video===undefined){r.video=i.id}if(r.video_name===undefined){r.video_name=i.name}}if(n.isNum(a)&&r.video_duration===undefined){r.video_duration=Math.floor(a);if(r.video_duration<1||r.video_duration===Infinity){r.video_duration=null}}return r};var q=function e(t,r){var n=t.preload();if(typeof n!=="string"){n=t.el().getAttribute("preload")}if(typeof n==="string"&&n.length===0){n="auto"}if(n){r.preload=n}};var H=function(){function e(t,r,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};y(this,e);this.baseUrl_=n;this.logger_=i.logger;this.history_=r;this.currentAdSequence_=L();this.player_=t;this.metrics_=[];this.eventCount_=0;this.streamCount_=-1;this.user(i.user||null);this.defaultParams_={domain:"videocloud",platform:"video-js",session:""};for(var a=0;a<3;a++){this.defaultParams_.session+=(Math.random()*4294967295>>>0).toString(16)}this.qos=new w(this);this.resetTimesOf()}e.prototype.logger=function e(){};e.prototype.metrics=function e(){return this.metrics_.map(r.mergeOptions)};e.prototype.resetTimesOf=function e(){this.timeOfImpression=null;this.timeOfView=null};e.prototype.defaultParams=function e(t){if(t){t=n.isFn(t)?t():t;this.defaultParams_=r.mergeOptions(this.defaultParams_,t)}return this.defaultParams_};e.prototype.getSession=function e(){return this.defaultParams_.session};e.prototype.user=function e(t){if(t===null||n.isNonEmptyStr(t)||n.isNum(t)){this.user_=t}return this.user_};e.prototype.send=function e(){var t;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.user()){i.user=M(this.user())}if(n.isNil(i.time)){i.time=Date.now()}a.qos=Array.isArray(a.qos)?a.qos:[];a.qos.push("mr");i=r.mergeOptions(this.defaultParams_,i,(t=this.qos).flush.apply(t,a.qos));i.seq=""+this.eventCount_;this.eventCount_++;if("streamCount"in a){i.seq+="_"+a.streamCount}for(var o=0;o<R.length;o++){if(n.isNil(i[R[o]])){throw new Error('the "'+R[o]+'" param is required')}}var s=d.createElement("img");var u=s.src=N(this.baseUrl_,i);this.metrics_.push(i);this.player_.trigger({params:i,type:"analytics_request"});this.player_.trigger({params:i,type:"analytics_request_"+i.event});return{params:i,url:u}};e.prototype.sendCatalog_=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=r.error,i=r.xhr;if(i){var a=["BCOV-Debug-Cache-Stats","BCOV-instance","X-Cache","Via","X-Amz-Cf-Id"];a.forEach(function(e){t[e]=i.getResponseHeader(e)});if(n){n.status=i.status}}if(n){t.error=JSON.stringify(n)}return this.send(t,r)};e.prototype.sendVideoImpression=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=B(t,{event:"video_impression"});var i=x(this.player_);if(Object.keys(i).length>0){r.web_ad_info=JSON.stringify(i)}var a=n.isNonEmptyStr(this.player_.currentSrc());if(!a||this.timeOfImpression){return null}this.streamCount_++;t.streamCount=this.streamCount_;F(this.player_,r);r.autoplay=this.player_.autoplay();q(this.player_,r);var o=this.send(r,t);if(o){this.timeOfImpression=Number(o.params.time)}return o};e.prototype.sendVideoView=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=B(t,{event:"video_view"});var i=n.isNonEmptyStr(this.player_.currentSrc());if(!i||this.timeOfView||!this.timeOfImpression){return null}var a=this.history_;var o=a.first("canplay");var s=a.first("loadstart");var u=a.first("play");if(o){r.load_time_ms=o-this.timeOfImpression}r.start_time_ms=U(u||s,r.time,a.first("adstart",true),a.first("adend",true),a.first("adtimeout",true));F(this.player_,r);t.streamCount=this.streamCount_;var l=this.send(r,t);if(l){this.timeOfView=Number(l.params.time)}return l};e.prototype.sendVideoEngagement=function e(t,r){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var a=B(i,{event:"video_engagement"});var o=r.buffered,s=r.duration,u=r.playbackEndTime,l=r.height,c=r.mediainfo,f=r.playbackRate,d=r.rebufferingCount,p=r.rendition,h=r.playbackStartTime,v=r.stats,y=r.width;var m=u-h;i.qos=i.qos||["bitrates","events","player","frames"];t.length=t.end-t.start;a.player_height=l;a.player_width=y;a.video_duration=s;if(c){a.video=c.id;a.video_name=c.name}if(p){a.rendition_url=p.url;a.rendition_indicated_bps=p.indicatedBPS;a.rendition_mime_type=p.mimeType;a.rendition_height=p.height;a.rendition_width=p.width}if(v){if(!n.isNil(v.mediaRequests)){a.media_requests=v.mediaRequests}if(!n.isNil(v.mediaTransferDuration)){a.media_transfer_duration=v.mediaTransferDuration}if(!n.isNil(v.mediaBytesTransferred)){a.media_bytes_transferred=v.mediaBytesTransferred}if(!n.isNil(v.bandwidth)){a.measured_bps=v.bandwidth}}var g=m/f*1e3;var _=t.end-t.start;var b=100;var T=Math.floor((_-g)/b)*b/1e3;if(d>0){a.rebuffering_count=d}if(T>0){a.rebuffering_seconds=T}if(o){var S=0;for(var w=0;w<o.length;w++){var E=o.start(w);var k=o.end(w);if(u>=E&&u<=k){S=k-u;break}}a.forward_buffer_seconds=S}if(m<1&&!a.rebuffering_seconds){return null}var P=this.history_.filter(function(e){return e.name==="licenserequestattempted"&&e.time>=t.start&&e.time<t.end});if(P.length){a.license_request_attempts=P.length}F(this.player_,a);i.streamCount=this.streamCount_;if(a.video_duration===Infinity){a.video_seconds_viewed=Math.round(m);delete a.video_duration}else if(m>=1){a.range=j(h,u)}return this.send(a,i)};e.prototype.sendVideoComplete=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=B(t,{event:"video_complete"});F(this.player_,r);t.streamCount=this.streamCount_;return this.send(r,t)};e.prototype.sendError=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=this.player_.error();if(!r){return null}var i=B(t,{event:"error"});var a=n.isFn(this.player_.errors)&&n.isFn(this.player_.errors.getAll)&&this.player_.errors.getAll()||{unknown:{type:"MEDIA_ERR_UNKNOWN"}};if(r&&a.hasOwnProperty(String(r.code))){i.error_code=a[String(r.code)].type}else if(r.type!==undefined){i.error_code=r.type}else{i.error_code=a.unknown.type}F(this.player_,i);t.streamCount=this.streamCount_;return this.send(i,t)};e.prototype.sendCatalogRequest=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=B(r,{event:"catalog_request",url:t});return this.sendCatalog_(n,r)};e.prototype.sendCatalogRequestError=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=B(r,{event:"catalog_request_error",url:t});if(r.error){r.error=p(r.error,["code","message","type"])}return this.sendCatalog_(n,r)};e.prototype.sendCatalogResponse=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=B(r,{event:"catalog_response",url:t});n.time=Date.now();n.response_time_ms=n.time-this.history_.last("catalog_request");return this.sendCatalog_(n,r)};e.prototype.sendAdEnd=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=x(this.player_);var n=this.currentAdSequence_["ads-ad-started"];var i=this.currentAdSequence_.adBreakIndex;if(r.plugin!==undefined){if(r.adType==="preroll"&&n.length>0&&n[0].length>0){var a=this.history_.first("play",true);r.prerollDelay=n[0][0]-a;r.firstPlayInSession=a}r.adsRequest=this.currentAdSequence_["ads-request"];r.adsResponseReceived=this.currentAdSequence_["ads-response-received"];r.adsLoading=this.currentAdSequence_["ads-loading"][i];r.adsAdStarted=this.currentAdSequence_["ads-ad-started"][i];r.adsAdEnded=this.currentAdSequence_["ads-ad-ended"][i]}else{r.plugin="unknown"}var o={event:"ad_end",web_ad_info:JSON.stringify(r)};t.streamCount=this.streamCount_;return this.send(F(this.player_,B(t,o)),t)};e.prototype.sendAdHardTimeout=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t.streamCount=this.streamCount_;return this.send(F(this.player_,B(t,{event:"ad_hard_timeout"})),t)};e.prototype.sendAdStart=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t.streamCount=this.streamCount_;return this.send(F(this.player_,B(t,{event:"ad_start"})),t)};e.prototype.sendAdTimeout=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t.streamCount=this.streamCount_;return this.send(F(this.player_,B(t,{event:"ad_timeout"})),t)};e.prototype.sendPlayRequest=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t.streamCount=this.streamCount_;return this.send(F(this.player_,B(t,{event:"play_request"})),t)};e.prototype.sendPlayerInit=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return this.send(B(t,{event:"player_init"}),t)};e.prototype.sendPlayerLoad=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return this.send(B(t,{event:"player_load"}),t)};return e}();var V=function(e){var t=e.bcAnalyticsLogger&&e.bcAnalyticsLogger();var r=function e(){return t&&t.add.apply(t,arguments)};return r};var W=1e4;var G=function e(t){return Boolean(t.onceux&&t.onceux.currentTime&&t.onceux.timeline)};var z=function(e){m(t,e);function t(r,n){y(this,t);var i=g(this,e.call(this));i.player_=r;i.logger_=n;i.stateBySrc_={};i.lastStateRecord_=0;return i}t.prototype.logger=function e(){};t.prototype.stateBySrc=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.player_.currentSrc();if(!this.stateBySrc_.hasOwnProperty(t)){this.stateBySrc_[t]={buffered:null,duration:0,end:0,height:0,mediainfo:null,playbackRate:1,rebufferingCount:0,src:t,start:0,width:0}}return this.stateBySrc_[t]};t.prototype.clearStateBySrc=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.player_.currentSrc();delete this.stateBySrc_[t]};t.prototype.recordState=function e(){var t=this.player_;var r=this.stateBySrc();r.mediainfo=t.mediainfo;r.playbackEndTime=t.currentTime();if(G(t)){r.duration=t.onceux.timeline.contentDuration}else{r.duration=t.duration()}r.buffered=t.buffered();r.playbackRate=t.playbackRate()};t.prototype.isTracking=function e(){return!!this.timerId_};t.prototype.start=function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=r.reason,i=r.src;if(!i){i=this.player_.currentSrc()}var a=this.stateBySrc(i);a.playbackStartTime=a.playbackEndTime=this.player_.currentTime();a.rebufferingCount=0;this.player_.clearTimeout(this.timerId_);this.timerCreatedAt_=Date.now();this.timerId_=this.player_.setTimeout(function(){return t.stop({src:i,reason:"engagement timer fired"})},W);return this};t.prototype.prepareState_=function e(t){var n=this.player_;var i=this.stateBySrc(t);i.height=Math.round(n.currentHeight());i.width=Math.round(n.currentWidth());var a=n.tech_.hls;if(a){if(a.stats){i.stats=a.stats}if(a.playlists&&a.playlists.media()){var o=a.playlists.media();var s=i.rendition={url:o.resolvedUri,mimeType:"video/x-mpegurl"};if(o.attributes){s.indicatedBPS=o.attributes.BANDWIDTH;if(o.attributes.RESOLUTION){s.height=o.attributes.RESOLUTION.height;s.width=o.attributes.RESOLUTION.width}}}}i.videoPlaybackQuality=n.getVideoPlaybackQuality();if(i.mediainfo){var u={};Object.keys(i.mediainfo).forEach(function(e){if(!/_/.test(e)){u[e]=i.mediainfo[e]}});i.mediainfo=u}return r.mergeOptions(i)};t.prototype.stop=function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!r.src){r.src=this.player_.currentSrc()}if(this.isTracking()){this.player_.clearTimeout(this.timerId_);this.timerId_=null;var n=this.stateBySrc(r.src);var i=(n.duration-n.playbackEndTime)*1e3;if(!this.player_.ended()&&i>100&&i<1500){this.timerId_=true;this.player_.one("ended",function(){t.recordState();t.stop({reason:"content ended after we delayed the engager"})});return this}r.state=this.prepareState_(r.src);r.period=r.period||{};r.period.start=r.period.start||this.timerCreatedAt_;r.period.end=r.period.end||Date.now();this.trigger({type:"engagement",engagement:r})}return this};return t}(r.EventTarget);var X=["progress","seeking","suspend","timeupdate"];var Y=["seek","stable","unstable"];var K=["adend","adscanceled","adserror","adskip","adsready","adstart","adtimeout","contentplayback","contentupdate","nopostroll","nopreroll","readyforpreroll"];var $=[].concat(r.getTech("Html5").Events);var J=$.filter(function(e){return X.indexOf(e)===-1});var Q=["ads-request","ads-response-received","adstart","ads-loading","ads-ad-started","ads-ad-ended","adend"];var Z=["NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE"];var ee=["HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA"];var te=function(){function e(t){y(this,e);this.logger_=t;this.events_=[]}e.prototype.add=function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Date.now();var i=arguments[2];var a=r.mergeOptions(i,{name:t,time:n});this.events_.push(a);return n};e.prototype.record=function e(t,r){var n=Date.now();this.add(t,n,{adState:P(r),isInAdState:A(r),networkState:Z[r.networkState()],readyState:ee[r.readyState()]});return n};e.prototype.reset=function e(){this.events_.length=0};e.prototype.filter=function e(t){if(!n.isFn(t)){return this.events_.filter(function(e){return e.name===t})}return this.events_.filter(t)};e.prototype.map=function e(t){return this.events_.map(t)};e.prototype.names=function e(){return this.map(function(e){return e.name})};e.prototype.first=function e(t,r){for(var n=0;n<this.events_.length;n++){var i=this.events_[n];if(!r&&i.isInAdState){continue}if(i.name===t){return i.time}}};e.prototype.last=function e(t,r){var n=this.events_.length;while(n--){var i=this.events_[n];if(!r&&i.isInAdState){continue}if(i.name===t){return i.time}}};return e}();var re=function(){function e(){y(this,e);this.log_={}}e.prototype.put=function e(t){this.log_[t]=true};e.prototype.peek=function e(){return Object.keys(this.log_)};e.prototype.flush=function e(){var t=Object.keys(this.log_);this.log_={};return t};return e}();var ne="3.6.4";var ie={production:"//metrics.brightcove.com/v2/tracker",staging:"http://metrics.aws-qa.rnatest.brightcove.com/v2/tracker"};var ae=function e(t,r,i){Object.keys(i).forEach(function(e){r[e]=String(r[e]||"");if(e==="accountId"&&!n.isNonEmptyStr(r[e])){r[e]=String(r.account||"")}if(!n.isNonEmptyStr(r[e])){r[e]=t.getAttribute("data-"+i[e])||""}});return r};var oe=function e(t,r){var i=ae(t.el(),r,{accountId:"account",applicationId:"application-id",embedId:"embed",playerId:"player",playerName:"name",usage:"usage"}),a=i.accountId,s=i.applicationId,u=i.embedId,l=i.playerId;if(!n.isNonEmptyStr(r.player)){if(o.location.hostname==="players.api.brightcove.com"){r.player="players.api.brightcove.com/"+l+"_"+u;return}r.player="players.brightcove.com/"+a+"/"+l+"_"+u;if(s){r.player+="/"+s}}if(s){if(n.isNonEmptyStr(r.playerName)){r.playerName+=" - "+s}else{r.playerName=s}}};var se=function e(t){return{computedHeight:t.currentHeight(),computedWidth:t.currentWidth(),height:t.height(),width:t.width()}};var ue=function e(){try{return o.parent!==o.self}catch(e){return true}};var le=function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var a=false;var s=false;var u={};i=r.mergeOptions(i);i.env=ie.hasOwnProperty(i.env)?i.env:"production";oe(this,i);var l=V(this);var c=new z(this,l);var f=new te(l);var p=new re;var h=n.isNonEmptyStr(i.usage)?i.usage.split(","):[];h.forEach(function(e){p.put(e)});var v=new H(this,f,n.isNonEmptyStr(i.analyticsUrl)?i.analyticsUrl:ie[i.env],{logger:l,user:i.user});v.defaultParams(function(){var e={account:i.accountId||null,destination:o.location.href,platform_version:i.platformVersion,player:i.player,player_name:i.playerName,source:d.referrer};if(ue()){e.destination=d.referrer;try{e.source=o.parent.document.referrer}catch(t){e.source=null}}return e});this.bcAnalytics={client:v,engager:c,history:f,settings:i,VERSION:ne};this.on("usage",function(e){if(!e.name){return r.log.warn("Ignored usage event without a `name` parameter")}p.put(e.name)});var y=function e(r){if(A(t)){return}var n=f.first("loadstart");var i=f.first("play");var a=f.last("playing");if((i||a)&&!c.isTracking()&&!t.paused()){c.start({period:{start:i||a},reason:"workflow detected that it is playing"})}if(v.timeOfImpression&&v.timeOfView){return}u.workflow=u.workflow||t.setTimeout(function(){u.workflow=null;n=f.first("loadstart");i=f.first("play");a=f.last("playing");if((n||i)&&!v.timeOfImpression){v.sendVideoImpression({params:{time:Math.min(n||Infinity,i||Infinity)}})}if(n&&a&&!v.timeOfView){v.sendVideoView({params:{time:a}})}},1)};c.on("engagement",function(e){var r=e.engagement,n=r.ignoreAdState,i=r.period,a=r.state;var s=A(t);var u={params:{time:i.end}};var l=p.peek();if(l&&l.length){u.params.usage=l.map(o.encodeURIComponent).sort().join(",")}if(!s||n){v.qos.append("frames",a.videoPlaybackQuality);if(v.sendVideoEngagement(i,a,u)&&!t.paused()){if(s){return}p.flush();c.start({reason:"sent engagement and still playing"})}}});this.on("dispose",function(){c.off()});this.on(J.concat(K,Y).concat("sourceunstable"),function(e){return f.record(e.type,t)});this.on(J.concat("ads-ad-started"),function(e){v.qos.append("event",A(t)?"ad":"content",e.type)});this.on(["loadedmetadata","resize"],function(){v.qos.append("player",se(t))});this.on("fullscreenchange",function(){var e=Date.now();u.fullscreen=t.setTimeout(function(){u.fullscreen=null;v.qos.append("player",se(t),e)},500)});this.on("mediachange",function(){if(t.tech_.hls){var e=t.tech_.hls.playlists.media();v.qos.append("bitrate",{bitrates:t.tech_.hls.bandwidth,playlists:e&&e.attributes&&e.attributes.BANDWIDTH})}});this.on("ready",function(){t.tech_.on("usage",function(e){if(!e.name){return r.log.warn("Ignored usage event without a `name` parameter")}p.put(e.name)});t.tech_.on("bandwidthupdate",function(){v.qos.append("bitrate",{bitrates:t.tech_.hls.bandwidth,throughput:Math.round(t.tech_.hls.throughput)})});t.tech_.on("liveresync",function(){t.trigger({type:"usage",name:"hls-live-resync"})});t.tech_.on("videounderflow",function(){t.trigger({type:"usage",name:"hls-video-underflow"})});t.tech_.on("licenserequestattempted",function(){f.add("licenserequestattempted")});t.on("loadedmetadata",function(){var e=t.textTracks();for(var r=0;r<e.length;r++){if(e[r].label==="segment-metadata"){(function(){var n=e[r];var i=void 0;n.addEventListener("cuechange",function(){var e=n.activeCues[0];if(e){var r=t.tech_.hls.playlists.master.playlists[e.value.playlist];if(i!==r.uri){i=r.uri;if(r.attributes&&r.attributes.BANDWIDTH){v.qos.append("bitrate",{rendered:r.attributes.BANDWIDTH})}}}})})()}}})});this.on("waiting",function(e){if(!s&&!A(t)){c.stateBySrc().rebufferingCount++}});this.on("sourcechanged",function(e,r){var n=r.interimEvents;var i=n[0].event;var o=function e(){if(!s&&!A(t)){c.recordState()}};if(r.from){c.stop({reason:"changing sources",period:{end:n[0].time},ignoreAdState:true,src:r.from});c.clearStateBySrc(r.from)}a=false;s=false;v.resetTimesOf();f.reset();n.forEach(function(e){return f.add(e.event.type,e.time)});y();t.onPerSrc("timeupdate",o);t.onePerSrc("sourceunstable",function(){if(P(t)==="content-resuming"){return}var e=t.currentSrc();c.stop({ignoreAdState:true,reason:"sourceunstable",src:e});if(!A(t)){t.off("timeupdate",o)}});t.onPerSrc(["loadstart","play","playing"],y);t.onPerSrc(["pause","ratechange"],function(e){if(!s&&!A(t)&&!t.ended()){c.stop({reason:'saw "'+e.type+'"'});if(t.paused()){t.onePerSrc("playing",function(){c.start({reason:"playback began after a pause"})})}else if(e.type==="ratechange"){u.ratechange=t.setTimeout(function(){u.ratechange=null;c.start({reason:"the playback rate changed"})},1)}}});t.onPerSrc("unstable",function(){if(!s&&!A(t)){s=true;c.stop({reason:"seeking"})}});t.onPerSrc("seek",function(){if(s&&!A(t)){s=false;c.start({reason:"stopped seeking"})}});t.onePerSrc("adstart",function(){if(!O(t)){v.sendVideoImpression({params:{time:f.last("adstart",true)-100}})}});t.onPerSrc("adstart",function(){a=t.ended();c.stop({ignoreAdState:true,period:{end:f.last("adstart",true)},reason:"saw adstart"})});t.onePerSrc("adend",function(){if(!t.paused()&&!t.ended()){y()}});t.onPerSrc("adend",function(){if(!a){c.start({reason:'saw "adend"'})}});t.onePerSrc("ended",function(){c.stop({reason:"end of content"});v.sendVideoComplete()})});this.on("catalog_request",function(e){f.record(e.type,t);v.sendCatalogRequest(e.url)});this.on("catalog_request_error",function(e){f.record(e.type,t);v.sendCatalogRequestError(e.url,{error:e.error,xhr:e.response})});this.on("catalog_response",function(e){f.record(e.type,t);v.sendCatalogResponse(e.url,{xhr:e.response})});this.on("play",function(e){if(A(t)){return}var r={params:{time:Date.now()}};if(t.perSourceBehaviors.isSrcStable()){v.sendPlayRequest(r)}else{t.one("sourcechanged",function(){return v.sendPlayRequest(r)})}});this.on("error",function(){if(!A(t)){v.sendError()}});this.on("adstart",function(e){v.sendAdStart();u.perSrcDisable=t.setTimeout(function(){u.perSrcDisable=null;t.perSourceBehaviors.disable()},1)});this.on("adend",function(e){v.sendAdEnd();if(u.perSrcDisable){t.clearTimeout(u.perSrcDisable)}else{t.perSourceBehaviors.enable()}});this.on("adtimeout",function(){return v.sendAdTimeout()});this.on("ad-hard-timeout",function(){return v.sendAdHardTimeout()});this.on(Q,function(e){D(v,e.type,Date.now())});v.qos.append("mr",i.mr);v.sendPlayerInit();v.sendError();this.ready(function(){v.defaultParams({feature:O(t)?"adonly":null});v.qos.append("performance",(o.location.href||"").split("?")[1]);v.qos.append("player",se(t));if("hidden"in d&&"visibilityState"in d){if(d.hidden){t.trigger({type:"usage",name:"document-hidden"})}var e=function e(){t.trigger({type:"usage",name:"document-"+d.visibilityState})};d.addEventListener("visibilitychange",e);t.on("dispose",function(){d.removeEventListener("visibilitychange",e)})}if(d.querySelector(".bc-iframe")){t.trigger({type:"usage",name:"iframe-embed"})}else{t.trigger({type:"usage",name:"inpage-embed"})}v.sendPlayerLoad({qos:v.qos.keys(),params:{usage:p.flush()}})})};le.VERSION=ne;if(r.registerPlugin){r.registerPlugin("bcAnalytics",le)}else{r.plugin("bcAnalytics",le)}return le})})();(function(){if(v.getPlugin("errors")){return}(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t(require("video.js")):typeof r==="function"&&r.amd?r(["video.js"],t):e.videojsErrors=t(e.videojs)})(this,function(r){"use strict";r=r&&r.hasOwnProperty("default")?r["default"]:r;var n=typeof e!=="undefined"?e:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var i={};var a=(Object.freeze||Object)({default:i});var o=a&&i||a;var s=typeof n!=="undefined"?n:typeof e!=="undefined"?e:{};var u;if(typeof t!=="undefined"){u=t}else{u=s["__GLOBAL_DOCUMENT_CACHE@4"];if(!u){u=s["__GLOBAL_DOCUMENT_CACHE@4"]=o}}var l=u;var c=r.getComponent("Flash");var f=!r.browser.IS_IPHONE;var d=r.registerPlugin||r.plugin;var p={header:"",code:"",message:"",timeout:45*1e3,dismiss:f,progressDisabled:false,errors:{1:{type:"MEDIA_ERR_ABORTED",headline:"The video download was cancelled"},2:{type:"MEDIA_ERR_NETWORK",headline:"The video connection was lost, please confirm you are "+"connected to the internet"},3:{type:"MEDIA_ERR_DECODE",headline:"The video is bad or in a format that cannot be played on your browser"},4:{type:"MEDIA_ERR_SRC_NOT_SUPPORTED",headline:"This video is either unavailable or not supported in this browser"},5:{type:"MEDIA_ERR_ENCRYPTED",headline:"The video you are trying to watch is encrypted and we do not know how "+"to decrypt it"},unknown:{type:"MEDIA_ERR_UNKNOWN",headline:"An unanticipated problem was encountered, check back soon and try again"},"-1":{type:"PLAYER_ERR_NO_SRC",headline:"No video has been loaded"},"-2":{type:"PLAYER_ERR_TIMEOUT",headline:"Could not download the video"},PLAYER_ERR_DOMAIN_RESTRICTED:{headline:"This video is restricted from playing on your current domain"},PLAYER_ERR_IP_RESTRICTED:{headline:"This video is restricted at your current IP address"},PLAYER_ERR_GEO_RESTRICTED:{headline:"This video is restricted from playing in your current geographic region"},FLASHLS_ERR_CROSS_DOMAIN:{headline:"The video could not be loaded: crossdomain access denied."}}};var h=function e(t,n){var i=void 0;var a=void 0;var o=void 0;var s=[];var u=function e(t){n.errors=r.mergeOptions(n.errors,t);Object.keys(n.errors).forEach(function(e){var t=n.errors[e];if(!t.type){t.type=e}})};u();var f=function e(){t.clearTimeout(a);if(o){o=false;t.removeClass("vjs-waiting")}a=t.setTimeout(function(){if(t.error()||t.paused()||t.ended()){return}o=true;t.addClass("vjs-waiting")},1e3);t.clearTimeout(i);i=t.setTimeout(function(){if(t.error()||t.paused()||t.ended()){return}t.error({code:-2,type:"PLAYER_ERR_TIMEOUT"})},n.timeout);if(t.error()&&t.error().code===-2){t.error(null)}};var d=function e(){var r=void 0;while(s.length){r=s.shift();t.off(r[0],r[1])}t.clearTimeout(i);t.clearTimeout(a)};var h=function e(r,n){var i=function e(){if(!t.error()){var r=t.$(".vjs-tech");if(r&&r.type==="application/x-shockwave-flash"&&!r.vjs_getProperty){t.error({code:-2,type:"PLAYER_ERR_TIMEOUT"});return}if(t.paused()){return f()}if(t.ended()){return f()}}n.call(this)};t.on(r,i);s.push([r,i])};var v=function e(){var r=0;d();f();h(["timeupdate","adtimeupdate"],function(){var e=t.currentTime();if(e!==r){r=e;f()}});if(!n.progressDisabled){h("progress",f)}};var y=function e(){if(!t.currentSrc()){t.error({code:-1,type:"PLAYER_ERR_NO_SRC"})}};var m=function e(){var i="";var a=t.error();var o=l.createElement("div");var s="";if(!a){return}a=r.mergeOptions(a,n.errors[a.code||a.type||0]);if(a.message){i='<div class="vjs-errors-details">'+t.localize("Technical details")+'\n        : <div class="vjs-errors-message">'+t.localize(a.message)+"</div>\n        </div>"}if(a.code===4&&c&&!c.isSupported()){var u=t.localize("If you are using an older browser please try upgrading or installing Flash.");i+='<span class="vjs-errors-flashmessage">'+u+"</span>"}var f=t.getChild("errorDisplay");o.className="vjs-errors-dialog";o.id="vjs-errors-dialog";s='<div class="vjs-errors-content-container">\n      <h2 class="vjs-errors-headline">'+this.localize(a.headline)+"</h2>\n        <div><b>"+this.localize("Error Code")+"</b>: "+(a.type||a.code)+"</div>\n        "+i+"\n      </div>";var d=f.closeable(!("dismiss"in a)||a.dismiss);if(d){s+='<div class="vjs-errors-ok-button-container">\n          <button class="vjs-errors-ok-button">'+this.localize("OK")+"</button>\n        </div>";o.innerHTML=s;f.fillWith(o);f.contentEl().firstChild.appendChild(f.getChild("closeButton").el());var p=f.el().querySelector(".vjs-errors-ok-button");t.on(p,"click",function(){f.close()})}else{o.innerHTML=s;f.fillWith(o)}if(t.currentWidth()<=600||t.currentHeight()<=250){f.addClass("vjs-xs")}f.one("modalclose",function(){return t.error(null)})};var g=function e(){d();t.removeClass("vjs-errors");t.off("play",v);t.off("play",y);t.off("dispose",e);t.off(["aderror","error"],m)};var _=function n(i){g();e(t,r.mergeOptions(p,i))};_.extend=function(e){return u(e)};_.getAll=function(){return r.mergeOptions(n.errors)};_.disableProgress=function(e){n.progressDisabled=e;v()};t.on("play",v);t.on("play",y);t.on("dispose",g);t.on(["aderror","error"],m);t.ready(function(){t.addClass("vjs-errors")});t.errors=_};var v=function e(t){h(this,r.mergeOptions(p,t))};["extend","getAll","disableProgress"].forEach(function(e){v[e]=function(){r.log.warn("The errors."+e+"() method is not available until the plugin has been initialized!")}});d("errors",v);return v})})();(function(){if(v.getPlugin("catalog")){return}(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t(require("video.js"),require("global/document"),require("global/window")):typeof r==="function"&&r.amd?r(["video.js","global/document","global/window"],t):e.videojsBcCatalog=t(e.videojs,e.document,e.window)})(this,function(e,t,r){"use strict";e="default"in e?e["default"]:e;t="default"in t?t["default"]:t;r="default"in r?r["default"]:r;var n="3.20.0";var i=[{attr:"data-video-id",query:"videoId",config:"videoId",type:"video"},{attr:"data-playlist-id",query:"playlistId",config:"playlistId",type:"playlist"},{attr:"data-catalog-search",query:"catalogSearch",config:"search",type:"search"},{attr:"data-catalog-sequence",query:"catalogSequence",config:"sequence",type:"lazySequence"}];var a=function e(t,r,n){for(var a=0;a<i.length;a++){var o=i[a];var s=o[t];if(r[s]){var u={id:r[s],type:o.type};if(u.type==="playlist"){u.playlistVideoId=n}return u}}};var o=function t(r,n,o){var s=n.options_;var u=Boolean(n.el().ownerDocument.querySelector(".bc-iframe"));var l=e.bc_.qs();o=o?l.parse(o):l.search;i.concat({query:"playlistVideoId"}).forEach(function(e){var t=e.query;if(Array.isArray(o[t])){o[t]=o[t].pop()}});if(i.filter(function(e){return!!r[e.config]}).length>1||i.filter(function(e){return!!s[e.attr]}).length>1){n.error({headline:"Bad Request: Multiple catalog media queries provided. Please only provide one",type:"PLAYER_ERR_CONFLICTING_DATA",code:-3,message:"Too many catalog media paramters were provided in this player. "+"Please use only one of the following: videoId, playlistId, catalogSequence, or catalogSearch."});return}return u&&a("query",o,o.playlistVideoId)||a("attr",s,s["data-playlist-video-id"]||o.playlistVideoId)||a("config",r,o.playlistVideoId||r.playlistVideoId)};var s=function t(r){if(!e.bc_.isFn(r.errors)||!e.bc_.isFn(r.errors.extend)){return}r.errors.extend({VIDEO_CLOUD_ERR_ACCOUNT_NOT_FOUND:{headline:"The Video Cloud account was not found."},VIDEO_CLOUD_ERR_RESOURCE_NOT_FOUND:{headline:"The Video Cloud resource was not found."},VIDEO_CLOUD_ERR_VIDEO_NOT_FOUND:{headline:"The Video Cloud video was not found."},VIDEO_CLOUD_ERR_NOT_PLAYABLE:{headline:"The Video Cloud video is not playable."}})};var u={403:{ACCESS_DENIED:{DOMAIN:"PLAYER_ERR_DOMAIN_RESTRICTED",CLIENT_IP:"PLAYER_ERR_IP_RESTRICTED",CLIENT_GEO:"PLAYER_ERR_GEO_RESTRICTED"},VIDEO_NOT_PLAYABLE:"VIDEO_CLOUD_ERR_NOT_PLAYABLE"},404:{ACCOUNT_NOT_FOUND:"VIDEO_CLOUD_ERR_ACCOUNT_NOT_FOUND",RESOURCE_NOT_FOUND:"VIDEO_CLOUD_ERR_RESOURCE_NOT_FOUND",VIDEO_NOT_FOUND:"VIDEO_CLOUD_ERR_VIDEO_NOT_FOUND"}};var l=function t(r,n){var i=n.shift();if(e.bc_.isNonEmptyStr(r[i])){return r[i]}if(!i||!r[i]){return"unknown"}return t(r[i],n)};var c=function e(t,r){r=Array.isArray(r)?r[0]:r||{};return{code:l(u,[t,r.error_code,r.error_subcode])}};var f=function t(r,n,i){if(i.embedHasPoster){r.poster=n.options_.poster}if(i.embedHasSources){r.sources=n.options_.sources}if(i.embedHasTracks){r.textTracks=n.options_.tracks}if(r.textTracks&&r.textTracks.length>0&&e.browser.IS_ANY_SAFARI){n.$(".vjs-tech").setAttribute("crossorigin","anonymous")}return r};var d=function e(t,r){return function(e,n){if(e){e.data=n;t.catalog.error=e;t.error(c(e.status,n));return t.trigger("bc-catalog-error")}t.ready(function(){return t.catalog.load(r(n))})}};var p=function t(r,n,i){if(r==="video"){return d(n,function(e){return f(e,n,i)})}return d(n,function(t){var a=f({},n,i);if(Array.isArray(t.videos)){var o=t.videos[0]||{};t.videos[0]=e.mergeOptions(o,a,{rawItem:o})}else{t.videos=[a]}if(i.playlistVideoId&&r==="playlist"){for(var s=0;s<t.length;s++){if(t[s].id===i.playlistVideoId||"ref:"+t[s].referenceId===i.playlistVideoId){t.startingIndex=s;break}}}return t})};var h=function e(){return Number.MAX_SAFE_INTEGER||Math.pow(2,53)-2};var v=function e(t,r){var n=t.cuePoints;var i=n[r];var a=void 0;for(r++;r<n.length;r++){if(n[r].time>i.time){a=n[r];break}}var o=isFinite(t.duration)?t.duration:h();i.startTime=i.time;if(a&&a.time<o){i.endTime=a.time}else{i.endTime=o}return i};var y=function e(t){var r=t.remoteTextTracks();if(r){var n=r.length;while(n--){t.removeRemoteTextTrack(r[n])}}var i=t.textTracks();if(i){var a=i.length;while(a--){var o=i[a];if(o.kind==="metadata"&&o.cues){var s=o.cues.length;while(s--){o.removeCue(o.cues[s])}}o.mode="disabled"}}};var m=function e(t,n){y(t);if(!n.cuePoints){return}var i=t.mediaCuePointsTrack();var a=r.VTTCue||r.vttjs&&r.vttjs.VTTCue||r.TextTrackCue;for(var o=0;o<n.cuePoints.length;o++){var s=n.cuePoints[o];var u=new a(s.startTime,s.endTime,s.type);u.originalCuePoint=s;i.addCue(u)}i.mode="hidden"};var g=function e(t,r,n){var i=0;for(;i<t.length;i++){if(r(t[i])){return t[i]}}return n};function _(e){var t=_.windowLocationProtocol();var r=function e(r){return r.src&&r.src.indexOf(t)===0};if(e&&e.length&&e.length>0){return g(e,r,e[0]).src}}_.windowLocationProtocol=function(){return r.location.protocol};var b=function e(t,n){var i=t.url;var a=t.headers;var o=new r.XMLHttpRequest;o.open("GET",i,true);if(a){for(var s in a){o.setRequestHeader(s,a[s])}}o.onreadystatechange=function(){if(o.readyState!==4){return}if(o.timeout){return n(new Error("timeout"),o)}if(o.readyState===4){return n(null,o,o.responseText)}};o.url=i;o.send();return o};if(r.XMLHttpRequest&&!("withCredentials"in new r.XMLHttpRequest)){var T=void 0;var S=0;var w={};var E=[];var k=t.createElement("iframe");k.src="https://edge.api.brightcove.com/player-ie-proxy.html";t.getElementsByTagName("head")[0].appendChild(k);var P=function e(t,r){t.id=S++;w[t.id]=r;k.contentWindow.postMessage(JSON.stringify(t),"*");return k};var O=function e(){var t=E.length;while(t--){P.apply(this,E[t])}E.length=0;T=P};if(k.attachEvent){k.attachEvent("onload",O)}else{k.addEventListener("load",O)}var C=function e(t,r){E.push([t,r]);return k};T=C;b=function e(){T.apply(this,arguments)};var A=function t(r){var n=void 0;var i=void 0;var a={};var o=void 0;if(r.source!==k.contentWindow){return}try{n=JSON.parse(r.data)}catch(t){return e.log("Error parsing edge.api iframe response",t)}var s=w[n.id];delete w[n.id];if(!s){return e.log("Received unexpected message from the edge.api iframe")}n.headers=n.headers.replace("\r","").split("\n");for(var u=0;u<n.headers;u++){o=n.headers[u].indexOf(":");i=[n.headers[u].substring(0,o),n.headers[u].substring(o+1)];i[0]=i[0].replace(/^\s+|\s+$/g,"");i[1]=i[1].replace(/^\s+|\s+$/g,"");a[i[0]]=i[1]}n.headers=a;n.getResponseHeader=function(e){return this.headers[e]};s(null,n,n.response)};if(r.addEventListener){r.addEventListener("message",A)}else{r.attachEvent("onmessage",A)}}var x=b;function I(e,t){var n=void 0;var i="videos";var a=void 0;var o=void 0;if(e.policyKey){o={Accept:"application/json;pk="+e.policyKey}}if(e.baseUrl.slice(-1)!=="/"){e.baseUrl+="/"}if(e.videoId){i="videos";a=e.videoId}else if(e.playlistId){i="playlists";a=e.playlistId}else if(e.q){i="search"}n=e.baseUrl+"accounts/"+e.accountId+"/";if(i==="search"){n+="videos"}else{n+=i+"/"+a}var s=[];if(e.tveToken){s.push("tveToken="+r.encodeURIComponent(e.tveToken))}if(e.adConfigId){s.push("ad_config_id="+r.encodeURIComponent(e.adConfigId))}if(i==="search"){["q","limit","offset","sort"].forEach(function(t){if(e[t]){s.push(t+"="+r.encodeURIComponent(e[t]))}})}if(s.length>0){n+="?"+s.join("&")}e.player.trigger({type:"catalog_request",url:n,videoId:e.videoId});return x({url:n,strictSSL:false,headers:o},function(r,i,a){if(r){e.player.trigger({type:"catalog_request_error",url:n,error:r});return t(r,a)}try{a=JSON.parse(a)}catch(r){e.player.trigger({type:"catalog_request_error",url:n,response:i,error:r});return t(r,a)}if(i.status>=400){e.player.trigger({type:"catalog_request_error",url:n,response:i,error:new Error("Request Failed")});return t(i,a)}e.player.trigger({type:"catalog_response",url:n,response:i});t(null,a)})}var L=function t(r,n){if(!r.accountId||!(r.videoId||r.playlistId||r.q)||!r.policyKey){return n(new Error("accountId, videoId/playlistId/query, and policy key are required fields"))}var i=e.bc_.assign({baseUrl:"https://edge.api.brightcove.com/playback/v1/"},r);return I(i,function(e,t){if(e){return n(e,t)}n(null,t)})};var D=function e(){var t=r.GestureEvent;return!!(t&&r.WebKitMediaKeys&&r.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4"))};var R=function e(t){return t==="application/vnd.apple.mpegurl"||t==="application/x-mpegURL"};var j=function e(t){return t.isSecureContext||!/^http:/.test(t.location.href)};var M={isSafariWithFairplaySupport:D,isHlsType:R,preferHttps:j};var N="https://fps.brightcove.com/v1/application_certificate";var U="com.apple.fps.1_0";var B=function e(t){return r.btoa(String.fromCharCode.apply(null,t))};var F=function e(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};var q=function e(t){var r=t.source,n=t.publisherId,i=t.applicationId;var a=r.key_systems[U].certificate_url;if(a){return a}if(i&&n){return N+"/"+n+"/"+i}return null};var H=function t(r,n){var i=q({source:r.source,publisherId:r.publisherId,applicationId:r.applicationId});e.xhr({uri:i,responseType:"arraybuffer"},function(e,t,r){if(e){n(e);return}n(null,new Uint8Array(r))})};var V=function e(t,r){return F(r).split("//")[1]};var W=function t(r){return function(t,n,i,a){e.xhr({uri:r,method:"POST",responseType:"arraybuffer",json:{publisher_id:t.publisherId,application_id:t.applicationId,key_id:n.split("/")[3],server_playback_context:B(i)},headers:{"Content-Type":"application/json",Accept:"application/octet-stream"}},function(e,t,r){if(e){a(e);return}a(null,r)})}};var G={getCertificateUri:q,getCertificate:H,getContentId:V,createGetLicenseFunc:W,base64EncodeUint8Array:B,FAIRPLAY_KEY_SYSTEM:U};var z=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return t.filter(function(e){return e.keySystems&&e.keySystems[G.FAIRPLAY_KEY_SYSTEM]})};var X=function e(t,r,n){var i=z(r);if(!i.length||!t.eme){n();return}var a=t.eme.options||{};var o=0;var s=[];var u={};var l=function e(t){var r=i[t];var l=G.getCertificateUri({source:r,publisherId:a.publisherId,applicationId:a.applicationId});if(!l){return"continue"}if(u[l]){u[l].push(r);return"continue"}o++;u[l]=[r];r.keySystems[G.FAIRPLAY_KEY_SYSTEM].getCertificate({source:r,publisherId:a.publisherId,applicationId:a.applicationId},function(e,t){if(e){s.push({message:"Unable to resolve FairPlay certificate",error:e})}else{var r=u[l];for(var i=0;i<r.length;i++){var a=r[i];a.keySystems[G.FAIRPLAY_KEY_SYSTEM].getCertificate=function(e,r){r(null,t)}}}o--;if(!o){if(s.length){n(s);return}n()}})};for(var c=0;c<i.length;c++){var f=l(c);if(f==="continue")continue}};var Y=function e(t){if(!M.isHlsType(t.type)||!t.key_systems||!t.key_systems[G.FAIRPLAY_KEY_SYSTEM]){return null}var r=t.key_systems[G.FAIRPLAY_KEY_SYSTEM];var n=r.key_request_url;var i={};i[G.FAIRPLAY_KEY_SYSTEM]={getCertificate:G.getCertificate,getLicense:G.createGetLicenseFunc(n),getContentId:G.getContentId};return i};var K=function e(t){return Y(t)};var $={getKeySystemOptions:K,getFairPlaySources:z,resolveFairPlayCertificates:X};var J=function e(t,r){r=r||t&&t.mediainfo||{};return t&&t.hasPlugin&&t.hasPlugin("vr")&&r&&r.projection};var Q=50*1024*1024;var Z=3*1024*1024;var ee=.5*1024*1024;var te={http:{nativeHls:{http:{"application/vnd.apple.mpegurl":1,"video/mp4":5,"application/dash+xml":3},https:{"application/vnd.apple.mpegurl":2,"video/mp4":6,"application/dash+xml":4}},noNativeHls:{http:{"application/vnd.apple.mpegurl":1,"video/mp4":5,"application/dash+xml":3},https:{"application/vnd.apple.mpegurl":2,"video/mp4":6,"application/dash+xml":4}},preferMp4:{http:{"application/vnd.apple.mpegurl":3,"video/mp4":1,"application/dash+xml":5},https:{"application/vnd.apple.mpegurl":4,"video/mp4":2,"application/dash+xml":6}}},https:{nativeHls:{http:{"application/vnd.apple.mpegurl":2,"video/mp4":6,"application/dash+xml":5},https:{"application/vnd.apple.mpegurl":1,"video/mp4":4,"application/dash+xml":3}},noNativeHls:{http:{"application/vnd.apple.mpegurl":5,"video/mp4":4,"application/dash+xml":6},https:{"application/vnd.apple.mpegurl":1,"video/mp4":3,"application/dash+xml":2}},preferMp4:{http:{"application/vnd.apple.mpegurl":5,"video/mp4":4,"application/dash+xml":6},https:{"application/vnd.apple.mpegurl":2,"video/mp4":1,"application/dash+xml":3}}}};var re={1:3,2:3.2,3:4.2,4:5,5:6,6:7,7:8};var ne=function e(t,r){return r.type==="application/vnd.apple.mpegurl"&&r.key_systems&&M.isSafariWithFairplaySupport()&&t.eme&&t.eme.options};var ie=function t(r,n,i){if(!n.src){return 9999}if(n.type==="application/vnd.apple.mpegurl"&&n.key_systems&&!ne(i,n)){return 9999}if(n.profiles&&n.profiles.match(/hbbtv/i)){return 9999}if(e.browser.IS_IOS&&n.type==="application/vnd.apple.mpegurl"&&re[n.ext_x_version]>parseFloat(e.browser.IOS_VERSION)){return 9999}r=r[/^[^:]*/.exec(n.src)];if(!r){return 9999}return r[n.type]||9999};var ae=function t(r,n,i,a){var o=oe.preferHttps()?te.https:te.http;var s=void 0;var u=void 0;if(J(r,n)){s=Q}else if(e.browser.IS_IOS||e.browser.IS_ANDROID){s=ee}else{s=Z}if(oe.preferMp4(r,n)){o=o.preferMp4}else if(oe.supportsNativeHls()){o=o.nativeHls}else{o=o.noNativeHls}u=ie(o,i,r)-ie(o,a,r);if(u){return u}if(i.type==="video/mp4"&&a.type==="video/mp4"){if(i.avg_bitrate&&a.avg_bitrate){return Math.abs(i.avg_bitrate-s)-Math.abs(a.avg_bitrate-s)}if(i.avg_bitrate||a.avg_bitrate){u=i.avg_bitrate?-1:1}}if(i.type==="application/vnd.apple.mpegurl"&&a.type==="application/vnd.apple.mpegurl"){if(i.ext_x_version&&a.ext_x_version){return a.ext_x_version-i.ext_x_version}if(i.ext_x_version||a.ext_x_version){u=i.ext_x_version?-1:1}}return u};function oe(e,t){var r=t.sources||[];var n=[];for(var i=0;i<r.length;i++){var a=r[i];if(a.src&&a.container==="MP4"){a.type="video/mp4"}else if(a.src&&(a.container==="M2TS"||M.isHlsType(a.type))){a.type="application/vnd.apple.mpegurl";if(ne(e,a)){a.keySystems=$.getKeySystemOptions(a)}}n.push(a)}return n.sort(ae.bind(null,e,t))}oe.supportsNativeHls=function(){var r=t.createElement("video");var n=e.options.hls&&e.options.hls.overrideNative;if(r&&r.canPlayType){return!n&&/probably|maybe/i.test(r.canPlayType("application/vnd.apple.mpegurl"))}return false};oe.preferHttps=function(){return M.preferHttps(r)};oe.preferMp4=function(t,r){return e.browser.IS_ANDROID&&e.browser.ANDROID_VERSION<5||J(t,r)};var se=e.registerPlugin||e.plugin;var ue=/([A-Za-z0-9])_([A-Za-z0-9])/g;var le=function e(t){return t.replace(ue,function(e,t,r){return t+r.toUpperCase()})};var ce=function t(r){var n=e.mergeOptions(r);Object.keys(n).filter(function(e){return e.match(ue)}).forEach(function(e){n[le(e)]=n[e]});return n};var fe=function e(r,n){if(!n){return}r.mediainfo=ce(n);var i=Boolean(r.el().ownerDocument.querySelector(".bc-iframe"));var a=r.mediainfo.name;if(i&&a){t.title=a}};var de=function e(t,r){if(!r){return}t.playlistinfo=ce(r);delete t.playlistinfo.videos};var pe=function e(t,r){return(t.type==="application/vnd.apple.mpegurl"||t.type==="application/dash+xml")&&r.toLowerCase()==="html5"};function he(t){var r=this;var n=e.mergeOptions({accountId:r.options_["data-account"],policyKey:r.options_["data-policy-key"]},t);s(r);r.on("loadstart",function(){if(!e.bc_.isFn(r.playlist)||!r.playlist()||!r.playlist().length){return}fe(r,r.playlist()[r.playlist.indexOf(r.currentSrc())])});r.on("dispose",function(){return y(r)});var i=function t(n,i){var a=$.getFairPlaySources(n);if(!a.length){return i()}$.resolveFairPlayCertificates(r,a,function(t){if(t){e.log("Unable to resolve FairPlay certificates",t)}i()})};var a=function t(n){if(!r.hasPlugin||!r.hasPlugin("ssai")||!n){return n}return n.map(function(t){if(t.vmap){t.type=e.getPlugin("ssai").MIME_TYPE;t.originalHlsSource=t.src;t.src=t.vmap}return t})};var u=function e(t){var n=function e(){var n=false;fe(r,t);if(J(r)){var i=r.el().querySelector("video");i.setAttribute("crossorigin","anonymous")}r.el().setAttribute("data-video-id",t.id);r.poster(t.poster);if(t.sources){for(var o=0;o<t.sources.length;o++){if(t.sources[o].vmap!==undefined){n=true;break}}}if(n&&r.onceux!==undefined){r.onceux.loadSourcesFromCatalog(t.sources)}else{if(n){t.sources=a(t.sources)}r.src(t.sources)}m(r,t);if(t.textTracks){for(var s=0;s<t.textTracks.length;s++){r.addRemoteTextTrack(t.textTracks[s])}}};i(t.sources,n)};var l=function e(t){var n=function e(){r.on("beforeplaylistitem",function(e,t){return m(r,t)});for(var n=0;n<t.length;n++){t[n].sources=a(t[n].sources)}var i=t.startingIndex||0;fe(r,t[i]);de(r,r.catalog.data);if(J(r)){var o=r.el().querySelector("video");o.setAttribute("crossorigin","anonymous")}r.playlist(t,i)};var o=t.filter(function(e){return e.sources}).reduce(function(e,t){return e.concat(t.sources)},[]);i(o,n)};var f=function e(n){var i=void 0;var a=ce(n);if(a.sources){a.rawSources_=a.sources;a.sources=(t.getSources||oe)(r,a);i=r.selectSource(a.sources)}if(a.posterSources){a.poster=_(a.posterSources)}if(a.thumbnailSources){a.thumbnail=_(a.thumbnailSources)}if(a.textTracks){var o=i&&pe(i.source,i.tech);a.textTracks=a.textTracks.filter(function(e){return!(o&&e.in_band_metadata_track_dispatch_type!==undefined)}).map(function(e){if(e.sources){e.src=_(e.sources)}return e})}if(a.duration){a.duration=a.duration*.001}if(a.cuePoints){for(var s=0;s<a.cuePoints.length;s++){v(a,s)}}return a};r.catalog={transformCatalogError:c,transformVideoResponse:f,mediaCuePointsTrack:function t(){if(!r.catalog.mediaCuePointsTrack.hasWarned_){e.log.warn("player.catalog.mediaCuePointsTrack() is deprecated, please use player.mediaCuePointsTrack() instead!");r.catalog.mediaCuePointsTrack.hasWarned_=true}return r.mediaCuePointsTrack()},getVideo:function t(i,a,o){var s=e.mergeOptions({},n,{player:r,videoId:i});if(r.catalog.tveToken){s.tveToken=r.catalog.tveToken}if(o){s.adConfigId=o}r.catalog.loading++;return L(s,function(e,t){r.catalog.loading--;if(e){e.data=t;r.catalog.error=e;return a(e,t)}if(!t){return a(null,null)}var n=f(t);he.data=t;he.sources=n.sources;he.poster=n.poster;a(null,n)})},getSequence:function t(n,i,a){var o=this;if(!Array.isArray(n)){n=[n]}n=n.filter(function(t){if(!/^(search|video|playlist)$/i.test(t.type)){e.log.error("invalid sequence type, please use search, video, or playlist. for:",t);return false}return true});if(!n.length){i(new Error("No valid sequences"),null);return}var s=n.length;var u=new Array(n.length);var l=[];n.forEach(function(t,c){var f="get"+t.type.charAt(0).toUpperCase()+t.type.slice(1);var d=o[f](t.id,function(a,o){s--;if(a){e.log.error("failed to request sequence",t);e.log.error("with error",a)}else if(o){if(!Array.isArray(o)){o=[o]}u[c]=o}if(s===0){r.catalog.data=u;var l=u.reduce(function(e,t){return t&&e.concat(t)},[]);if(!l.length){i(new Error("No data was loaded for the sequence "+JSON.stringify(n),null))}else{i(null,l)}}},a);l.push(d)});return l},getLazySequence:function e(t,n,i){var a=this;if(!Array.isArray(t)){t=[t]}var o=function e(r){return a.getSequence(t.shift(),function(n,i){if((n||!i)&&t&&t.length){return e(r)}r(n,i)},i)};var s=function e(){if(!t.length){r.off("playlistitem",e);return}var n=r.playlist;var i=n.currentIndex&&n.currentIndex||n.currentItem&&n.currentItem()||0;var a=n.lastIndex&&n.lastIndex()||n().length-1||0;if(i!==a){return}o(function(e,t){if(e||!t){return}r.playlist(r.playlist().concat(t),i)})};r.on("playlistitem",s);return o(n)},getSearch:function t(i,a,o){if(typeof i==="string"){i={q:i}}var s=e.mergeOptions({},n,{player:r},i);if(r.catalog.tveToken){s.tveToken=r.catalog.tveToken}if(o){s.adConfigId=o}r.catalog.loading++;return L(s,function(e,t){r.catalog.loading--;if(!e){if(t&&!t.videos||!t.videos.length){e=new Error("No videos returned from search")}}if(e){e.data=t;r.catalog.error=e;return a(e,t)}if(!t){return a(null,null)}r.catalog.data=t;var n=t.videos.map(f);a(null,n)})},getPlaylist:function t(i,a,o){var s=e.mergeOptions({},n,{player:r,playlistId:i});if(r.catalog.tveToken){s.tveToken=r.catalog.tveToken}if(o){s.adConfigId=o}r.catalog.loading++;return L(s,function(e,t){r.catalog.loading--;if(e){e.data=t;r.catalog.error=e;return a(e,t)}if(!t){return a(null,null)}r.catalog.data=t;var n=t.videos.map(f);a(null,n)})},load:function e(t){if(Array.isArray(t)){l(t)}else{u(t)}},autoFindAndLoadMedia:function t(n){var i=o(n,r);if(!i){return}n.playlistVideoId=i.playlistVideoId;var a="get"+i.type.charAt(0).toUpperCase()+i.type.slice(1);var s=p(i.type,r,n);if(typeof i.id==="string"&&/^(lazySequence|search)$/.test(i.type)){try{i.id=JSON.parse(i.id)}catch(t){if(i.type==="lazySequence"){e.log.error("lazy sequence must be valid json or an object",t);return}}}this[a](i.id,s,n.adConfigId)},loading:0}}se("catalog",he);he.VERSION=n;return he})})();(function(){if(v.getPlugin("touchActive")){return}(function(e,t){var r=v.registerPlugin||v.plugin;r("touchActive",function(){if(!v.browser.TOUCH_ENABLED){return}var e=this,t=false,r=function(){if(!t){e.userActive(false)}};e.one("play",function(){e.el().className+=" vjs-user-active";e.one(["click","tap"],function(){t=true});e.setTimeout(r,5e3)})})})(e,t)})();(function(){if(v.getPlugin("playlist")){return}(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t(require("video.js")):typeof r==="function"&&r.amd?r(["video.js"],t):e.videojsPlaylist=t(e.videojs)})(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e["default"]:e;var t=function e(t){return typeof t==="number"&&!isNaN(t)&&t>=0&&t<Infinity};var r=function e(t){var r=t.playlist.autoadvance_;if(r.timeout){t.clearTimeout(r.timeout)}if(r.trigger){t.off("ended",r.trigger)}r.timeout=null;r.trigger=null};var n=function e(n,i){r(n);if(!t(i)){n.playlist.autoadvance_.delay=null;return}n.playlist.autoadvance_.delay=i;n.playlist.autoadvance_.trigger=function(){var t=function t(){return e(n,i)};n.one("play",t);n.playlist.autoadvance_.timeout=n.setTimeout(function(){r(n);n.off("play",t);n.playlist.next()},i*1e3)};n.one("ended",n.playlist.autoadvance_.trigger)};var i=function e(t){var r=t.remoteTextTracks();var n=r&&r.length||0;while(n--){t.removeRemoteTextTrack(r[n])}};var a=function e(t,r){var a=!t.paused()||t.ended();t.trigger("beforeplaylistitem",r);t.poster(r.poster||"");t.src(r.sources);i(t);t.ready(function(){(r.textTracks||[]).forEach(t.addRemoteTextTrack.bind(t));t.trigger("playlistitem",r);if(a){t.play()}n(t,t.playlist.autoadvance_.delay)});return t};var o=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var s=function(){function e(e){this.value=e}function t(t){var r,n;function i(e,t){return new Promise(function(i,o){var s={key:e,arg:t,resolve:i,reject:o,next:null};if(n){n=n.next=s}else{r=n=s;a(e,t)}})}function a(r,n){try{var i=t[r](n);var s=i.value;if(s instanceof e){Promise.resolve(s.value).then(function(e){a("next",e)},function(e){a("throw",e)})}else{o(i.done?"return":"normal",i.value)}}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":r.resolve({value:t,done:true});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:false});break}r=r.next;if(r){a(r.key,r.arg)}else{n=null}}this._invoke=i;if(typeof t.return!=="function"){this.return=undefined}}if(typeof Symbol==="function"&&Symbol.asyncIterator){t.prototype[Symbol.asyncIterator]=function(){return this}}t.prototype.next=function(e){return this._invoke("next",e)};t.prototype.throw=function(e){return this._invoke("throw",e)};t.prototype.return=function(e){return this._invoke("return",e)};return{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}();var u=function e(t,r){var n=t;var i=r;if((typeof t==="undefined"?"undefined":o(t))==="object"){n=t.src}if((typeof r==="undefined"?"undefined":o(r))==="object"){i=r.src}if(/^\/\//.test(n)){i=i.slice(i.indexOf("//"))}if(/^\/\//.test(i)){n=n.slice(n.indexOf("//"))}return n===i};var l=function e(t,r){for(var n=0;n<t.length;n++){var i=t[n].sources;if(Array.isArray(i)){for(var a=0;a<i.length;a++){var o=i[a];if(o&&u(o,r)){return n}}}}return-1};var c=function e(t){var r=-1;var n=t.length-1;while(++r<t.length){var i=r+Math.floor(Math.random()*(n-r+1));var a=t[i];t[i]=t[r];t[r]=a}return t};function f(t,i){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=null;var u=false;var f=t.playlist=function(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(u){throw new Error("do not call playlist() during a playlist change")}if(Array.isArray(e)){var n=Array.isArray(s)?s.slice():null;s=e.slice();u=true;t.trigger({type:"duringplaylistchange",nextIndex:r,nextPlaylist:s,previousIndex:f.currentIndex_,previousPlaylist:n||[]});u=false;if(r!==-1){f.currentItem(r)}if(n){t.setTimeout(function(){t.trigger("playlistchange")},0)}}return s.slice()};t.on("loadstart",function(){if(f.currentItem()===-1){r(t)}});f.currentIndex_=-1;f.player_=t;f.autoadvance_={};f.repeat_=false;f.currentItem=function(e){if(u){return f.currentIndex_}if(typeof e==="number"&&f.currentIndex_!==e&&e>=0&&e<s.length){f.currentIndex_=e;a(f.player_,s[f.currentIndex_])}else{f.currentIndex_=f.indexOf(f.player_.currentSrc()||"")}return f.currentIndex_};f.contains=function(e){return f.indexOf(e)!==-1};f.indexOf=function(e){if(typeof e==="string"){return l(s,e)}var t=Array.isArray(e)?e:e.sources;for(var r=0;r<t.length;r++){var n=t[r];if(typeof n==="string"){return l(s,n)}else if(n.src){return l(s,n.src)}}return-1};f.currentIndex=function(){return f.currentItem()};f.lastIndex=function(){return s.length-1};f.nextIndex=function(){var e=f.currentItem();if(e===-1){return-1}var t=f.lastIndex();if(f.repeat_&&e===t){return 0}return Math.min(e+1,t)};f.previousIndex=function(){var e=f.currentItem();if(e===-1){return-1}if(f.repeat_&&e===0){return f.lastIndex()}return Math.max(e-1,0)};f.first=function(){if(u){return}if(s.length){return s[f.currentItem(0)]}f.currentIndex_=-1};f.last=function(){if(u){return}if(s.length){return s[f.currentItem(f.lastIndex())]}f.currentIndex_=-1};f.next=function(){if(u){return}var e=f.nextIndex();if(e!==f.currentIndex_){return s[f.currentItem(e)]}};f.previous=function(){if(u){return}var e=f.previousIndex();if(e!==f.currentIndex_){return s[f.currentItem(e)]}};f.autoadvance=function(e){n(f.player_,e)};f.repeat=function(t){if(t===undefined){return f.repeat_}if(typeof t!=="boolean"){e.log.error("videojs-playlist: Invalid value for repeat",t);return}f.repeat_=!!t;return f.repeat_};f.sort=function(e){if(!s.length){return}s.sort(e);if(u){return}t.trigger("playlistsorted")};f.reverse=function(){if(!s.length){return}s.reverse();if(u){return}t.trigger("playlistsorted")};f.shuffle=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=e.rest;var n=0;var i=s;if(r){n=f.currentIndex_+1;i=s.slice(n)}if(i.length<=1){return}c(i);if(r){var a;(a=s).splice.apply(a,[n,i.length].concat(i))}if(u){return}t.trigger("playlistsorted")};if(Array.isArray(i)){f(i.slice(),o)}else{s=[]}return f}var d=e.registerPlugin||e.plugin;var p=function e(t,r){f(this,t,r)};d("playlist",p);return p})})();(function(){console.log("The postmessage_pause.js script is obsolete. See https://support.brightcove.com/amp to configure a Brightcove Player for AMP.")})();(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t(require("video.js"),require("global/window"),require("@brightcove/loscore")):typeof r==="function"&&r.amd?r(["video.js","global/window","@brightcove/loscore"],t):e.videojsAmpSupport=t(e.videojs,e.window,e.videojs.bc_)})(this,function(e,t,r){"use strict";e=e&&e.hasOwnProperty("default")?e["default"]:e;t=t&&t.hasOwnProperty("default")?t["default"]:t;r=r&&r.hasOwnProperty("default")?r["default"]:r;var n="1.2.0";var i={};var a=function n(a){var o=this;if(t.location.origin!=="https://players.brightcove.net"||typeof t.addEventListener!=="function"||typeof t.postMessage!=="function"||t.parent===t){return}a=e.mergeOptions(i,a);this.addClass("vjs-amp-support");var s=function e(){var t=[];for(var r=0;r<o.played().length;r++){t.push([o.played().start(r),o.played().end(r)])}return t};var u=r.throttle(function(){t.parent.postMessage({event:"timeupdate",pr:s(),ct:o.currentTime()},"*")},500);this.on(["play","playing","ended","pause","volumechange","ads-ad-started","ads-ad-ended","loadedmetadata"],function(e){t.parent.postMessage({event:e.type,muted:o.muted(),playing:!o.paused(),dur:o.duration(),pr:s(),ct:o.currentTime()},"*")});this.on("timeupdate",u);t.addEventListener("message",function(e){if(!e.data||!(e.data.toString()==="[object Object]"||e.data.indexOf("{")===0)){return}var t;var r=["play","pause","muted","controls","currentTime"];if(typeof e.data==="object"){t=e.data}else{try{t=JSON.parse(e.data)}catch(e){return}}if(t===undefined){return}if(t.command&&r.indexOf(t.command)>-1){o[t.command](t.args)}},false);this.ready(function(){t.parent.postMessage({event:"ready",muted:o.muted(),playing:!o.paused(),videojsVersion:e.VERSION,bcVersion:t.bc?t.bc.VERSION:null,ampSupportVersion:n.VERSION},"*")})};e.registerPlugin("ampSupport",a);a.VERSION=n;return a});(function(e){var t={};function r(n){if(t[n]){return t[n].exports}var i=t[n]={i:n,l:false,exports:{}};e[n].call(i.exports,i,i.exports,r);i.l=true;return i.exports}r.m=e;r.c=t;r.d=function(e,t,n){if(!r.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};r.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};r.t=function(e,t){if(t&1)e=r(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);r.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n};r.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=51)})([function(e,r,n){"use strict";n.r(r);n.d(r,"PlaySwapPlugin",function(){return k});n.d(r,"PlayerPlugin",function(){return w});n.d(r,"RefreshStreamPlugin",function(){return O});n.d(r,"VERSION",function(){return N});n.d(r,"VendorPlugin",function(){return E});n.d(r,"events",function(){return M});function i(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){i=function e(t){return typeof t}}else{i=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return i(e)}function a(e,t,r,n,i,a,o){try{var s=e[a](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,i)}}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(undefined)})}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function l(e,t,r){if(t)u(e.prototype,t);if(r)u(e,r);return e}function c(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable});r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};if(t%2){f(r,true).forEach(function(t){c(e,t,r[t])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))}else{f(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}}return e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)y(e,t)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function y(e,t){y=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return y(e,t)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e,t){if(t&&(i(t)==="object"||typeof t==="function")){return t}return m(e)}function _(e){return b(e)||T(e)||S()}function b(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++){r[t]=e[t]}return r}}function T(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var w=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};s(this,e);this._config=t}l(e,[{key:"beforeVideo",value:function e(){}},{key:"afterVideo",value:function e(){}},{key:"dispose",value:function e(){}}]);return e}();var E=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};s(this,e);c(this,"isVendor",true);this._src="";this._loaded=false;this._loading=false;this._initialized=false;this._concurrent=true;this._autoLoad=true;this._queue=[];this._config=t}l(e,[{key:"beforeVideo",value:function e(){}},{key:"afterVideo",value:function e(){}},{key:"dispose",value:function e(){}},{key:"load",value:function(){var e=o(regeneratorRuntime.mark(function e(){var t=this;var r,n,i,a,o,s;return regeneratorRuntime.wrap(function e(u){while(1){switch(u.prev=u.next){case 0:if(!(this._loaded||this._loading)){u.next=2;break}return u.abrupt("return");case 2:this._loading=true;u.prev=3;if(!(this._src&&typeof this._src==="string")){u.next=9;break}u.next=7;return this._loadScript(this._src);case 7:u.next=44;break;case 9:if(!(Array.isArray(this._src)&&!this._concurrent)){u.next=38;break}r=true;n=false;i=undefined;u.prev=13;a=this._src[Symbol.iterator]();case 15:if(r=(o=a.next()).done){u.next=22;break}s=o.value;u.next=19;return this._loadScript(s);case 19:r=true;u.next=15;break;case 22:u.next=28;break;case 24:u.prev=24;u.t0=u["catch"](13);n=true;i=u.t0;case 28:u.prev=28;u.prev=29;if(!r&&a["return"]!=null){a["return"]()}case 31:u.prev=31;if(!n){u.next=34;break}throw i;case 34:return u.finish(31);case 35:return u.finish(28);case 36:u.next=44;break;case 38:if(!Array.isArray(this._src)){u.next=43;break}u.next=41;return Promise.all(this._src.map(function(e){return t._loadScript(e)}));case 41:u.next=44;break;case 43:throw new Error("Fetch vendor source is malformed");case 44:this._loading=false;this._loaded=true;this._initialize();u.next=54;break;case 49:u.prev=49;u.t1=u["catch"](3);v.log.error("Fetch vendor ".concat(this.pluginName," failed"),u.t1);this._loading=false;return u.abrupt("return",false);case 54:return u.abrupt("return",true);case 55:case"end":return u.stop()}}},e,this,[[3,49],[13,24,28,36],[29,,31,35]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"_addToQueue",value:function e(t){var r=this;return new Promise(function(e){if(typeof t!=="function"){throw new Error("Vendor Plugin _addToQueue first arg must be a func")}if(!r._autoLoad&&!r._loading&&!r._loaded){throw new Error("Vendor Plugin load must be called before func queuing")}if(!r._initialized){r._queue.push(function(){return e(t())})}else{e(t())}})}},{key:"_initialize",value:function e(){this._queue.forEach(function(e){return e()});this._initialized=true}},{key:"_loadScript",value:function(){var e=o(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(e,n){var i=t.createElement("script");i.type="text/javascript";i.src=r;i.defer=true;i.async=true;i.onreadystatechange=e;i.onload=e;i.onerror=n;t.head.appendChild(i)}));case 1:case"end":return n.stop()}}},e)}));function r(t){return e.apply(this,arguments)}return r}()}]);return e}();var k=function(e){p(t,e);function t(e){var r;s(this,t);r=g(this,h(t).call(this,e));c(m(r),"pluginName","playSwap");c(m(r),"handlePlaySwap",function(e){var t=e.target.id;r.players.forEach(function(e){if(e.el().getAttribute("id")!==t){e.pause();if(e.ima3&&e.ima3.adPlayer&&e.ima3.adsManager){e.ima3.adPlayer.pause()}}})});c(m(r),"setupPlaySwap",function(e){e.on("play",r.handlePlaySwap);e.on("ads-play",r.handlePlaySwap)});r.players=[];return r}l(t,[{key:"beforeVideo",value:function e(t){this.players=v.getAllPlayers();if(this.players.length<2)return;this.setupPlaySwap(t)}}]);return t}(w);var P=5e3;var O=function(e){p(t,e);function t(e){var r;s(this,t);r=g(this,h(t).call(this,e));c(m(r),"pluginName","refreshStream");c(m(r),"handlePause",function(e){if(e.techName_==="Chromecast")return;clearTimeout(e.refreshStream.timer);var t=setTimeout(function(){e.refreshStream.shouldRefresh=true},r.refreshTimeout);e.refreshStream.timer=t});c(m(r),"handlePlay",function(e,t){if(e.techName_==="Chromecast")return;clearTimeout(e.refreshStream.timer);if(!e.refreshStream.shouldRefresh)return;e.refreshStream.shouldRefresh=false;var r=t.video;if(r&&r.sources&&r.sources.length){e.src(r.sources[0])}e.ready(function(){e.play();e.trigger("player-refresh-stream")})});r.refreshTimeout=e.REFRESH_STREAM_TIMEOUT||P;return r}l(t,[{key:"afterVideo",value:function e(t,r){var n=this;if(r.videoType!=="live")return;t.refreshStream={shouldRefresh:false,timer:null};t.on("pause",function(){return n.handlePause(t)});t.on("play",function(){return n.handlePlay(t,r)});t.on("dispose",function(){return clearTimeout(t.refreshStream.timer)})}}]);return t}(w);var C={ADPLAY:"adplay",ADTIMEUPDATE:"adtimeupdate",ADS_POD_STARTED:"ads-pod-started",ADS_AD_STARTED:"ads-ad-started",ADS_AD_ENDED:"ads-ad-ended",ADS_PAUSE:"ads-pause",CONTENTPLAYBACK:"contentplayback"};var A={ENDED:"ended",PAUSE:"pause",PLAY:"play",TIMEUPDATE:"timeupdate"};var x={FIRSTPLAY:"firstplay"};var I={adsclick:"player__adsclick",adstart:"player__adstart",adend:"player__adend",adbreakstart:"player__adbreakstart",adbreakcomplete:"player__adbreakcomplete",click:"player__click",play:"player__play",pause:"player__pause",firstplay:"player__firstplay",playing:"player__playing",adsready:"player__adsready",adserror:"player__adserror",adspause:"player__adspause",adsplay:"player__adsplay",adspodstarted:"player__adspodstarted",adspodended:"player__adspodended",ima3hardtimeout:"player__ima3hardtimeout",ima3started:"player__ima3started",ima3complete:"player__ima3complete",progress:"player__progress",ready:"player__ready",id3:"player__id3",loaded:"player__loaded",loadedmetadata:"player__loadedmetadata",loadeddata:"player__loadeddata",contentupdate:"player__contentupdate",timeupdate:"player__timeupdate",fullscreen:"player__fullscreen",volume:"player__volume",mute:"player__mute",exit:"player__exit",refreshstream:"player__refreshstream",error:"player__error",seek:"player__seek",seeked:"player__seeked",unmount:"player__unmount",togglePlay:"player__togglePlay",complete:"player__complete",finished:"player__finished",timerFired:"player__timerfired"};var L={adstart:"yospace__advertstart",adend:"yospace__advertend",adbreakstart:"yospace__adbreakstart",adbreakcomplete:"yospace__adbreakend"};var D={fired:"swmTimerFired"};var R=["yospace-adbreakstart","yospace-advertstart","yospace-advertend","yospace-adbreakend","yospace-updatetimeline","yospace-id3","player-resize","player-refresh-stream","player-toggleplay","cuechange","ima3-hard-timeout","adsready","adplaying","adscanceled","adserror","nopreroll","nopostroll","contentresumed",D.fired];var j=[].concat(_(Object.values(d({},C,{},A,{},x))),["adend","ads-allpods-completed","ads-click","ads-first-quartile","ads-load","ads-midpoint","ads-play","ads-pod-ended","ads-request","ads-third-quartile","ads-volumechange","adstart","bc-catalog-error","ima3-ad-error","ima3-complete","ima3-ready","ima3-started","ima3-hard-timeout","ima3error","player_load","play_request","video_engagement","video_impression","video_view","abort","canplay","canplaythrough","catalog_request","catalog_response","click","touchend","contentupdate","durationchange","emptied","encrypted ","error","fullscreenchange","interruptbegin","interruptend","loadedalldata","loadeddata","loadedmetadata","loadedplaylist","loadstart","mediachange","playing","progress","ratechange","ready","resize","seek","seeked","seeking","stalled","suspend","useractive","userinactive","volumechange","waiting"]);var M={ads:C,player:I,yospace:L,timer:D,media:A,native:j,custom:R,vjs:x};var N="0.9.1"},function(t,r){var n=t.exports=typeof e!="undefined"&&e.Math==Math?e:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=n},function(e,t,r){var n=r(22)("wks");var i=r(21);var a=r(1).Symbol;var o=typeof a=="function";var s=e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:i)("Symbol."+e))};s.store=n},function(e,t){var r=e.exports={version:"2.6.9"};if(typeof __e=="number")__e=r},function(e,t,r){var n=r(8);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(19)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e,t,r){var n=r(1);var i=r(3);var a=r(7);var o=r(9);var s=r(14);var u="prototype";var l=function(e,t,r){var c=e&l.F;var f=e&l.G;var d=e&l.S;var p=e&l.P;var h=e&l.B;var v=f?n:d?n[t]||(n[t]={}):(n[t]||{})[u];var y=f?i:i[t]||(i[t]={});var m=y[u]||(y[u]={});var g,_,b,T;if(f)r=t;for(g in r){_=!c&&v&&v[g]!==undefined;b=(_?v:r)[g];T=h&&_?s(b,n):p&&typeof b=="function"?s(Function.call,b):b;if(v)o(v,g,b,e&l.U);if(y[g]!=b)a(y,g,T);if(p&&m[g]!=b)m[g]=b}};n.core=i;l.F=1;l.G=2;l.S=4;l.P=8;l.B=16;l.W=32;l.U=64;l.R=128;e.exports=l},function(e,t,r){var n=r(12);var i=r(33);e.exports=r(5)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){e[t]=r;return e}},function(e,t){e.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},function(e,t,r){var n=r(1);var i=r(7);var a=r(13);var o=r(21)("src");var s=r(55);var u="toString";var l=(""+s).split(u);r(3).inspectSource=function(e){return s.call(e)};(e.exports=function(e,t,r,s){var u=typeof r=="function";if(u)a(r,"name")||i(r,"name",t);if(e[t]===r)return;if(u)a(r,o)||i(r,o,e[t]?""+e[t]:l.join(String(t)));if(e===n){e[t]=r}else if(!s){delete e[t];i(e,t,r)}else if(e[t]){e[t]=r}else{i(e,t,r)}})(Function.prototype,u,function e(){return typeof this=="function"&&this[o]||s.call(this)})},function(e,t){e.exports={}},function(e,t,r){!function(t,n,i){if(true&&e.exports)e.exports=i();else if(true)r(95)(n,i);else{}}(this,"bowser",function(){var e=true;function t(t){function r(e){var r=t.match(e);return r&&r.length>1&&r[1]||""}function n(e){var r=t.match(e);return r&&r.length>1&&r[2]||""}var i=r(/(ipod|iphone|ipad)/i).toLowerCase(),o=/like android/i.test(t),s=!o&&/android/i.test(t),u=/nexus\s*[0-6]\s*/i.test(t),l=!u&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),f=/silk/i.test(t),d=/sailfish/i.test(t),p=/tizen/i.test(t),h=/(web|hpw)(o|0)s/i.test(t),v=/windows phone/i.test(t),y=/SamsungBrowser/i.test(t),m=!v&&/windows/i.test(t),g=!i&&!f&&/macintosh/i.test(t),_=!s&&!d&&!p&&!h&&/linux/i.test(t),b=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),T=r(/version\/(\d+(\.\d+)?)/i),S=/tablet/i.test(t)&&!/tablet pc/i.test(t),w=!S&&/[^-]mobi/i.test(t),E=/xbox/i.test(t),k;if(/opera/i.test(t)){k={name:"Opera",opera:e,version:T||r(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}}else if(/opr\/|opios/i.test(t)){k={name:"Opera",opera:e,version:r(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||T}}else if(/SamsungBrowser/i.test(t)){k={name:"Samsung Internet for Android",samsungBrowser:e,version:T||r(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}}else if(/Whale/i.test(t)){k={name:"NAVER Whale browser",whale:e,version:r(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}}else if(/MZBrowser/i.test(t)){k={name:"MZ Browser",mzbrowser:e,version:r(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}}else if(/coast/i.test(t)){k={name:"Opera Coast",coast:e,version:T||r(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}}else if(/focus/i.test(t)){k={name:"Focus",focus:e,version:r(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}}else if(/yabrowser/i.test(t)){k={name:"Yandex Browser",yandexbrowser:e,version:T||r(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}}else if(/ucbrowser/i.test(t)){k={name:"UC Browser",ucbrowser:e,version:r(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}}else if(/mxios/i.test(t)){k={name:"Maxthon",maxthon:e,version:r(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}}else if(/epiphany/i.test(t)){k={name:"Epiphany",epiphany:e,version:r(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}}else if(/puffin/i.test(t)){k={name:"Puffin",puffin:e,version:r(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}}else if(/sleipnir/i.test(t)){k={name:"Sleipnir",sleipnir:e,version:r(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}}else if(/k-meleon/i.test(t)){k={name:"K-Meleon",kMeleon:e,version:r(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}}else if(v){k={name:"Windows Phone",osname:"Windows Phone",windowsphone:e};if(b){k.msedge=e;k.version=b}else{k.msie=e;k.version=r(/iemobile\/(\d+(\.\d+)?)/i)}}else if(/msie|trident/i.test(t)){k={name:"Internet Explorer",msie:e,version:r(/(?:msie |rv:)(\d+(\.\d+)?)/i)}}else if(c){k={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(/edg([ea]|ios)/i.test(t)){k={name:"Microsoft Edge",msedge:e,version:b}}else if(/vivaldi/i.test(t)){k={name:"Vivaldi",vivaldi:e,version:r(/vivaldi\/(\d+(\.\d+)?)/i)||T}}else if(d){k={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:r(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}}else if(/seamonkey\//i.test(t)){k={name:"SeaMonkey",seamonkey:e,version:r(/seamonkey\/(\d+(\.\d+)?)/i)}}else if(/firefox|iceweasel|fxios/i.test(t)){k={name:"Firefox",firefox:e,version:r(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)};if(/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)){k.firefoxos=e;k.osname="Firefox OS"}}else if(f){k={name:"Amazon Silk",silk:e,version:r(/silk\/(\d+(\.\d+)?)/i)}}else if(/phantom/i.test(t)){k={name:"PhantomJS",phantom:e,version:r(/phantomjs\/(\d+(\.\d+)?)/i)}}else if(/slimerjs/i.test(t)){k={name:"SlimerJS",slimer:e,version:r(/slimerjs\/(\d+(\.\d+)?)/i)}}else if(/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)){k={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:T||r(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}}else if(h){k={name:"WebOS",osname:"WebOS",webos:e,version:T||r(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(t)&&(k.touchpad=e)}else if(/bada/i.test(t)){k={name:"Bada",osname:"Bada",bada:e,version:r(/dolfin\/(\d+(\.\d+)?)/i)}}else if(p){k={name:"Tizen",osname:"Tizen",tizen:e,version:r(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||T}}else if(/qupzilla/i.test(t)){k={name:"QupZilla",qupzilla:e,version:r(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||T}}else if(/chromium/i.test(t)){k={name:"Chromium",chromium:e,version:r(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||T}}else if(/chrome|crios|crmo/i.test(t)){k={name:"Chrome",chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(s){k={name:"Android",version:T}}else if(/safari|applewebkit/i.test(t)){k={name:"Safari",safari:e};if(T){k.version=T}}else if(i){k={name:i=="iphone"?"iPhone":i=="ipad"?"iPad":"iPod"};if(T){k.version=T}}else if(/googlebot/i.test(t)){k={name:"Googlebot",googlebot:e,version:r(/googlebot\/(\d+(\.\d+))/i)||T}}else{k={name:r(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)}}if(!k.msedge&&/(apple)?webkit/i.test(t)){if(/(apple)?webkit\/537\.36/i.test(t)){k.name=k.name||"Blink";k.blink=e}else{k.name=k.name||"Webkit";k.webkit=e}if(!k.version&&T){k.version=T}}else if(!k.opera&&/gecko\//i.test(t)){k.name=k.name||"Gecko";k.gecko=e;k.version=k.version||r(/gecko\/(\d+(\.\d+)?)/i)}if(!k.windowsphone&&(s||k.silk)){k.android=e;k.osname="Android"}else if(!k.windowsphone&&i){k[i]=e;k.ios=e;k.osname="iOS"}else if(g){k.mac=e;k.osname="macOS"}else if(E){k.xbox=e;k.osname="Xbox"}else if(m){k.windows=e;k.osname="Windows"}else if(_){k.linux=e;k.osname="Linux"}function P(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return undefined}}var O="";if(k.windows){O=P(r(/Windows ((NT|XP)( \d\d?.\d)?)/i))}else if(k.windowsphone){O=r(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i)}else if(k.mac){O=r(/Mac OS X (\d+([_\.\s]\d+)*)/i);O=O.replace(/[_\s]/g,".")}else if(i){O=r(/os (\d+([_\s]\d+)*) like mac os x/i);O=O.replace(/[_\s]/g,".")}else if(s){O=r(/android[ \/-](\d+(\.\d+)*)/i)}else if(k.webos){O=r(/(?:web|hpw)os\/(\d+(\.\d+)*)/i)}else if(k.blackberry){O=r(/rim\stablet\sos\s(\d+(\.\d+)*)/i)}else if(k.bada){O=r(/bada\/(\d+(\.\d+)*)/i)}else if(k.tizen){O=r(/tizen[\/\s](\d+(\.\d+)*)/i)}if(O){k.osversion=O}var C=!k.windows&&O.split(".")[0];if(S||l||i=="ipad"||s&&(C==3||C>=4&&!w)||k.silk){k.tablet=e}else if(w||i=="iphone"||i=="ipod"||s||u||k.blackberry||k.webos||k.bada){k.mobile=e}if(k.msedge||k.msie&&k.version>=10||k.yandexbrowser&&k.version>=15||k.vivaldi&&k.version>=1||k.chrome&&k.version>=20||k.samsungBrowser&&k.version>=4||k.whale&&a([k.version,"1.0"])===1||k.mzbrowser&&a([k.version,"6.0"])===1||k.focus&&a([k.version,"1.0"])===1||k.firefox&&k.version>=20||k.safari&&k.version>=6||k.opera&&k.version>=10||k.ios&&k.osversion&&k.osversion.split(".")[0]>=6||k.blackberry&&k.version>=10.1||k.chromium&&k.version>=20){k.a=e}else if(k.msie&&k.version<10||k.chrome&&k.version<20||k.firefox&&k.version<20||k.safari&&k.version<6||k.opera&&k.version<10||k.ios&&k.osversion&&k.osversion.split(".")[0]<6||k.chromium&&k.version<20){k.c=e}else k.x=e;return k}var r=t(typeof navigator!=="undefined"?navigator.userAgent||"":"");r.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if(typeof n==="string"){if(n in r){return true}}}return false};function n(e){return e.split(".").length}function i(e,t){var r=[],n;if(Array.prototype.map){return Array.prototype.map.call(e,t)}for(n=0;n<e.length;n++){r.push(t(e[n]))}return r}function a(e){var t=Math.max(n(e[0]),n(e[1]));var r=i(e,function(e){var r=t-n(e);e=e+new Array(r+1).join(".0");return i(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});while(--t>=0){if(r[0][t]>r[1][t]){return 1}else if(r[0][t]===r[1][t]){if(t===0){return 0}}else{return-1}}}function o(e,n,i){var o=r;if(typeof n==="string"){i=n;n=void 0}if(n===void 0){n=false}if(i){o=t(i)}var s=""+o.version;for(var u in e){if(e.hasOwnProperty(u)){if(o[u]){if(typeof e[u]!=="string"){throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(e))}return a([s,e[u]])<0}}}return n}function s(e,t,r){return!o(e,t,r)}r.isUnsupportedBrowser=o;r.compareVersions=a;r.check=s;r._detect=t;r.detect=t;return r})},function(e,t,r){var n=r(4);var i=r(53);var a=r(54);var o=Object.defineProperty;t.f=r(5)?Object.defineProperty:function e(t,r,s){n(t);r=a(r,true);n(s);if(i)try{return o(t,r,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");if("value"in s)t[r]=s.value;return t}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(15);e.exports=function(e,t,r){n(e);if(t===undefined)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(57);var i=r(36);e.exports=Object.keys||function e(t){return n(t,i)}},function(e,t,r){var n=r(34);var i=r(24);e.exports=function(e){return n(i(e))}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t,r){var n=r(8);var i=r(1).document;var a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t){var r=0;var n=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(3);var i=r(1);var a="__core-js_shared__";var o=i[a]||(i[a]={});(e.exports=function(e,t){return o[e]||(o[e]=t!==undefined?t:{})})("versions",[]).push({version:n.version,mode:r(23)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=false},function(e,t){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var r=Math.ceil;var n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(22)("keys");var i=r(21);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){var n=r(18);var i=r(2)("toStringTag");var a=n(function(){return arguments}())=="Arguments";var o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,s;return e===undefined?"Undefined":e===null?"Null":typeof(r=o(t=Object(e),i))=="string"?r:a?n(t):(s=n(t))=="Object"&&typeof t.callee=="function"?"Arguments":s}},function(e,t,r){var n=r(12).f;var i=r(13);var a=r(2)("toStringTag");e.exports=function(e,t,r){if(e&&!i(e=r?e:e.prototype,a))n(e,a,{configurable:true,value:t})}},function(e,t,r){"use strict";var n=r(15);function i(e){var t,r;this.promise=new e(function(e,n){if(t!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");t=e;r=n});this.resolve=n(t);this.reject=n(r)}e.exports.f=function(e){return new i(e)}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;var i=Array.isArray;var a=function(){var e=[];for(var t=0;t<256;++t){e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase())}return e}();var o=function e(t){while(t.length>1){var r=t.pop();var n=r.obj[r.prop];if(i(n)){var a=[];for(var o=0;o<n.length;++o){if(typeof n[o]!=="undefined"){a.push(n[o])}}r.obj[r.prop]=a}}};var s=function e(t,r){var n=r&&r.plainObjects?Object.create(null):{};for(var i=0;i<t.length;++i){if(typeof t[i]!=="undefined"){n[i]=t[i]}}return n};var u=function e(t,r,a){if(!r){return t}if(typeof r!=="object"){if(i(t)){t.push(r)}else if(t&&typeof t==="object"){if(a&&(a.plainObjects||a.allowPrototypes)||!n.call(Object.prototype,r)){t[r]=true}}else{return[t,r]}return t}if(!t||typeof t!=="object"){return[t].concat(r)}var o=t;if(i(t)&&!i(r)){o=s(t,a)}if(i(t)&&i(r)){r.forEach(function(r,i){if(n.call(t,i)){var o=t[i];if(o&&typeof o==="object"&&r&&typeof r==="object"){t[i]=e(o,r,a)}else{t.push(r)}}else{t[i]=r}});return t}return Object.keys(r).reduce(function(t,i){var o=r[i];if(n.call(t,i)){t[i]=e(t[i],o,a)}else{t[i]=o}return t},o)};var l=function e(t,r){return Object.keys(r).reduce(function(e,t){e[t]=r[t];return e},t)};var c=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1"){return n.replace(/%[0-9a-f]{2}/gi,unescape)}try{return decodeURIComponent(n)}catch(e){return n}};var f=function e(t,r,n){if(t.length===0){return t}var i=t;if(typeof t==="symbol"){i=Symbol.prototype.toString.call(t)}else if(typeof t!=="string"){i=String(t)}if(n==="iso-8859-1"){return escape(i).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"})}var o="";for(var s=0;s<i.length;++s){var u=i.charCodeAt(s);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122){o+=i.charAt(s);continue}if(u<128){o=o+a[u];continue}if(u<2048){o=o+(a[192|u>>6]+a[128|u&63]);continue}if(u<55296||u>=57344){o=o+(a[224|u>>12]+a[128|u>>6&63]+a[128|u&63]);continue}s+=1;u=65536+((u&1023)<<10|i.charCodeAt(s)&1023);o+=a[240|u>>18]+a[128|u>>12&63]+a[128|u>>6&63]+a[128|u&63]}return o};var d=function e(t){var r=[{obj:{o:t},prop:"o"}];var n=[];for(var i=0;i<r.length;++i){var a=r[i];var s=a.obj[a.prop];var u=Object.keys(s);for(var l=0;l<u.length;++l){var c=u[l];var f=s[c];if(typeof f==="object"&&f!==null&&n.indexOf(f)===-1){r.push({obj:s,prop:c});n.push(f)}}}o(r);return t};var p=function e(t){return Object.prototype.toString.call(t)==="[object RegExp]"};var h=function e(t){if(!t||typeof t!=="object"){return false}return!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))};var v=function e(t,r){return[].concat(t,r)};e.exports={arrayToObject:s,assign:l,combine:v,compact:d,decode:c,encode:f,isBuffer:h,isRegExp:p,merge:u}},function(e,t,r){"use strict";var n=r(89);var i=r(90);var a=r(48);e.exports={formats:a,parse:i,stringify:n}},function(e,t,r){r(52);e.exports=r(3).Object.assign},function(e,t){e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},function(e,t,r){var n=r(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return n(e)=="String"?e.split(""):Object(e)}},function(e,t,r){var n=r(25);var i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(24);e.exports=function(e){return Object(n(e))}},function(e,t,r){r(61);e.exports=r(3).Object.values},function(e,t,r){r(63);r(64);r(70);r(74);r(86);r(87);e.exports=r(3).Promise},function(e,t,r){"use strict";var n=r(23);var i=r(6);var a=r(9);var o=r(7);var s=r(10);var u=r(66);var l=r(28);var c=r(69);var f=r(2)("iterator");var d=!([].keys&&"next"in[].keys());var p="@@iterator";var h="keys";var v="values";var y=function(){return this};e.exports=function(e,t,r,m,g,_,b){u(r,t,m);var T=function(e){if(!d&&e in k)return k[e];switch(e){case h:return function t(){return new r(this,e)};case v:return function t(){return new r(this,e)}}return function t(){return new r(this,e)}};var S=t+" Iterator";var w=g==v;var E=false;var k=e.prototype;var P=k[f]||k[p]||g&&k[g];var O=P||T(g);var C=g?!w?O:T("entries"):undefined;var A=t=="Array"?k.entries||P:P;var x,I,L;if(A){L=c(A.call(new e));if(L!==Object.prototype&&L.next){l(L,S,true);if(!n&&typeof L[f]!="function")o(L,f,y)}}if(w&&P&&P.name!==v){E=true;O=function e(){return P.call(this)}}if((!n||b)&&(d||E||!k[f])){o(k,f,O)}s[t]=O;s[S]=y;if(g){x={values:w?O:T(v),keys:_?O:T(h),entries:C};if(b)for(I in x){if(!(I in k))a(k,I,x[I])}else i(i.P+i.F*(d||E),t,x)}return x}},function(e,t,r){var n=r(1).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(4);var i=r(15);var a=r(2)("species");e.exports=function(e,t){var r=n(e).constructor;var o;return r===undefined||(o=n(r)[a])==undefined?t:i(o)}},function(e,t,r){var n=r(14);var i=r(80);var a=r(42);var o=r(20);var s=r(1);var u=s.process;var l=s.setImmediate;var c=s.clearImmediate;var f=s.MessageChannel;var d=s.Dispatch;var p=0;var h={};var v="onreadystatechange";var y,m,g;var _=function(){var e=+this;if(h.hasOwnProperty(e)){var t=h[e];delete h[e];t()}};var b=function(e){_.call(e.data)};if(!l||!c){l=function e(t){var r=[];var n=1;while(arguments.length>n)r.push(arguments[n++]);h[++p]=function(){i(typeof t=="function"?t:Function(t),r)};y(p);return p};c=function e(t){delete h[t]};if(r(18)(u)=="process"){y=function(e){u.nextTick(n(_,e,1))}}else if(d&&d.now){y=function(e){d.now(n(_,e,1))}}else if(f){m=new f;g=m.port2;m.port1.onmessage=b;y=n(g.postMessage,g,1)}else if(s.addEventListener&&typeof postMessage=="function"&&!s.importScripts){y=function(e){s.postMessage(e+"","*")};s.addEventListener("message",b,false)}else if(v in o("script")){y=function(e){a.appendChild(o("script"))[v]=function(){a.removeChild(this);_.call(e)}}}else{y=function(e){setTimeout(n(_,e,1),0)}}}e.exports={set:l,clear:c}},function(e,t){e.exports=function(e){try{return{e:false,v:e()}}catch(e){return{e:true,v:e}}}},function(e,t,r){var n=r(4);var i=r(8);var a=r(29);e.exports=function(e,t){n(e);if(i(t)&&t.constructor===e)return t;var r=a.f(e);var o=r.resolve;o(t);return r.promise}},function(e,t){(function(e){"use strict";if(e.fetch){return}var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer){var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var n=function(e){return e&&DataView.prototype.isPrototypeOf(e)};var i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1}}function a(e){if(typeof e!=="string"){e=String(e)}if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e)){throw new TypeError("Invalid character in header field name")}return e.toLowerCase()}function o(e){if(typeof e!=="string"){e=String(e)}return e}function s(e){var r={next:function(){var t=e.shift();return{done:t===undefined,value:t}}};if(t.iterable){r[Symbol.iterator]=function(){return r}}return r}function u(e){this.map={};if(e instanceof u){e.forEach(function(e,t){this.append(t,e)},this)}else if(Array.isArray(e)){e.forEach(function(e){this.append(e[0],e[1])},this)}else if(e){Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}}u.prototype.append=function(e,t){e=a(e);t=o(t);var r=this.map[e];this.map[e]=r?r+","+t:t};u.prototype["delete"]=function(e){delete this.map[a(e)]};u.prototype.get=function(e){e=a(e);return this.has(e)?this.map[e]:null};u.prototype.has=function(e){return this.map.hasOwnProperty(a(e))};u.prototype.set=function(e,t){this.map[a(e)]=o(t)};u.prototype.forEach=function(e,t){for(var r in this.map){if(this.map.hasOwnProperty(r)){e.call(t,this.map[r],r,this)}}};u.prototype.keys=function(){var e=[];this.forEach(function(t,r){e.push(r)});return s(e)};u.prototype.values=function(){var e=[];this.forEach(function(t){e.push(t)});return s(e)};u.prototype.entries=function(){var e=[];this.forEach(function(t,r){e.push([r,t])});return s(e)};if(t.iterable){u.prototype[Symbol.iterator]=u.prototype.entries}function l(e){if(e.bodyUsed){return Promise.reject(new TypeError("Already read"))}e.bodyUsed=true}function c(e){return new Promise(function(t,r){e.onload=function(){t(e.result)};e.onerror=function(){r(e.error)}})}function f(e){var t=new FileReader;var r=c(t);t.readAsArrayBuffer(e);return r}function d(e){var t=new FileReader;var r=c(t);t.readAsText(e);return r}function p(e){var t=new Uint8Array(e);var r=new Array(t.length);for(var n=0;n<t.length;n++){r[n]=String.fromCharCode(t[n])}return r.join("")}function h(e){if(e.slice){return e.slice(0)}else{var t=new Uint8Array(e.byteLength);t.set(new Uint8Array(e));return t.buffer}}function v(){this.bodyUsed=false;this._initBody=function(e){this._bodyInit=e;if(!e){this._bodyText=""}else if(typeof e==="string"){this._bodyText=e}else if(t.blob&&Blob.prototype.isPrototypeOf(e)){this._bodyBlob=e}else if(t.formData&&FormData.prototype.isPrototypeOf(e)){this._bodyFormData=e}else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)){this._bodyText=e.toString()}else if(t.arrayBuffer&&t.blob&&n(e)){this._bodyArrayBuffer=h(e.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))){this._bodyArrayBuffer=h(e)}else{throw new Error("unsupported BodyInit type")}if(!this.headers.get("content-type")){if(typeof e==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(t.blob){this.blob=function(){var e=l(this);if(e){return e}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return l(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(f)}}}this.text=function(){var e=l(this);if(e){return e}if(this._bodyBlob){return d(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(p(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(t.formData){this.formData=function(){return this.text().then(_)}}this.json=function(){return this.text().then(JSON.parse)};return this}var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}function g(e,t){t=t||{};var r=t.body;if(e instanceof g){if(e.bodyUsed){throw new TypeError("Already read")}this.url=e.url;this.credentials=e.credentials;if(!t.headers){this.headers=new u(e.headers)}this.method=e.method;this.mode=e.mode;if(!r&&e._bodyInit!=null){r=e._bodyInit;e.bodyUsed=true}}else{this.url=String(e)}this.credentials=t.credentials||this.credentials||"omit";if(t.headers||!this.headers){this.headers=new u(t.headers)}this.method=m(t.method||this.method||"GET");this.mode=t.mode||this.mode||null;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&r){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(r)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})};function _(e){var t=new FormData;e.trim().split("&").forEach(function(e){if(e){var r=e.split("=");var n=r.shift().replace(/\+/g," ");var i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}});return t}function b(e){var t=new u;var r=e.replace(/\r?\n[\t ]+/g," ");r.split(/\r?\n/).forEach(function(e){var r=e.split(":");var n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}});return t}v.call(g.prototype);function T(e,t){if(!t){t={}}this.type="default";this.status=t.status===undefined?200:t.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in t?t.statusText:"OK";this.headers=new u(t.headers);this.url=t.url||"";this._initBody(e)}v.call(T.prototype);T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})};T.error=function(){var e=new T(null,{status:0,statusText:""});e.type="error";return e};var S=[301,302,303,307,308];T.redirect=function(e,t){if(S.indexOf(t)===-1){throw new RangeError("Invalid status code")}return new T(null,{status:t,headers:{location:e}})};e.Headers=u;e.Request=g;e.Response=T;e.fetch=function(e,r){return new Promise(function(n,i){var a=new g(e,r);var o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:b(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new T(t,e))};o.onerror=function(){i(new TypeError("Network request failed"))};o.ontimeout=function(){i(new TypeError("Network request failed"))};o.open(a.method,a.url,true);if(a.credentials==="include"){o.withCredentials=true}else if(a.credentials==="omit"){o.withCredentials=false}if("responseType"in o&&t.blob){o.responseType="blob"}a.headers.forEach(function(e,t){o.setRequestHeader(t,e)});o.send(typeof a._bodyInit==="undefined"?null:a._bodyInit)})};e.fetch.polyfill=true})(typeof self!=="undefined"?self:this)},function(e,t,r){"use strict";var n=String.prototype.replace;var i=/%20/g;var a=r(30);var o={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=a.assign({default:o.RFC3986,formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return String(e)}}},o)},function(e,t,r){(function(t){function n(){var e=a();if(e){return e}else if(typeof navigator!=="undefined"){return o(navigator.userAgent)}return null}function i(e){var t=u();var r=t.filter(function(t){return t.rule&&t.rule.test(e)})[0];return r?r.name:null}function a(){var e=typeof navigator==="undefined"&&typeof t!=="undefined";return e?{name:"node",version:t.version.slice(1),os:r(94).type().toLowerCase()}:null}function o(e){var t=s();if(!e){return null}var r=t.map(function(t){var r=t.rule.exec(e);var n=r&&r[1].split(/[._]/).slice(0,3);if(n&&n.length<3){n=n.concat(n.length==1?[0,0]:[0])}return r&&{name:t.name,version:n.join(".")}}).filter(Boolean)[0]||null;if(r){r.os=i(e)}if(/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(e)){r=r||{};r.bot=true}return r}function s(){return l([["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\ ([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/]])}function u(){return l([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]])}function l(e){return e.map(function(e){return{name:e[0],rule:e[1]}})}e.exports={detect:n,detectOS:i,getNodeVersion:a,parseUserAgent:o}}).call(this,r(93))},function(t,r,n){function i(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){i=function e(t){return typeof t}}else{i=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return i(e)}t.exports=function(e){var t={};function r(n){if(t[n]){return t[n].exports}var i=t[n]={i:n,l:false,exports:{}};e[n].call(i.exports,i,i.exports,r);i.l=true;return i.exports}r.m=e;r.c=t;r.d=function(e,t,n){if(!r.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};r.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};r.t=function(e,t){if(t&1)e=r(e);if(t&8)return e;if(t&4&&i(e)==="object"&&e&&e.__esModule)return e;var n=Object.create(null);r.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var a in e){r.d(n,a,function(t){return e[t]}.bind(null,a))}return n};r.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=3)}([function(e){e.exports=JSON.parse('{"a":"0.0.25"}')},function(e,t){e.exports=n(31)},function(e,t){e.exports=n(0)},function(t,r,n){"use strict";n.r(r);function a(e,t,r,n,i,a,o){try{var s=e[a](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,i)}}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(undefined)})}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var l=function t(r){var n=this;s(this,t);u(this,"resolve",o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(r){while(1){switch(r.prev=r.next){case 0:if(!n.options.hasOwnProperty("AD_BLOCK")){r.next=2;break}return r.abrupt("return",n.options.AD_BLOCK);case 2:if(!(!e.bc||typeof e.bc.usingAdBlocker!=="function")){r.next=4;break}return r.abrupt("return",false);case 4:return r.abrupt("return",e.bc.usingAdBlocker());case 5:case"end":return r.stop()}}},t)})));this.options=r};function c(e,t,r,n,i,a,o){try{var s=e[a](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,i)}}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){c(a,n,i,o,s,"next",e)}function s(e){c(a,n,i,o,s,"throw",e)}o(undefined)})}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var h="https://market-cdn.swm.digital/v1/market/ip?apikey=web";var y=function e(t){var r=this;d(this,e);p(this,"fetch",f(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:if(!r.options.POSTCODE){a.next=2;break}return a.abrupt("return",r.options.POSTCODE);case 2:if(!r.options.DISABLE_POSTCODE_FETCH){a.next=4;break}return a.abrupt("return",null);case 4:t=r.options.POSTCODE_URL||h;a.prev=5;a.next=8;return fetch(t);case 8:n=a.sent;if(n.ok){a.next=11;break}return a.abrupt("return",2015);case 11:a.next=13;return n.json();case 13:i=a.sent;return a.abrupt("return",i.postcode);case 17:a.prev=17;a.t0=a["catch"](5);v.log.error("Fetch postcode failed",a.t0);return a.abrupt("return",2015);case 21:case"end":return a.stop()}}},e,null,[[5,17]])})));this.options=t};var m=function e(){var t="test";try{localStorage.setItem(t,t);localStorage.removeItem(t);return true}catch(e){return false}};function g(e,t,r,n,i,a,o){try{var s=e[a](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,i)}}function _(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){g(a,n,i,o,s,"next",e)}function s(e){g(a,n,i,o,s,"throw",e)}o(undefined)})}}function b(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function T(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var S="s6syw";var w="swmTelariaId";var E=function e(t,r){var n=this;b(this,e);T(this,"fetch",_(regeneratorRuntime.mark(function e(){var t,r,i,a,o,s,u;return regeneratorRuntime.wrap(function e(l){while(1){switch(l.prev=l.next){case 0:if(!(n.config.DISABLE_TELARIA||n.config.GDPR_MODE||n.options.gdprMode)){l.next=2;break}return l.abrupt("return",null);case 2:t=n.config.TELARIA_ID||S;r=n.config.TELARIA_URL||"https://".concat(t,".publishers.tremorhub.com/getTVID");i=n.config.TELARIA_STORAGE_KEY||w;a=m();if(!a){l.next=10;break}o=localStorage.getItem(i);if(!o){l.next=10;break}return l.abrupt("return",o);case 10:l.prev=10;l.next=13;return fetch(r,{credentials:"include"});case 13:s=l.sent;if(s.ok){l.next=16;break}return l.abrupt("return",null);case 16:l.next=18;return s.json();case 18:u=l.sent;if(u&&a){localStorage.setItem(i,u)}return l.abrupt("return",u);case 23:l.prev=23;l.t0=l["catch"](10);v.log.error("Fetch telaria failed",l.t0);return l.abrupt("return",null);case 27:case"end":return l.stop()}}},e,null,[[10,23]])})));this.config=t;this.options=r};function k(e,t){if(e==null)return{};var r=P(e,t);var n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++){n=a[i];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function P(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var i,a;for(a=0;a<n.length;a++){i=n[a];if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function O(e,t,r,n,i,a,o){try{var s=e[a](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,i)}}function C(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){O(a,n,i,o,s,"next",e)}function s(e){O(a,n,i,o,s,"throw",e)}o(undefined)})}}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable});r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};if(t%2){A(r,true).forEach(function(t){I(e,t,r[t])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))}else{A(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}}return e}function I(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function L(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function R(e,t,r){if(t)D(e.prototype,t);if(r)D(e,r);return e}var j=function(){function t(e,r,n){L(this,t);this._player=e;this._config=r;this._options=x({tvId:n.telariaId,appId:e.el().getAttribute("data-application-id"),accountId:e.el().getAttribute("data-account"),videoId:e.el().getAttribute("data-video-embed-id")},n);this._errorNamespace="SWMPlayer Catalog"}R(t,[{key:"fetchVideo",value:function(){var e=C(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_fetchVideoService",value:function(){var t=C(regeneratorRuntime.mark(function t(r){var n,i,a,o,s,u,l,c,f=arguments;return regeneratorRuntime.wrap(function t(d){while(1){switch(d.prev=d.next){case 0:n=f.length>1&&f[1]!==undefined?f[1]:{};i=n.headers,a=i===void 0?{}:i,o=k(n,["headers"]);s=JSON.stringify(this._options.versions);u=new Headers(x({"X-Player-Versions":e.btoa(s)},a));d.prev=4;d.next=7;return fetch(r,x({headers:u},o));case 7:l=d.sent;if(l.ok){d.next=10;break}return d.abrupt("return",null);case 10:d.next=12;return l.json();case 12:c=d.sent;if(!c.media.reference_id){c.media.reference_id=c.media.id}c.media.dfpUrl=c.dfp_url;return d.abrupt("return",c.media);case 18:d.prev=18;d.t0=d["catch"](4);this._errorFetchFailed(d.t0);return d.abrupt("return",null);case 22:case"end":return d.stop()}}},t,this,[[4,18]])}));function r(e){return t.apply(this,arguments)}return r}()},{key:"_getPpId",value:function t(){var r=this._player.el().getAttribute("data-pp-id");if(r)return r;if(this._config.LOTAME_PPID)return this._config.LOTAME_PPID;var n=e.Lotame;var i=n&&n.Profile&&n.Profile.pid;return i||null}},{key:"_errorNoId",value:function e(){return v.log.error("".concat(this._errorNamespace,": No video ID specified"))}},{key:"_errorFetchFailed",value:function e(t){var r=t.response;if(!r){return v.log.error("".concat(this._errorNamespace,": Fetching failed. Unknown error:"),t)}var n=this._player.catalog.transformCatalogError(r.status,r);return v.log.error("".concat(this._errorNamespace,": Fetching failed. Error:"),n)}}]);return t}();var M=n(1);var N=n.n(M);function U(e){if(typeof Symbol==="function"&&i(Symbol.iterator)==="symbol"){U=function e(t){return i(t)}}else{U=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)}}return U(e)}function B(e,t,r,n,i,a,o){try{var s=e[a](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,i)}}function F(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){B(a,n,i,o,s,"next",e)}function s(e){B(a,n,i,o,s,"throw",e)}o(undefined)})}}function q(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function V(e,t,r){if(t)H(e.prototype,t);if(r)H(e,r);return e}function W(e,t){if(t&&(U(t)==="object"||typeof t==="function")){return t}return z(e)}function G(e){G=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return G(e)}function z(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function X(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)Y(e,t)}function Y(e,t){Y=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return Y(e,t)}function K(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var $="https://videoservice.swm.digital";var J=function(e){X(t,e);function t(e,r,n){var i;q(this,t);i=W(this,G(t).call(this,e,r,n));K(z(i),"buildUrlParams",function(){var e={appId:i._options.appId,deviceType:i._options.deviceType||"web",platformType:i._options.platformType||"web",accountId:i._options.accountId,referenceId:i._options.videoId,deliveryId:i._options.adChoice||"ssaibeacon",custParams:i._options.custParams};if(!i._config.GDPR_MODE&&!i._options.gdprMode){e.tvId=i._options.tvId;e.deviceId=i._options.deviceId;e.advertId=i._options.userId||i._getPpId();e.pc=i._options.postcode}else{e.consent=false}return N.a.stringify(e)});i._options.videoServiceUrl=r.VIDEO_SERVICE_URL||$;i._options.custParams=n.custParams||r.DFP_CUST_PARAMS;i._errorNamespace="SWMPlayer VideoService";return i}V(t,[{key:"fetchVideo",value:function(){var e=F(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(this._options.videoId){n.next=2;break}return n.abrupt("return",this._errorNoId());case 2:t=this.buildUrlParams();r="".concat(this._options.videoServiceUrl,"/playback?").concat(t);return n.abrupt("return",this._fetchVideoService(r));case 5:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]);return t}(j);function Q(e){if(typeof Symbol==="function"&&i(Symbol.iterator)==="symbol"){Q=function e(t){return i(t)}}else{Q=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)}}return Q(e)}function Z(e,t,r,n,i,a,o){try{var s=e[a](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,i)}}function ee(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){Z(a,n,i,o,s,"next",e)}function s(e){Z(a,n,i,o,s,"throw",e)}o(undefined)})}}function te(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function ne(e,t,r){if(t)re(e.prototype,t);if(r)re(e,r);return e}function ie(e,t){if(t&&(Q(t)==="object"||typeof t==="function")){return t}return ae(e)}function ae(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function oe(e){oe=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return oe(e)}function se(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)ue(e,t)}function ue(e,t){ue=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return ue(e,t)}var le=function(e){se(t,e);function t(e,r,n){var i;te(this,t);i=ie(this,oe(t).call(this,e,r,n));i._options.ppId=i._getPpId();return i}ne(t,[{key:"fetchVideo",value:function(){var e=ee(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:t=this._options.videoId;if(t){n.next=3;break}return n.abrupt("return",this._errorNoId());case 3:n.prev=3;n.next=6;return this._getVideo(t);case 6:r=n.sent;if(r){n.next=9;break}return n.abrupt("return",null);case 9:if(!r.reference_id){r.reference_id=r.id}r.dfpUrl=this._options.dfpUrl;return n.abrupt("return",r);case 14:n.prev=14;n.t0=n["catch"](3);this._errorFetchFailed(n.t0);return n.abrupt("return",null);case 18:case"end":return n.stop()}}},e,this,[[3,14]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"_getVideo",value:function(){var e=ee(regeneratorRuntime.mark(function e(){var t=this;var r,n=arguments;return regeneratorRuntime.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:r=n.length>0&&n[0]!==undefined?n[0]:this._options.videoId;return i.abrupt("return",new Promise(function(e,n){t._player.catalog.getVideo(r,function(t,r){if(t){return n(t)}e(r)})}));case 2:case"end":return i.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]);return t}(j);var ce=n(2);var fe="ssaibeacon";var de="ssaisdk";var pe="csai";var he="vod";var ve="live";function ye(e){if(typeof Symbol==="function"&&i(Symbol.iterator)==="symbol"){ye=function e(t){return i(t)}}else{ye=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)}}return ye(e)}function me(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function _e(e,t,r){if(t)ge(e.prototype,t);if(r)ge(e,r);return e}function be(e,t){if(t&&(ye(t)==="object"||typeof t==="function")){return t}return Se(e)}function Te(e){Te=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Te(e)}function Se(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function we(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)Ee(e,t)}function Ee(e,t){Ee=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return Ee(e,t)}function ke(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var Pe="https://players.brightcove.net/videojs-ssai/1.4.3/videojs-ssai.js";var Oe="https://players.brightcove.net/videojs-ssai/1.4.3/videojs-ssai.min.js";var Ce="https://players.brightcove.net/videojs-ima3/3.2.4/videojs.ima3.js";var Ae="https://players.brightcove.net/videojs-ima3/3.2.4/videojs.ima3.min.js";var xe=function(e){we(t,e);function t(e){var r;me(this,t);r=be(this,Te(t).call(this,e));ke(Se(r),"pluginName","ads");var n=e.SSAI_UNMINIFIED_SRC?Pe:Oe;var i=e.IMA3_UNMINIFIED_SRC?Ce:Ae;r._src=[n,i];return r}_e(t,[{key:"afterVideo",value:function e(t,r){var n=r.adChoice,i=r.video,a=r.videoType;var o=i.dfpUrl||this._config.IMA3_SERVER_URL;if(n===pe&&o){return this.ima3Init(t,r)}if(a===ve)return;return this.ssaiInit(t,r)}},{key:"ssaiInit",value:function e(t,r){var n={hideOverlays:true};return this._addToQueue(function(){if(typeof t.ssai!=="function")return;t.ssai(n);if(r.chromecast){r.chromecast.on("disconnected",function(){t.ssai(n)})}t.ready(function(){var e=t.ssai();if(e&&!e.state.waiting)return;t.ads._hasThereBeenALoadStartDuringPlayerLife=true})})}},{key:"ima3Init",value:function e(t,r){var n=this;return this._addToQueue(function(){if(typeof t.ima3!=="function")return;t.ima3({adTechOrder:n._config.IMA3_AD_TECH_ORDER||["html5"],debug:n._defaults("IMA3_DEBUG",false),hardTimeouts:n._defaults("IMA3_HARD_TIMEOUTS",true),requestMode:n._config.IMA3_REQUEST_MODE||"onplay",serverUrl:r.video.dfpUrl||n._config.IMA3_SERVER_URL||"",timeout:n._config.IMA3_TIMEOUT||7e3,useMediaCuePoints:n._defaults("IMA3_USE_MEDIA_CUE_POINTS",false),vpaidMode:n._config.IMA3_VPAID_MODE||"ENABLED",showVpaidControls:n._defaults("IMA3_SHOW_VPAID_CONTROLS",true)})})}},{key:"_defaults",value:function e(t,r){return this._config.hasOwnProperty(t)?this._config[t]:r}}]);return t}(ce["VendorPlugin"]);var Ie=n(0);function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable});r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};if(t%2){Le(r,true).forEach(function(t){Re(e,t,r[t])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))}else{Le(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}}return e}function Re(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function je(e,t){return Ue(e)||Ne(e,t)||Me()}function Me(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Ne(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(i)throw a}}return r}function Ue(e){if(Array.isArray(e))return e}function Be(e,t,r,n,i,a,o){try{var s=e[a](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,i)}}function Fe(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){Be(a,n,i,o,s,"next",e)}function s(e){Be(a,n,i,o,s,"throw",e)}o(undefined)})}}function qe(e){return We(e)||Ve(e)||He()}function He(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Ve(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function We(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++){r[t]=e[t]}return r}}function Ge(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function Xe(e,t,r){if(t)ze(e.prototype,t);if(r)ze(e,r);return e}var Ye=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Ge(this,t);this.VERSION=Ie["a"];this._config=e;this._plugins=[];this._Catalog=e.USE_BRIGHTCOVE_CATALOG?le:J;this._setupPromise=null}Xe(t,[{key:"plugins",value:function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var e=[xe].concat(qe(r));this._plugins=e.map(function(e){return new e(t._config)})}},{key:"setCatalog",value:function e(t){if(t&&t.prototype instanceof j){return this._Catalog=t}return v.log.error("SWMPlayer setupCatalog: Catalog is invalid")}},{key:"init",value:function(){var e=Fe(regeneratorRuntime.mark(function e(){var t=this;var r,n,i=arguments;return regeneratorRuntime.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:r=i.length>0&&i[0]!==undefined?i[0]:true;if(!this._setupPromise)this._setupPromise=this._setup();a.next=4;return this._setupPromise;case 4:if(r){n=this._getPlayers();n.forEach(function(e){return t._run(e)})}case 5:case"end":return a.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_setup",value:function(){var t=Fe(regeneratorRuntime.mark(function t(){var r,n,i,a,o,s,u,c,f,d,p,h=arguments;return regeneratorRuntime.wrap(function t(m){while(1){switch(m.prev=m.next){case 0:r=h.length>0&&h[0]!==undefined?h[0]:{};n=new l(this._config);i=new y(this._config);a=new E(this._config,r);o=[];s={swmPlayer:this.VERSION,bc:typeof e.bc==="function"?e.bc.VERSION:null,videojs:v.VERSION};this._plugins.forEach(function(e){if(e.constructor.VERSION){s[e.pluginName]=e.constructor.VERSION}if(e.isVendor&&e._autoLoad){o.push(e.load())}});m.next=9;return Promise.all([n.resolve(),i.fetch(),a.fetch()].concat(o));case 9:u=m.sent;c=je(u,3);f=c[0];d=c[1];p=c[2];this.setupOptions={adBlock:f,postcode:d,telariaId:p,versions:s};if(this._config.GDPR_MODE){this.setupOptions.gdprMode=true}case 16:case"end":return m.stop()}}},t,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"_run",value:function(){var e=Fe(regeneratorRuntime.mark(function e(t){var r,n=arguments;return regeneratorRuntime.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:r=n.length>1&&n[1]!==undefined?n[1]:{};t.swmOptions=De({},this.setupOptions,{},r);this._adChoice(t,r);i.next=5;return this._beforeVideo(t);case 5:i.next=7;return this._loadVideo(t);case 7:i.next=9;return this._afterVideo(t);case 9:return i.abrupt("return",t);case 10:case"end":return i.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"_adChoice",value:function e(t,r){var n=t.el().getAttribute("data-ads");var i=fe;if(n===fe||n===de||n===pe){i=n}else if(r.adChoice){i=r.adChoice}else if(!this._config.DISABLE_CLIENT_ADS&&!t.swmOptions.adBlock){i=pe}if(i===fe)t.preload("none");t.swmOptions.adChoice=i;this.setupOptions.adChoice=i}},{key:"_beforeVideo",value:function(){var e=Fe(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:r.next=2;return Promise.all(this._plugins.map(function(e){return e.beforeVideo(t,t.swmOptions)}));case 2:case"end":return r.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"_loadVideo",value:function(){var e=Fe(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:if(!t.swmOptions.stopVideoLoad){a.next=2;break}return a.abrupt("return");case 2:r=new this._Catalog(t,this._config,t.swmOptions);a.next=5;return r.fetchVideo();case 5:n=a.sent;i=t.catalog.transformVideoResponse(n);t.mediainfo=i;t.swmOptions.video=i;t.swmOptions.videoType=this._getVideoType(i);t.catalog.load(i);case 11:case"end":return a.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"_afterVideo",value:function(){var e=Fe(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(t.swmOptions.video){n.next=2;break}return n.abrupt("return");case 2:r=t.swmOptions.stopVideoLoad?function(e){if(!e.bypassStopVideoLoad)return;return e.afterVideo(t,t.swmOptions)}:function(e){return e.afterVideo(t,t.swmOptions)};n.next=5;return Promise.all(this._plugins.map(r));case 5:case"end":return n.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchMetadata",value:function(){var e=Fe(regeneratorRuntime.mark(function e(t){var r,n,i,a,o=arguments;return regeneratorRuntime.wrap(function e(s){while(1){switch(s.prev=s.next){case 0:r=o.length>1&&o[1]!==undefined?o[1]:{};n=v.getPlayer(t);if(n){s.next=4;break}return s.abrupt("return",this._errorPlayerNotFound(t,"getMetadata"));case 4:i=De({},this.setupOptions,{},r);s.next=7;return Promise.all(this._plugins.map(function(e){return e.beforeMetadata&&e.beforeMetadata(n,i)}));case 7:a=new this._Catalog(n,this._config,i);return s.abrupt("return",a.fetchVideo());case 9:case"end":return s.stop()}}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadFromMetadata",value:function e(t,r){var n=v.getPlayer(t);if(!n)return this._errorPlayerNotFound(t,"loadFromMetadata");var i=n.catalog.transformVideoResponse(r);if(n.ima3&&n.ima3.settings&&i.dfpUrl){n.ima3.settings.serverUrl=i.dfpUrl}if(!n.swmOptions)n.swmOptions={};n.swmOptions.video=i;n.swmOptions.videoType=this._getVideoType(i);n.catalog.load(i)}},{key:"initPlayer",value:function(){var t=Fe(regeneratorRuntime.mark(function t(r){var n,i,a=arguments;return regeneratorRuntime.wrap(function t(o){while(1){switch(o.prev=o.next){case 0:n=a.length>1&&a[1]!==undefined?a[1]:{};if(typeof e.bc==="function")e.bc(r);if(!this._setupPromise)this._setupPromise=this._setup(n);o.next=5;return this._setupPromise;case 5:i=v.getPlayer(r);if(i){o.next=8;break}return o.abrupt("return",this._errorPlayerNotFound(r,"initPlayer"));case 8:return o.abrupt("return",this._run(i,n));case 9:case"end":return o.stop()}}},t,this)}));function r(e){return t.apply(this,arguments)}return r}()},{key:"dispose",value:function e(t){var r=v.getPlayer(t);if(!r){return this._errorPlayerNotFound(t,"dispose")}try{this._disposePlugins()}finally{r.dispose()}}},{key:"_disposePlugins",value:function e(){this._plugins.map(function(e){return e.dispose()})}},{key:"_getPlayers",value:function e(){var t=v.getAllPlayers();if(!t.length){v.log.warn("No player(s) found");return[]}return t}},{key:"_getVideoType",value:function e(t){if(t.customFields&&t.customFields.video_type){return t.customFields.video_type}return he}},{key:"_errorPlayerNotFound",value:function e(t,r){var n=typeof t==="string"?"SWMPlayer ".concat(r,": ").concat(t," not found"):"SWMPlayer ".concat(r,": node not found");return v.log.error(n)}}]);return t}();n.d(r,"Catalog",function(){return Ke});var Ke=j;var $e=r["default"]=Ye}])},function(e,t,r){r(32);r(39);r(40);r(47);e.exports=r(96)},function(e,t,r){var n=r(6);n(n.S+n.F,"Object",{assign:r(56)})},function(e,t,r){e.exports=!r(5)&&!r(19)(function(){return Object.defineProperty(r(20)("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,r){var n=r(8);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&typeof(r=e.toString)=="function"&&!n(i=r.call(e)))return i;if(typeof(r=e.valueOf)=="function"&&!n(i=r.call(e)))return i;if(!t&&typeof(r=e.toString)=="function"&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){e.exports=r(22)("native-function-to-string",Function.toString)},function(e,t,r){"use strict";var n=r(5);var i=r(16);var a=r(60);var o=r(37);var s=r(38);var u=r(34);var l=Object.assign;e.exports=!l||r(19)(function(){var e={};var t={};var r=Symbol();var n="abcdefghijklmnopqrst";e[r]=7;n.split("").forEach(function(e){t[e]=e});return l({},e)[r]!=7||Object.keys(l({},t)).join("")!=n})?function e(t,r){var l=s(t);var c=arguments.length;var f=1;var d=a.f;var p=o.f;while(c>f){var h=u(arguments[f++]);var v=d?i(h).concat(d(h)):i(h);var y=v.length;var m=0;var g;while(y>m){g=v[m++];if(!n||p.call(h,g))l[g]=h[g]}}return l}:l},function(e,t,r){var n=r(13);var i=r(17);var a=r(58)(false);var o=r(26)("IE_PROTO");e.exports=function(e,t){var r=i(e);var s=0;var u=[];var l;for(l in r)if(l!=o)n(r,l)&&u.push(l);while(t.length>s)if(n(r,l=t[s++])){~a(u,l)||u.push(l)}return u}},function(e,t,r){var n=r(17);var i=r(35);var a=r(59);e.exports=function(e){return function(t,r,o){var s=n(t);var u=i(s.length);var l=a(o,u);var c;if(e&&r!=r)while(u>l){c=s[l++];if(c!=c)return true}else for(;u>l;l++)if(e||l in s){if(s[l]===r)return e||l||0}return!e&&-1}}},function(e,t,r){var n=r(25);var i=Math.max;var a=Math.min;e.exports=function(e,t){e=n(e);return e<0?i(e+t,0):a(e,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(6);var i=r(62)(false);n(n.S,"Object",{values:function e(t){return i(t)}})},function(e,t,r){var n=r(5);var i=r(16);var a=r(17);var o=r(37).f;e.exports=function(e){return function(t){var r=a(t);var s=i(r);var u=s.length;var l=0;var c=[];var f;while(u>l){f=s[l++];if(!n||o.call(r,f)){c.push(e?[f,r[f]]:r[f])}}return c}}},function(e,t,r){"use strict";var n=r(27);var i={};i[r(2)("toStringTag")]="z";if(i+""!="[object z]"){r(9)(Object.prototype,"toString",function e(){return"[object "+n(this)+"]"},true)}},function(e,t,r){"use strict";var n=r(65)(true);r(41)(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t;var t=this._i;var r;if(t>=e.length)return{value:undefined,done:true};r=n(e,t);this._i+=r.length;return{value:r,done:false}})},function(e,t,r){var n=r(25);var i=r(24);e.exports=function(e){return function(t,r){var a=String(i(t));var o=n(r);var s=a.length;var u,l;if(o<0||o>=s)return e?"":undefined;u=a.charCodeAt(o);return u<55296||u>56319||o+1===s||(l=a.charCodeAt(o+1))<56320||l>57343?e?a.charAt(o):u:e?a.slice(o,o+2):(u-55296<<10)+(l-56320)+65536}}},function(e,t,r){"use strict";var n=r(67);var i=r(33);var a=r(28);var o={};r(7)(o,r(2)("iterator"),function(){return this});e.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)});a(e,t+" Iterator")}},function(e,t,r){var n=r(4);var i=r(68);var a=r(36);var o=r(26)("IE_PROTO");var s=function(){};var u="prototype";var l=function(){var e=r(20)("iframe");var t=a.length;var n="<";var i=">";var o;e.style.display="none";r(42).appendChild(e);e.src="javascript:";o=e.contentWindow.document;o.open();o.write(n+"script"+i+"document.F=Object"+n+"/script"+i);o.close();l=o.F;while(t--)delete l[u][a[t]];return l()};e.exports=Object.create||function e(t,r){var a;if(t!==null){s[u]=n(t);a=new s;s[u]=null;a[o]=t}else a=l();return r===undefined?a:i(a,r)}},function(e,t,r){var n=r(12);var i=r(4);var a=r(16);e.exports=r(5)?Object.defineProperties:function e(t,r){i(t);var o=a(r);var s=o.length;var u=0;var l;while(s>u)n.f(t,l=o[u++],r[l]);return t}},function(e,t,r){var n=r(13);var i=r(38);var a=r(26)("IE_PROTO");var o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=i(e);if(n(e,a))return e[a];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?o:null}},function(e,t,r){var n=r(71);var i=r(16);var a=r(9);var o=r(1);var s=r(7);var u=r(10);var l=r(2);var c=l("iterator");var f=l("toStringTag");var d=u.Array;var p={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var h=i(p),v=0;v<h.length;v++){var y=h[v];var m=p[y];var g=o[y];var _=g&&g.prototype;var b;if(_){if(!_[c])s(_,c,d);if(!_[f])s(_,f,y);u[y]=d;if(m)for(b in n)if(!_[b])a(_,b,n[b],true)}}},function(e,t,r){"use strict";var n=r(72);var i=r(73);var a=r(10);var o=r(17);e.exports=r(41)(Array,"Array",function(e,t){this._t=o(e);this._i=0;this._k=t},function(){var e=this._t;var t=this._k;var r=this._i++;if(!e||r>=e.length){this._t=undefined;return i(1)}if(t=="keys")return i(0,r);if(t=="values")return i(0,e[r]);return i(0,[r,e[r]])},"values");a.Arguments=a.Array;n("keys");n("values");n("entries")},function(e,t,r){var n=r(2)("unscopables");var i=Array.prototype;if(i[n]==undefined)r(7)(i,n,{});e.exports=function(e){i[n][e]=true}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(23);var i=r(1);var a=r(14);var o=r(27);var s=r(6);var u=r(8);var l=r(15);var c=r(75);var f=r(76);var d=r(43);var p=r(44).set;var h=r(81)();var v=r(29);var y=r(45);var m=r(82);var g=r(46);var _="Promise";var b=i.TypeError;var T=i.process;var S=T&&T.versions;var w=S&&S.v8||"";var E=i[_];var k=o(T)=="process";var P=function(){};var O,C,A,x;var I=C=v.f;var L=!!function(){try{var e=E.resolve(1);var t=(e.constructor={})[r(2)("species")]=function(e){e(P,P)};return(k||typeof PromiseRejectionEvent=="function")&&e.then(P)instanceof t&&w.indexOf("6.6")!==0&&m.indexOf("Chrome/66")===-1}catch(e){}}();var D=function(e){var t;return u(e)&&typeof(t=e.then)=="function"?t:false};var R=function(e,t){if(e._n)return;e._n=true;var r=e._c;h(function(){var n=e._v;var i=e._s==1;var a=0;var o=function(t){var r=i?t.ok:t.fail;var a=t.resolve;var o=t.reject;var s=t.domain;var u,l,c;try{if(r){if(!i){if(e._h==2)N(e);e._h=1}if(r===true)u=n;else{if(s)s.enter();u=r(n);if(s){s.exit();c=true}}if(u===t.promise){o(b("Promise-chain cycle"))}else if(l=D(u)){l.call(u,a,o)}else a(u)}else o(n)}catch(e){if(s&&!c)s.exit();o(e)}};while(r.length>a)o(r[a++]);e._c=[];e._n=false;if(t&&!e._h)j(e)})};var j=function(e){p.call(i,function(){var t=e._v;var r=M(e);var n,a,o;if(r){n=y(function(){if(k){T.emit("unhandledRejection",t,e)}else if(a=i.onunhandledrejection){a({promise:e,reason:t})}else if((o=i.console)&&o.error){o.error("Unhandled promise rejection",t)}});e._h=k||M(e)?2:1}e._a=undefined;if(r&&n.e)throw n.v})};var M=function(e){return e._h!==1&&(e._a||e._c).length===0};var N=function(e){p.call(i,function(){var t;if(k){T.emit("rejectionHandled",e)}else if(t=i.onrejectionhandled){t({promise:e,reason:e._v})}})};var U=function(e){var t=this;if(t._d)return;t._d=true;t=t._w||t;t._v=e;t._s=2;if(!t._a)t._a=t._c.slice();R(t,true)};var B=function(e){var t=this;var r;if(t._d)return;t._d=true;t=t._w||t;try{if(t===e)throw b("Promise can't be resolved itself");if(r=D(e)){h(function(){var n={_w:t,_d:false};try{r.call(e,a(B,n,1),a(U,n,1))}catch(e){U.call(n,e)}})}else{t._v=e;t._s=1;R(t,false)}}catch(e){U.call({_w:t,_d:false},e)}};if(!L){E=function e(t){c(this,E,_,"_h");l(t);O.call(this);try{t(a(B,this,1),a(U,this,1))}catch(e){U.call(this,e)}};O=function e(t){this._c=[];this._a=undefined;this._s=0;this._d=false;this._v=undefined;this._h=0;this._n=false};O.prototype=r(83)(E.prototype,{then:function e(t,r){var n=I(d(this,E));n.ok=typeof t=="function"?t:true;n.fail=typeof r=="function"&&r;n.domain=k?T.domain:undefined;this._c.push(n);if(this._a)this._a.push(n);if(this._s)R(this,false);return n.promise},catch:function(e){return this.then(undefined,e)}});A=function(){var e=new O;this.promise=e;this.resolve=a(B,e,1);this.reject=a(U,e,1)};v.f=I=function(e){return e===E||e===x?new A(e):C(e)}}s(s.G+s.W+s.F*!L,{Promise:E});r(28)(E,_);r(84)(_);x=r(3)[_];s(s.S+s.F*!L,_,{reject:function e(t){var r=I(this);var n=r.reject;n(t);return r.promise}});s(s.S+s.F*(n||!L),_,{resolve:function e(t){return g(n&&this===x?E:this,t)}});s(s.S+s.F*!(L&&r(85)(function(e){E.all(e)["catch"](P)})),_,{all:function e(t){var r=this;var n=I(r);var i=n.resolve;var a=n.reject;var o=y(function(){var e=[];var n=0;var o=1;f(t,false,function(t){var s=n++;var u=false;e.push(undefined);o++;r.resolve(t).then(function(t){if(u)return;u=true;e[s]=t;--o||i(e)},a)});--o||i(e)});if(o.e)a(o.v);return n.promise},race:function e(t){var r=this;var n=I(r);var i=n.reject;var a=y(function(){f(t,false,function(e){r.resolve(e).then(n.resolve,i)})});if(a.e)i(a.v);return n.promise}})},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||n!==undefined&&n in e){throw TypeError(r+": incorrect invocation!")}return e}},function(e,t,r){var n=r(14);var i=r(77);var a=r(78);var o=r(4);var s=r(35);var u=r(79);var l={};var c={};var t=e.exports=function(e,t,r,f,d){var p=d?function(){return e}:u(e);var h=n(r,f,t?2:1);var v=0;var y,m,g,_;if(typeof p!="function")throw TypeError(e+" is not iterable!");if(a(p))for(y=s(e.length);y>v;v++){_=t?h(o(m=e[v])[0],m[1]):h(e[v]);if(_===l||_===c)return _}else for(g=p.call(e);!(m=g.next()).done;){_=i(g,h,m.value,t);if(_===l||_===c)return _}};t.BREAK=l;t.RETURN=c},function(e,t,r){var n=r(4);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var a=e["return"];if(a!==undefined)n(a.call(e));throw t}}},function(e,t,r){var n=r(10);var i=r(2)("iterator");var a=Array.prototype;e.exports=function(e){return e!==undefined&&(n.Array===e||a[i]===e)}},function(e,t,r){var n=r(27);var i=r(2)("iterator");var a=r(10);e.exports=r(3).getIteratorMethod=function(e){if(e!=undefined)return e[i]||e["@@iterator"]||a[n(e)]}},function(e,t){e.exports=function(e,t,r){var n=r===undefined;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,r,n){var i=n(1);var a=n(44).set;var o=i.MutationObserver||i.WebKitMutationObserver;var s=i.process;var u=i.Promise;var l=n(18)(s)=="process";e.exports=function(){var e,r,n;var c=function(){var t,i;if(l&&(t=s.domain))t.exit();while(e){i=e.fn;e=e.next;try{i()}catch(t){if(e)n();else r=undefined;throw t}}r=undefined;if(t)t.enter()};if(l){n=function(){s.nextTick(c)}}else if(o&&!(i.navigator&&i.navigator.standalone)){var f=true;var d=t.createTextNode("");new o(c).observe(d,{characterData:true});n=function(){d.data=f=!f}}else if(u&&u.resolve){var p=u.resolve(undefined);n=function(){p.then(c)}}else{n=function(){a.call(i,c)}}return function(t){var i={fn:t,next:undefined};if(r)r.next=i;if(!e){e=i;n()}r=i}}},function(e,t,r){var n=r(1);var i=n.navigator;e.exports=i&&i.userAgent||""},function(e,t,r){var n=r(9);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){"use strict";var n=r(1);var i=r(12);var a=r(5);var o=r(2)("species");e.exports=function(e){var t=n[e];if(a&&t&&!t[o])i.f(t,o,{configurable:true,get:function(){return this}})}},function(e,t,r){var n=r(2)("iterator");var i=false;try{var a=[7][n]();a["return"]=function(){i=true};Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return false;var r=false;try{var a=[7];var o=a[n]();o.next=function(){return{done:r=true}};a[n]=function(){return o};e(a)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(6);var i=r(3);var a=r(1);var o=r(43);var s=r(46);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,i.Promise||a.Promise);var r=typeof e=="function";return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){"use strict";var n=r(6);var i=r(29);var a=r(45);n(n.S,"Promise",{try:function(e){var t=i.f(this);var r=a(e);(r.e?t.reject:t.resolve)(r.v);return t.promise}})},function(e,t){!function(t){"use strict";var r=Object.prototype;var n=r.hasOwnProperty;var i;var a=typeof Symbol==="function"?Symbol:{};var o=a.iterator||"@@iterator";var s=a.asyncIterator||"@@asyncIterator";var u=a.toStringTag||"@@toStringTag";var l=typeof e==="object";var c=t.regeneratorRuntime;if(c){if(l){e.exports=c}return}c=t.regeneratorRuntime=l?e.exports:{};function f(e,t,r,n){var i=t&&t.prototype instanceof g?t:g;var a=Object.create(i.prototype);var o=new I(n||[]);a._invoke=O(e,r,o);return a}c.wrap=f;function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}var p="suspendedStart";var h="suspendedYield";var v="executing";var y="completed";var m={};function g(){}function _(){}function b(){}var T={};T[o]=function(){return this};var S=Object.getPrototypeOf;var w=S&&S(S(L([])));if(w&&w!==r&&n.call(w,o)){T=w}var E=b.prototype=g.prototype=Object.create(T);_.prototype=E.constructor=b;b.constructor=_;b[u]=_.displayName="GeneratorFunction";function k(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}c.isGeneratorFunction=function(e){var t=typeof e==="function"&&e.constructor;return t?t===_||(t.displayName||t.name)==="GeneratorFunction":false};c.mark=function(e){if(Object.setPrototypeOf){Object.setPrototypeOf(e,b)}else{e.__proto__=b;if(!(u in e)){e[u]="GeneratorFunction"}}e.prototype=Object.create(E);return e};c.awrap=function(e){return{__await:e}};function P(e){function t(r,i,a,o){var s=d(e[r],e,i);if(s.type==="throw"){o(s.arg)}else{var u=s.arg;var l=u.value;if(l&&typeof l==="object"&&n.call(l,"__await")){return Promise.resolve(l.__await).then(function(e){t("next",e,a,o)},function(e){t("throw",e,a,o)})}return Promise.resolve(l).then(function(e){u.value=e;a(u)},function(e){return t("throw",e,a,o)})}}var r;function i(e,n){function i(){return new Promise(function(r,i){t(e,n,r,i)})}return r=r?r.then(i,i):i()}this._invoke=i}k(P.prototype);P.prototype[s]=function(){return this};c.AsyncIterator=P;c.async=function(e,t,r,n){var i=new P(f(e,t,r,n));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})};function O(e,t,r){var n=p;return function i(a,o){if(n===v){throw new Error("Generator is already running")}if(n===y){if(a==="throw"){throw o}return D()}r.method=a;r.arg=o;while(true){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===m)continue;return u}}if(r.method==="next"){r.sent=r._sent=r.arg}else if(r.method==="throw"){if(n===p){n=y;throw r.arg}r.dispatchException(r.arg)}else if(r.method==="return"){r.abrupt("return",r.arg)}n=v;var l=d(e,t,r);if(l.type==="normal"){n=r.done?y:h;if(l.arg===m){continue}return{value:l.arg,done:r.done}}else if(l.type==="throw"){n=y;r.method="throw";r.arg=l.arg}}}}function C(e,t){var r=e.iterator[t.method];if(r===i){t.delegate=null;if(t.method==="throw"){if(e.iterator.return){t.method="return";t.arg=i;C(e,t);if(t.method==="throw"){return m}}t.method="throw";t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=d(r,e.iterator,t.arg);if(n.type==="throw"){t.method="throw";t.arg=n.arg;t.delegate=null;return m}var a=n.arg;if(!a){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return m}if(a.done){t[e.resultName]=a.value;t.next=e.nextLoc;if(t.method!=="return"){t.method="next";t.arg=i}}else{return a}t.delegate=null;return m}k(E);E[u]="Generator";E[o]=function(){return this};E.toString=function(){return"[object Generator]"};function A(e){var t={tryLoc:e[0]};if(1 in e){t.catchLoc=e[1]}if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(A,this);this.reset(true)}c.keys=function(e){var t=[];for(var r in e){t.push(r)}t.reverse();return function r(){while(t.length){var n=t.pop();if(n in e){r.value=n;r.done=false;return r}}r.done=true;return r}};function L(e){if(e){var t=e[o];if(t){return t.call(e)}if(typeof e.next==="function"){return e}if(!isNaN(e.length)){var r=-1,a=function t(){while(++r<e.length){if(n.call(e,r)){t.value=e[r];t.done=false;return t}}t.value=i;t.done=true;return t};return a.next=a}}return{next:D}}c.values=L;function D(){return{value:i,done:true}}I.prototype={constructor:I,reset:function(e){this.prev=0;this.next=0;this.sent=this._sent=i;this.done=false;this.delegate=null;this.method="next";this.arg=i;this.tryEntries.forEach(x);if(!e){for(var t in this){if(t.charAt(0)==="t"&&n.call(this,t)&&!isNaN(+t.slice(1))){this[t]=i}}}},stop:function(){this.done=true;var e=this.tryEntries[0];var t=e.completion;if(t.type==="throw"){throw t.arg}return this.rval},dispatchException:function(e){if(this.done){throw e}var t=this;function r(r,n){s.type="throw";s.arg=e;t.next=r;if(n){t.method="next";t.arg=i}return!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];var s=o.completion;if(o.tryLoc==="root"){return r("end")}if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc");var l=n.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc){return r(o.catchLoc,true)}else if(this.prev<o.finallyLoc){return r(o.finallyLoc)}}else if(u){if(this.prev<o.catchLoc){return r(o.catchLoc,true)}}else if(l){if(this.prev<o.finallyLoc){return r(o.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}if(a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc){a=null}var o=a?a.completion:{};o.type=e;o.arg=t;if(a){this.method="next";this.next=a.finallyLoc;return m}return this.complete(o)},complete:function(e,t){if(e.type==="throw"){throw e.arg}if(e.type==="break"||e.type==="continue"){this.next=e.arg}else if(e.type==="return"){this.rval=this.arg=e.arg;this.method="return";this.next="end"}else if(e.type==="normal"&&t){this.next=t}return m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e){this.complete(r.completion,r.afterLoc);x(r);return m}}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(n.type==="throw"){var i=n.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){this.delegate={iterator:L(e),resultName:t,nextLoc:r};if(this.method==="next"){this.arg=i}return m}}}(function(){return this||typeof self==="object"&&self}()||Function("return this")())},function(e,t,r){"use strict";var n=r(30);var i=r(48);var a=Object.prototype.hasOwnProperty;var o={brackets:function e(t){return t+"[]"},comma:"comma",indices:function e(t,r){return t+"["+r+"]"},repeat:function e(t){return t}};var s=Array.isArray;var u=Array.prototype.push;var l=function(e,t){u.apply(e,s(t)?t:[t])};var c=Date.prototype.toISOString;var f=i["default"];var d={addQueryPrefix:false,allowDots:false,charset:"utf-8",charsetSentinel:false,delimiter:"&",encode:true,encoder:n.encode,encodeValuesOnly:false,format:f,formatter:i.formatters[f],indices:false,serializeDate:function e(t){return c.call(t)},skipNulls:false,strictNullHandling:false};var p=function e(t){return typeof t==="string"||typeof t==="number"||typeof t==="boolean"||typeof t==="symbol"||typeof t==="bigint"};var h=function e(t,r,i,a,o,u,c,f,h,v,y,m,g){var _=t;if(typeof c==="function"){_=c(r,_)}else if(_ instanceof Date){_=v(_)}else if(i==="comma"&&s(_)){_=_.join(",")}if(_===null){if(a){return u&&!m?u(r,d.encoder,g):r}_=""}if(p(_)||n.isBuffer(_)){if(u){var b=m?r:u(r,d.encoder,g);return[y(b)+"="+y(u(_,d.encoder,g))]}return[y(r)+"="+y(String(_))]}var T=[];if(typeof _==="undefined"){return T}var S;if(s(c)){S=c}else{var w=Object.keys(_);S=f?w.sort(f):w}for(var E=0;E<S.length;++E){var k=S[E];if(o&&_[k]===null){continue}if(s(_)){l(T,e(_[k],typeof i==="function"?i(r,k):r,i,a,o,u,c,f,h,v,y,m,g))}else{l(T,e(_[k],r+(h?"."+k:"["+k+"]"),i,a,o,u,c,f,h,v,y,m,g))}}return T};var v=function e(t){if(!t){return d}if(t.encoder!==null&&t.encoder!==undefined&&typeof t.encoder!=="function"){throw new TypeError("Encoder has to be a function.")}var r=t.charset||d.charset;if(typeof t.charset!=="undefined"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1"){throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined")}var n=i["default"];if(typeof t.format!=="undefined"){if(!a.call(i.formatters,t.format)){throw new TypeError("Unknown format option provided.")}n=t.format}var o=i.formatters[n];var u=d.filter;if(typeof t.filter==="function"||s(t.filter)){u=t.filter}return{addQueryPrefix:typeof t.addQueryPrefix==="boolean"?t.addQueryPrefix:d.addQueryPrefix,allowDots:typeof t.allowDots==="undefined"?d.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel==="boolean"?t.charsetSentinel:d.charsetSentinel,delimiter:typeof t.delimiter==="undefined"?d.delimiter:t.delimiter,encode:typeof t.encode==="boolean"?t.encode:d.encode,encoder:typeof t.encoder==="function"?t.encoder:d.encoder,encodeValuesOnly:typeof t.encodeValuesOnly==="boolean"?t.encodeValuesOnly:d.encodeValuesOnly,filter:u,formatter:o,serializeDate:typeof t.serializeDate==="function"?t.serializeDate:d.serializeDate,skipNulls:typeof t.skipNulls==="boolean"?t.skipNulls:d.skipNulls,sort:typeof t.sort==="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling==="boolean"?t.strictNullHandling:d.strictNullHandling}};e.exports=function(e,t){var r=e;var n=v(t);var i;var a;if(typeof n.filter==="function"){a=n.filter;r=a("",r)}else if(s(n.filter)){a=n.filter;i=a}var u=[];if(typeof r!=="object"||r===null){return""}var c;if(t&&t.arrayFormat in o){c=t.arrayFormat}else if(t&&"indices"in t){c=t.indices?"indices":"repeat"}else{c="indices"}var f=o[c];if(!i){i=Object.keys(r)}if(n.sort){i.sort(n.sort)}for(var d=0;d<i.length;++d){var p=i[d];if(n.skipNulls&&r[p]===null){continue}l(u,h(r[p],p,f,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}var y=u.join(n.delimiter);var m=n.addQueryPrefix===true?"?":"";if(n.charsetSentinel){if(n.charset==="iso-8859-1"){m+="utf8=%26%2310003%3B&"}else{m+="utf8=%E2%9C%93&"}}return y.length>0?m+y:""}},function(e,t,r){"use strict";var n=r(30);var i=Object.prototype.hasOwnProperty;var a={allowDots:false,allowPrototypes:false,arrayLimit:20,charset:"utf-8",charsetSentinel:false,comma:false,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:false,interpretNumericEntities:false,parameterLimit:1e3,parseArrays:true,plainObjects:false,strictNullHandling:false};var o=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})};var s="utf8=%26%2310003%3B";var u="utf8=%E2%9C%93";var l=function e(t,r){var l={};var c=r.ignoreQueryPrefix?t.replace(/^\?/,""):t;var f=r.parameterLimit===Infinity?undefined:r.parameterLimit;var d=c.split(r.delimiter,f);var p=-1;var h;var v=r.charset;if(r.charsetSentinel){for(h=0;h<d.length;++h){if(d[h].indexOf("utf8=")===0){if(d[h]===u){v="utf-8"}else if(d[h]===s){v="iso-8859-1"}p=h;h=d.length}}}for(h=0;h<d.length;++h){if(h===p){continue}var y=d[h];var m=y.indexOf("]=");var g=m===-1?y.indexOf("="):m+1;var _,b;if(g===-1){_=r.decoder(y,a.decoder,v);b=r.strictNullHandling?null:""}else{_=r.decoder(y.slice(0,g),a.decoder,v);b=r.decoder(y.slice(g+1),a.decoder,v)}if(b&&r.interpretNumericEntities&&v==="iso-8859-1"){b=o(b)}if(b&&r.comma&&b.indexOf(",")>-1){b=b.split(",")}if(i.call(l,_)){l[_]=n.combine(l[_],b)}else{l[_]=b}}return l};var c=function(e,t,r){var n=t;for(var i=e.length-1;i>=0;--i){var a;var o=e[i];if(o==="[]"&&r.parseArrays){a=[].concat(n)}else{a=r.plainObjects?Object.create(null):{};var s=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o;var u=parseInt(s,10);if(!r.parseArrays&&s===""){a={0:n}}else if(!isNaN(u)&&o!==s&&String(u)===s&&u>=0&&(r.parseArrays&&u<=r.arrayLimit)){a=[];a[u]=n}else{a[s]=n}}n=a}return n};var f=function e(t,r,n){if(!t){return}var a=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t;var o=/(\[[^[\]]*])/;var s=/(\[[^[\]]*])/g;var u=n.depth>0&&o.exec(a);var l=u?a.slice(0,u.index):a;var f=[];if(l){if(!n.plainObjects&&i.call(Object.prototype,l)){if(!n.allowPrototypes){return}}f.push(l)}var d=0;while(n.depth>0&&(u=s.exec(a))!==null&&d<n.depth){d+=1;if(!n.plainObjects&&i.call(Object.prototype,u[1].slice(1,-1))){if(!n.allowPrototypes){return}}f.push(u[1])}if(u){f.push("["+a.slice(u.index)+"]")}return c(f,r,n)};var d=function e(t){if(!t){return a}if(t.decoder!==null&&t.decoder!==undefined&&typeof t.decoder!=="function"){throw new TypeError("Decoder has to be a function.")}if(typeof t.charset!=="undefined"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1"){throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined")}var r=typeof t.charset==="undefined"?a.charset:t.charset;return{allowDots:typeof t.allowDots==="undefined"?a.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes==="boolean"?t.allowPrototypes:a.allowPrototypes,arrayLimit:typeof t.arrayLimit==="number"?t.arrayLimit:a.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel==="boolean"?t.charsetSentinel:a.charsetSentinel,comma:typeof t.comma==="boolean"?t.comma:a.comma,decoder:typeof t.decoder==="function"?t.decoder:a.decoder,delimiter:typeof t.delimiter==="string"||n.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:typeof t.depth==="number"||t.depth===false?+t.depth:a.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===true,interpretNumericEntities:typeof t.interpretNumericEntities==="boolean"?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:typeof t.parameterLimit==="number"?t.parameterLimit:a.parameterLimit,parseArrays:t.parseArrays!==false,plainObjects:typeof t.plainObjects==="boolean"?t.plainObjects:a.plainObjects,strictNullHandling:typeof t.strictNullHandling==="boolean"?t.strictNullHandling:a.strictNullHandling}};e.exports=function(e,t){var r=d(t);if(e===""||e===null||typeof e==="undefined"){return r.plainObjects?Object.create(null):{}}var i=typeof e==="string"?l(e,r):e;var a=r.plainObjects?Object.create(null):{};var o=Object.keys(i);for(var s=0;s<o.length;++s){var u=o[s];var c=f(u,i[u],r);a=n.merge(a,c,r)}return n.compact(a)}},function(r,n,i){(function(){var n=false;!function(e,t){if(true)r.exports=t(i(92));else{var n,a}}(this,function(r){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(r,n,i){!function(){!function(e,t){r.exports=t()}(0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function i(e,t){var r=D(e)||p(e)?n(e.length,String):[],i=r.length,a=!!i;for(var o in e)!t&&!O.call(e,o)||a&&("length"==o||l(o,i))||r.push(o);return r}function a(e,t,r){var n=e[t];O.call(e,t)&&d(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function o(e){if(!f(e))return x(e);var t=[];for(var r in Object(e))O.call(e,r)&&"constructor"!=r&&t.push(r);return t}function s(e,t){return t=I(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=I(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=o,r(e,this,s)}}function u(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],u=n?n(r[s],e[s],s,r,e):void 0;a(r,s,void 0===u?e[s]:u)}return r}function l(e,t){return!!(t=null==t?T:t)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function c(e,t,r){if(!g(r))return!1;var n=typeof t;return!!("number"==n?h(r)&&l(t,r.length):"string"==n&&t in r)&&d(r[t],e)}function f(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||P)}function d(e,t){return e===t||e!==e&&t!==t}function p(e){return v(e)&&O.call(e,"callee")&&(!A.call(e,"callee")||C.call(e)==S)}function h(e){return null!=e&&m(e.length)&&!y(e)}function v(e){return _(e)&&h(e)}function y(e){var t=g(e)?C.call(e):"";return t==w||t==E}function m(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=T}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){return!!e&&"object"==typeof e}function b(e){return h(e)?i(e):o(e)}var T=9007199254740991,S="[object Arguments]",w="[object Function]",E="[object GeneratorFunction]",k=/^(?:0|[1-9]\d*)$/,P=Object.prototype,O=P.hasOwnProperty,C=P.toString,A=P.propertyIsEnumerable,x=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),I=Math.max,L=!A.call({valueOf:1},"valueOf"),D=Array.isArray,R=function(e){return s(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&c(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s)}return t})}(function(e,t){if(L||f(t)||h(t))return void u(t,b(t),e);for(var r in t)O.call(t,r)&&a(e,r,t[r])});e.exports=R},function(e,t,r){"use strict";function n(e,t,r){r=void 0===r?1:r,e[t]=e[t]||0,e[t]+=r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(t,r,n){(function(r){var n;n="undefined"!=typeof e?e:void 0!==r?r:"undefined"!=typeof self?self:{},t.exports=n}).call(r,n(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),i=function(e){return e&&e.__esModule?e:{default:e}}(n),a=i.default.methodFactory;i.default.methodFactory=function(e,t,r){var n=a(e,t,r);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);n.apply(void 0,e)}},i.default.setLevel(i.default.getLevel()),t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractHostnameAndDomain=void 0;var n=r(7),i=function(e){return e&&e.__esModule?e:{default:e}}(n),a=function(e){var t=i.default.createElement("a");t.href=e;var r=t.hostname,n=r.match(/[^\.]+\.[^\.]+$/),a=void 0;return n&&n.length&&(a=n[0]),[r,a]};t.extractHostnameAndDomain=a},function(t,r){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof e&&(n=e)}t.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},i=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)};t.generateUUID=n,t.generateShortID=i},function(r,n,i){(function(n){var a,o=void 0!==n?n:"undefined"!=typeof e?e:{},s=i(20);"undefined"!=typeof t?a=t:(a=o["__GLOBAL_DOCUMENT_CACHE@4"])||(a=o["__GLOBAL_DOCUMENT_CACHE@4"]=s),r.exports=a}).call(n,i(5))},function(e,t,r){"use strict";function n(e){e=e||"",e=e.match(/[^\r\n]+/g)||[];for(var t={},r=0;r<e.length;r++){var n=e[r].split(/\s*:\s*(.+)/);3===n.length&&(t[n[0]]=n[1])}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.findMediaElement=r.getMuxPlayerId=void 0;var i=n(6),a=function(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||(0,i.generateShortID)()),e.muxId):e},o=function(e){var r=void 0;return e&&void 0!==e.nodeName?(r=e,e=a(r)):r=t.querySelector(e),[r,e,r&&r.nodeName?r.nodeName.toLowerCase():""]};r.getMuxPlayerId=a,r.findMediaElement=o},function(e,t,r){"use strict";function n(){return"1"===(a.default.doNotTrack||a.default.navigator.doNotTrack||a.default.navigator.msDoNotTrack)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n=r(40),i=r(41),a=r(14);e.exports={formats:a,parse:i,stringify:n}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],i=0;i<t.length;++i)void 0!==t[i]&&n.push(t[i]);r.obj[r.prop]=n}}return t};t.arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},t.merge=function(e,r,i){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var a=e;return Array.isArray(e)&&!Array.isArray(r)&&(a=t.arrayToObject(e,i)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,a){n.call(e,a)?e[a]&&"object"==typeof e[a]?e[a]=t.merge(e[a],r,i):e.push(r):e[a]=r}),e):Object.keys(r).reduce(function(e,a){var o=r[a];return n.call(e,a)?e[a]=t.merge(e[a],o,i):e[a]=o,e},a)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var a=t.charCodeAt(n);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=t.charAt(n):a<128?r+=i[a]:a<2048?r+=i[192|a>>6]+i[128|63&a]:a<55296||a>=57344?r+=i[224|a>>12]+i[128|a>>6&63]+i[128|63&a]:(n+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(n)),r+=i[240|a>>18]+i[128|a>>12&63]+i[128|a>>6&63]+i[128|63&a])}return r},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],s=Object.keys(o),u=0;u<s.length;++u){var l=s[u],c=o[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:l}),r.push(c))}return a(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,r){"use strict";var n=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function a(e){var t={},r={};return Object.keys(e).forEach(function(n){var i=!1;if(e.hasOwnProperty(n)&&void 0!==e[n]){var a=n.split("_"),o=a[0],u=f[o];u||(s.default.info("Data key word `"+a[0]+"` not expected in "+n),u=o+"_"),a.splice(1).forEach(function(e){"url"===e&&(i=!0),p[e]?u+=p[e]:(s.default.info("Data key word `"+e+"` not expected in "+n),u+="_"+e+"_")}),i?r[u]=e[n]:t[u]=e[n]}}),(0,l.default)(t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=r(3),s=n(o),u=r(0),l=n(u),c={a:"env",b:"beacon",d:"ad",e:"event",f:"experiment",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"},f=i(c),d={ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cd:"code",cg:"category",cn:"config",co:"count",ce:"counter",cp:"complete",ct:"content",cu:"current",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",du:"duration",dv:"device",ec:"encoding",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",fi:"first",fm:"family",ft:"format",fq:"frequency",fr:"frame",fs:"fullscreen",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mx:"mux",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",ph:"playhead",pi:"plugin",pl:"preroll",po:"poster",pr:"preload",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"},p=i(d)},function(e,t,r){"use strict";e.exports=r(17).default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=r(2),o=n(a),s=r(9),u=r(3),l=n(u),c=r(10),f=n(c),d=r(19),p=n(d),h=r(48),v=n(h),y=r(49),m=n(y),g={},_=function e(t){var r=arguments;"string"==typeof t?e.hasOwnProperty(t)?o.default.setTimeout(function(){r=Array.prototype.splice.call(r,1),e[t].apply(null,r)},0):l.default.warn("`"+t+"` is an unknown task"):"function"==typeof t?o.default.setTimeout(function(){t(e)},0):l.default.warn("`"+t+"` is invalid.")};_.loaded=Date.now(),_.VERSION="2.5.0",_.API_VERSION="2.0",_.PLAYER_TRACKED=!1,_.monitor=function(e,t){return(0,v.default)(_,e,t)},_.destroyMonitor=function(e){var t=(0,s.findMediaElement)(e),r=i(t,1),n=r[0];n&&n.mux&&"function"==typeof n.mux.destroy?n.mux.destroy():l.default.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},_.addHLSJS=function(e,t){var r=(0,s.getMuxPlayerId)(e);g[r]?g[r].addHLSJS(t):l.default.error("A monitor for `"+r+"` has not been initialized.")},_.addDashJS=function(e,t){var r=(0,s.getMuxPlayerId)(e);g[r]?g[r].addDashJS(t):l.default.error("A monitor for `"+r+"` has not been initialized.")},_.removeHLSJS=function(e){var t=(0,s.getMuxPlayerId)(e);g[t]?g[t].removeHLSJS():l.default.error("A monitor for `"+t+"` has not been initialized.")},_.removeDashJS=function(e,t){var r=(0,s.getMuxPlayerId)(e);g[r]?g[r].removeDashJS(t):l.default.error("A monitor for `"+r+"` has not been initialized.")},_.init=function(e,t){var r=(0,s.getMuxPlayerId)(e);g[r]=new p.default(_,r,t)},_.emit=function(e,t,r){var n=(0,s.getMuxPlayerId)(e);g[n]?(g[n].emit(t,r),"destroy"===t&&delete g[n]):l.default.error("A monitor for `"+n+"` has not been initialized.")},(0,f.default)()&&l.default.info("The browser's Do Not Track flag is enabled - Mux beaconing may be disabled."),o.default.addEventListener("unload",function(){_.WINDOW_UNLOADING=!0},!1),_.checkDoNotTrack=f.default,_.log=l.default,_.utils=m.default,t.default=_},function(t,r,n){var i,a;!function(e,o){"use strict";i=o,void 0!==(a="function"==typeof i?i.call(r,n,r,t):i)&&(t.exports=a)}(0,function(){"use strict";function t(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function r(e){return"debug"===e&&(e="log"),typeof console!==u&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):s)}function n(e,t){for(var r=0;r<l.length;r++){var n=l[r];this[n]=r<e?s:this.methodFactory(n,e,t)}this.log=this.debug}function i(e,t,r){return function(){typeof console!==u&&(n.call(this,t,r),this[e].apply(this,arguments))}}function a(e,t,n){return r(e)||i.apply(this,arguments)}function o(t,r,i){function o(t){var r=(l[t]||"silent").toUpperCase();if(typeof e!==u){try{return void(e.localStorage[d]=r)}catch(t){}try{e.document.cookie=encodeURIComponent(d)+"="+r+";"}catch(t){}}}function s(){var t;if(typeof e!==u){try{t=e.localStorage[d]}catch(t){}if(typeof t===u)try{var r=e.document.cookie,n=r.indexOf(encodeURIComponent(d)+"=");n&&(t=/^([^;]+)/.exec(r.slice(n))[1])}catch(t){}return void 0===f.levels[t]&&(t=void 0),t}}var c,f=this,d="loglevel";t&&(d+=":"+t),f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=i||a,f.getLevel=function(){return c},f.setLevel=function(e,r){if("string"==typeof e&&void 0!==f.levels[e.toUpperCase()]&&(e=f.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=f.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(c=e,!1!==r&&o(e),n.call(f,e,t),typeof console===u&&e<f.levels.SILENT)return"No console available for logging"},f.setDefaultLevel=function(e){s()||f.setLevel(e,!1)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)};var p=s();null==p&&(p=null==r?"WARN":r),f.setLevel(p,!1)}var s=function(){},u="undefined",l=["trace","debug","info","warn","error"],c=new o,f={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new o(e,c.getLevel(),c.methodFactory)),t};var d=typeof e!==u?e.log:void 0;return c.noConflict=function(){return typeof e!==u&&e.log===c&&(e.log=d),c},c})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=r(3),o=n(a),s=r(0),u=n(s),l=r(6),c=r(4),f=r(2),d=n(f),p=r(1),h=n(p),v=r(21),y=n(v),m=r(23),g=r(24),_=r(25),b=n(_),T=r(26),S=n(T),w=r(27),E=n(w),k=r(28),P=n(k),O=r(29),C=n(O),A=r(30),x=n(A),I=r(31),L=n(I),D=r(32),R=n(D),j=r(33),M=n(j),N=r(34),U=n(N),B=r(35),F=n(B),q=r(36),H=n(q),V=r(37),W=n(V),G=r(38),z=n(G),X=r(47),Y=n(X),K=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled"],$=function(e,t,r){var n=this;this.DOM_CONTENT_LOADED_EVENT_END=d.default.performance&&d.default.performance.timing.domContentLoadedEventEnd,this.NAVIGATION_START=d.default.performance&&d.default.performance.timing.navigationStart;var i={debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,sampleRate:1,beaconDomain:"litix.io",disableCookies:!1,respectDoNotTrack:!0};this.mux=e,this.id=t,r=(0,u.default)(i,r),r.data=r.data||{},r.data.property_key&&(r.data.env_key=r.data.property_key,delete r.data.property_key),o.default.setLevel(r.debug?"debug":"warn"),this.getPlayheadTime=r.getPlayheadTime,this.getStateData=r.getStateData||function(){},this.getAdData=r.getAdData||function(){},this.minimumRebufferDuration=r.minimumRebufferDuration,this.sustainedRebufferThreshold=r.sustainedRebufferThreshold,this.playbackHeartbeatTime=r.playbackHeartbeatTime,this.playbackEventDispatcher=new z.default(e,r.data.env_key,r),this.data={player_instance_id:(0,l.generateShortID)(),mux_sample_rate:r.sampleRate,beacon_domain:r.beaconDomain},this.data.view_sequence_number=1,this.data.player_sequence_number=1,this.oldEmit=this.emit,this.emit=function(e,t){t=(0,u.default)({viewer_time:Date.now()},t),this.oldEmit(e,t)},this.on("viewinit",function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),(0,u.default)(this.data,t),this._initializeViewData();var r=function(){void 0===this.data.view_start&&(this.data.view_start=Date.now(),this.emit("viewstart"))}.bind(this);this.one("play",r),this.one("adbreakstart",r)}),this.on("videochange",function(e,t){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",t)}),this.on("destroy",this.destroy);var a=this.destroy.bind(this);d.default.addEventListener("unload",a,!1),this.on("destroy",function(){d.default.removeEventListener("unload",a)}),this.on("playerready",function(e,t){(0,u.default)(this.data,t)}),K.forEach(function(e){n.on(e,function(t,r){0!==e.indexOf("ad")&&this._updateStateData(),(0,u.default)(this.data,r),this._sanitizeData()}),n.on("after"+e,function(){this.send(e)})}),this.on("viewend",function(e,t){(0,u.default)(n.data,t)});var s=function(e){var t=Date.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};this.one("playerready",s),E.default.apply(this),W.default.apply(this),U.default.apply(this),x.default.apply(this),S.default.apply(this),M.default.apply(this),P.default.apply(this),C.default.apply(this),F.default.apply(this),L.default.apply(this),R.default.apply(this),H.default.apply(this),Y.default.apply(this),r.hlsjs&&this.addHLSJS(r),r.dashjs&&this.addDashJS(r),this.emit("viewinit",r.data)};(0,u.default)($.prototype,b.default.prototype),(0,u.default)($.prototype,x.default.prototype),(0,u.default)($.prototype,U.default.prototype),(0,u.default)($.prototype,S.default.prototype),(0,u.default)($.prototype,P.default.prototype),(0,u.default)($.prototype,C.default.prototype),(0,u.default)($.prototype,F.default.prototype),(0,u.default)($.prototype,L.default.prototype),(0,u.default)($.prototype,R.default.prototype),$.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),d.default.clearTimeout(this._heartBeatTimeout))},$.prototype.send=function(e){var t=(0,u.default)({},this.data);if(1===t.player_error_code&&(delete t.player_error_code,delete t.player_error_message),t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var r=(0,c.extractHostnameAndDomain)(t.video_source_url),n=i(r,2),a=n[0],o=n[1];t.video_source_domain=o,t.video_source_hostname=a}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat()},$.prototype._updateStateData=function(){(0,u.default)(this.data,this.getStateData()),this.getPlayheadTime&&(this.data.player_playhead_time=this.getPlayheadTime()),this._sanitizeData()},$.prototype._sanitizeData=function(){var e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time"].forEach(function(t){var r=parseInt(e.data[t],10);e.data[t]=isNaN(r)?void 0:r})},$.prototype._resetVideoData=function(e,t){var r=this;Object.keys(this.data).forEach(function(e){0===e.indexOf("video_")&&delete r.data[e]})},$.prototype._resetViewData=function(){var e=this;Object.keys(this.data).forEach(function(t){0===t.indexOf("view_")&&delete e.data[t]}),this.data.view_sequence_number=1},$.prototype._resetErrorData=function(e,t){delete this.data.player_error_code,delete this.data.player_error_message},$.prototype._initializeViewData=function(){var e=this,t=this.data.view_id=(0,l.generateUUID)();this.data.video_id||(this.data.video_id=(0,y.default)(this.data.player_source_url));var r=function(){t===e.data.view_id&&(0,h.default)(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",r):r()},$.prototype._restartHeartBeat=function(){var e=this;d.default.clearTimeout(this._heartBeatTimeout),this.viewErrored||(this._heartBeatTimeout=d.default.setTimeout(function(){e.data.player_is_paused||e.emit("hb")},1e4))},$.prototype.addHLSJS=function(e){return e.hlsjs?this.hlsjs?void this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=e.hlsjs,void(0,m.monitorHLSJS)(this.mux,this.id,e.hlsjs,{},e.Hls||d.default.Hls)):void this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")},$.prototype.removeHLSJS=function(){this.hlsjs&&((0,m.stopMonitoringHLSJS)(this.id,this.hlsjs),this.hlsjs=void 0)},$.prototype.addDashJS=function(e){return e.dashjs?this.dashjs?void this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=e.dashjs,void(0,g.monitorDashJS)(this.mux,this.id,e.dashjs)):void this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")},$.prototype.removeDashJS=function(){this.dashjs&&((0,g.stopMonitoringDashJS)(this.id,this.dashjs),this.dashjs=void 0)},t.default=$},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=o.default.createElement("a");t.href=e;var r=t.pathname.replace(/\.[^\/.]+$/,"");return u.default.encode(t.host+r).split("=")[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(7),o=n(a),s=r(22),u=n(s)},function(e,t,r){(function(e,n){var i;!function(n){var a=("object"==typeof e&&e&&e.exports,function(e){this.message=e});a.prototype=new Error,a.prototype.name="InvalidCharacterError";var o=function(e){throw new a(e)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,l=function(e){e=String(e).replace(u,"");var t=e.length;t%4==0&&(e=e.replace(/==?$/,""),t=e.length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&o("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,i=0,a="",l=-1;++l<t;)n=s.indexOf(e.charAt(l)),r=i%4?64*r+n:n,i++%4&&(a+=String.fromCharCode(255&r>>(-2*i&6)));return a},c=function(e){e=String(e),/[^\0-\xFF]/.test(e)&&o("The string to be encoded contains characters outside of the Latin1 range.");for(var t,r,n,i,a=e.length%3,u="",l=-1,c=e.length-a;++l<c;)t=e.charCodeAt(l)<<16,r=e.charCodeAt(++l)<<8,n=e.charCodeAt(++l),i=t+r+n,u+=s.charAt(i>>18&63)+s.charAt(i>>12&63)+s.charAt(i>>6&63)+s.charAt(63&i);return 2==a?(t=e.charCodeAt(l)<<8,r=e.charCodeAt(++l),i=t+r,u+=s.charAt(i>>10)+s.charAt(i>>4&63)+s.charAt(i<<2&63)+"="):1==a&&(i=e.charCodeAt(l),u+=s.charAt(i>>2)+s.charAt(i<<4&63)+"=="),u},f={encode:c,decode:l,version:"0.1.0"};void 0!==(i=function(){return f}.call(t,r,t,e))&&(e.exports=i)}()}).call(t,r(11)(e),r(5))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){function n(n,i){try{var a=void 0,g=void 0,_=void 0,b=void 0,T=void 0,S=void 0,w=void 0,E=void 0,k=void 0,P=void 0,O=void 0,C=void 0,A=null,x=void 0;if(n!==s.Events.FRAG_BUFFERED&&i.networkDetails&&i.networkDetails.getAllResponseHeaders){v=i.networkDetails.getAllResponseHeaders(),k=i.networkDetails.responseURL;var I=(0,f.extractHostnameAndDomain)(k);C=o(I,1)[0]}else n===s.Events.FRAG_BUFFERED&&(v=y[i.frag.loadIdx][0],C=y[i.frag.loadIdx][1],delete y[i.frag.loadIdx]);if(n===s.Events.FRAG_LOADED)return void(y[i.frag.loadIdx]=[v,C]);d=r.currentLevel,w=r.levels,n===s.Events.MANIFEST_LOADED||n===s.Events.LEVEL_LOADED?(P="manifest",T=0,O=-1):(P="media",T=i.frag.duration,O=i.frag.startPTS),d>=0&&(E=w[d],p=void 0!==E.width?E.width:0,h=void 0!==E.height?E.height:0),n===s.Events.MANIFEST_LOADED&&(A={},w.forEach(function(e,t){A[t]={},A[t].width=void 0!==e.width?e.width:0,A[t].height=void 0!==e.height?e.height:0,A[t].bitrate=e.bitrate,A[t].attrs=e.attrs}),m.media=A),S=u.default.performance.timing.navigationStart,b=i.stats.total,a=S+i.stats.trequest,g=S+i.stats.tfirst,_=S+i.stats.tload,x={request_event_type:n,request_start:a,request_response_start:g,request_response_end:_,request_bytes_loaded:b,request_type:P,request_response_headers:(0,c.default)(v),request_hostname:C},"audio"!==P&&"video"!==P&&"media"!==P||(x.request_media_duration=T),-1!==d&&(x.request_current_level=d),-1!==O&&(x.request_media_start_time=O),"video"!==P&&"media"!==P||(x.request_video_width=p,x.request_video_height=h),null!==A&&(x.request_rendition_lists=m),e.emit(t,"requestcompleted",x)}catch(e){l.warn("hlsjs-monitor.js onHLSRequestLoaded() Exception",e)}}function i(r,n){var i=n.details;if(i===s.ErrorDetails.MANIFEST_LOAD_ERROR||i===s.ErrorDetails.MANIFEST_LOAD_TIMEOUT||i===s.ErrorDetails.FRAG_LOAD_ERROR||i===s.ErrorDetails.FRAG_LOAD_TIMEOUT||i===s.ErrorDetails.LEVEL_LOAD_ERROR||i===s.ErrorDetails.LEVEL_LOAD_TIMEOUT)try{var a=void 0,o=void 0,u="",c=0,f="";switch(i){case s.ErrorDetails.MANIFEST_LOAD_ERROR:c=n.response.code,f=n.response.text,u=n.context.url;break;case s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:u=n.context.url;break;case s.ErrorDetails.LEVEL_LOAD_ERROR:c=n.response.code,f=n.response.text,u=n.context.url;break;case s.ErrorDetails.LEVEL_LOAD_TIMEOUT:u=n.context.url;break;case s.ErrorDetails.FRAG_LOAD_ERROR:c=n.response.code,f=n.response.text,u=n.frag.url;break;case s.ErrorDetails.FRAG_LOAD_TIMEOUT:u=n.frag.url}a=u.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/),o=a&&a[3],e.emit(t,"requestfailed",{request_error:i,request_url:u,request_hostname:o,request_type:"media",request_error_code:c,request_error_text:f})}catch(e){l.warn("hlsjs-monitor.js onHLSRequestError() Exception",e)}}function a(r,n){try{var i=void 0,a=void 0,o=n.frag._url;i=o.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/),a=i&&i[3],e.emit(t,"requestcanceled",{request_cancel:r,request_url:o,request_hostname:a,request_type:"media"})}catch(e){l.warn("hlsjs-monitor.js onHLSRequestCancel() Exception",e)}}var s=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments[4]),l=e.log;if(!u.default.performance||!u.default.performance.timing)return void l.warn("window.performance.timing not supported. Not tracking HLS.js.");var d=-1,p=0,h=0,v="",y={},m={video:{},audio:{},media:{}};r._muxPluginData=r._muxPluginData||{},r._muxPluginData[t]={},r.on(s.Events.FRAG_LOADED,n),r.on(s.Events.FRAG_BUFFERED,n),r.on(s.Events.MANIFEST_LOADED,n),r.on(s.Events.LEVEL_LOADED,n),r.on(s.Events.ERROR,i),r.on(s.Events.FRAG_LOAD_EMERGENCY_ABORTED,a),r._muxPluginData[t].stopMonitoring=function(){r.off(s.Events.FRAG_LOADED,n),r.off(s.Events.FRAG_BUFFERED,n),r.off(s.Events.MANIFEST_LOADED,n),r.off(s.Events.LEVEL_LOADED,n),r.off(s.Events.ERROR,i),r.off(s.Events.FRAG_LOAD_EMERGENCY_ABORTED,a)}}function a(e,t){t&&t._muxPluginData&&t._muxPluginData[e]&&t._muxPluginData[e].stopMonitoring()}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringHLSJS=t.monitorHLSJS=void 0;var o=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=r(2),u=n(s),l=r(8),c=n(l),f=r(4);t.monitorHLSJS=i,t.stopMonitoringHLSJS=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){function n(n){try{var i=void 0,u=void 0,g=void 0,_=void 0,b=void 0,T=void 0,S=void 0,w=void 0,E=void 0,k=void 0,P=void 0,O=void 0,C=void 0,A=void 0,x=void 0,I=void 0,L=void 0,D=void 0,R=void 0,j=null;R=n.type,"manifestLoaded"===R?(j={},D="",I=NaN):(j=n.chunk.mediaInfo.bitrateList,D=n.chunk.mediaInfo.type,I=n.chunk.start),s="video"===D?r.getQualityFor("video"):r.getQualityFor("audio"),"manifestLoaded"===R||m&&y||(h={},j.forEach(function(e,t){h[t]={},h[t].width=void 0!==e.width?e.width:0,h[t].height=void 0!==e.height?e.height:0,h[t].bitrate=e.bandwidth,h[t].attrs={}}),"video"===D?(v.video=h,m=!0):(v.audio=h,y=!0)),"initFragmentLoaded"===R?"video"===D?(x="video_init",A=j[s]):"audio"===D?(x="audio_init",A=j[0]):(x="media",A=j[s]):"mediaFragmentLoaded"===R?"video"===D?(x="video",A=j[s]):"audio"===D?(x="audio",A=j[0]):(x="media",A=j[s]):"manifestLoaded"===R&&(x="manifest",A={}),l=A.width,d=A.height,p=A.bandwidth,"manifestLoaded"===R?(S=n.data.url,_=0,i=0,u=0,g=0,w=0,O=""):(b=n.fragmentModel.getRequests({state:"executed"}),T=b[b.length-1],S=T.url,E=T.mediaType,_=T.bytesLoaded,i=new Date(T.requestStartDate).getTime(),u=new Date(T.firstByteDate).getTime(),g=new Date(T.requestEndDate).getTime(),w=Number.isNaN(T.duration)?0:T.duration,k=r.getMetricsFor(E).HttpList,P=k[k.length-1],O=P._responseHeaders);var M=(0,f.extractHostnameAndDomain)(S);L=o(M,1)[0],"manifestLoaded"!==R&&"initFragmentLoaded"!==R||(_=-1),C={request_event_type:R,request_start:i,request_response_start:u,request_response_end:g,request_bytes_loaded:_,request_type:x,request_response_headers:(0,c.default)(O),request_hostname:L},"audio"!==x&&"video"!==x&&"media"!==x||(C.request_media_duration=w),isNaN(I)||(C.request_media_start_time=I),void 0!==p&&(C.request_labeled_bitrate=p),-1!==s&&(C.request_current_level=s),"video"!==x&&"media"!==x||(C.request_video_width=l,C.request_video_height=d),null!==h&&(C.request_rendition_lists=v),e.emit(t,"requestcompleted",C)}catch(e){a.warn("dashjs-monitor.js onDASHRequestLoaded() Exception: ",e)}}function i(r){var n=u.default.event;try{var i=void 0,o=void 0,s=r.error+"_"+r.event.id+"_"+r.event.request.type,l=r.event.url,c=r.event.request.mediaType,f=n.currentTarget.status,d=n.currentTarget.statusText;i=l.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/),o=i&&i[3],e.emit(t,"requestfailed",{request_error:s,request_url:l,request_hostname:o,request_type:c,request_error_code:f,request_error_text:d})}catch(e){a.warn("dashjs-monitor.js onDASHRequestError() Exception: ",e)}}var a=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],e.log);if(!r||!r.on)return void a.warn("Invalid dash.js player reference. Monitoring blocked.");var s=-1,l=0,d=0,p=0,h=null,v={video:{},audio:{},media:{}},y=!1,m=!1;r._muxPluginData=r._muxPluginData||{},r._muxPluginData[t]={},r.on("mediaFragmentLoaded",n),r.on("initFragmentLoaded",n),r.on("manifestLoaded",n),r.on("error",i),r._muxPluginData[t].stopMonitoring=function(){r.off("mediaFragmentLoaded",n),r.off("initFragmentLoaded",n),r.off("manifestLoaded",n),r.off("error",i)}}function a(e,t){t&&t._muxPluginData&&t._muxPluginData[e]&&t._muxPluginData[e].stopMonitoring()}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringDashJS=t.monitorDashJS=void 0;var o=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=r(2),u=n(s),l=r(8),c=n(l),f=r(4);t.monitorDashJS=i,t.stopMonitoringDashJS=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){},i=0;n.prototype.on=function(e,t,r){return t._eventEmitterGuid=t._eventEmitterGuid||++i,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],r&&(t=t.bind(r)),this._listeners[e].push(t),t},n.prototype.off=function(e,t){var r=this._listeners&&this._listeners[e];r&&r.forEach(function(e,n){e._eventEmitterGuid===t._eventEmitterGuid&&r.splice(n,1)})},n.prototype.one=function(e,t,r){var n=this;t._eventEmitterGuid=t._eventEmitterGuid||++i;var a=function i(){n.off(e,i),t.apply(r||this,arguments)};a._eventEmitterGuid=t._eventEmitterGuid,this.on(e,a)},n.prototype.emit=function(e,t){var r=this;if(this._listeners){t=t||{};var n=this._listeners["before*"]||[],i=this._listeners[e]||[],a=this._listeners["after"+e]||[],o=function(t,n){t=t.slice(),t.forEach(function(t){t.call(r,{type:e},n)})};o(n,t),o(i,t),o(a,t)}},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=function(e){return e&&e.__esModule?e:{default:e}}(n),a=function(){this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,this.on("playing",function(){this._playheadShouldBeProgressing=!0}),this.on("play",this._startPlaybackHeartbeatInterval),this.on("adbreakstart",this._startPlaybackHeartbeatInterval),this.on("adplay",this._startPlaybackHeartbeatInterval),this.on("seeking",this._startPlaybackHeartbeatInterval),this.on("devicewake",this._startPlaybackHeartbeatInterval),this.on("pause",this._stopPlaybackHeartbeatInterval),this.on("ended",this._stopPlaybackHeartbeatInterval),this.on("viewend",this._stopPlaybackHeartbeatInterval),this.on("error",this._stopPlaybackHeartbeatInterval),this.on("adpause",this._stopPlaybackHeartbeatInterval),this.on("adbreakend",this._stopPlaybackHeartbeatInterval),this.on("seeked",function(){this.data.player_is_paused&&this._stopPlaybackHeartbeatInterval()}),this.on("timeupdate",function(){null!==this._playbackHeartbeatInterval&&this.emit("playbackheartbeat")}),this.on("devicesleep",function(e,t){null!==this._playbackHeartbeatInterval&&(i.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend",{viewer_time:t.viewer_time}),this._playbackHeartbeatInterval=null)})};a.prototype._startPlaybackHeartbeatInterval=function(){var e=this;null===this._playbackHeartbeatInterval&&(this.emit("playbackheartbeat"),this._playbackHeartbeatInterval=i.default.setInterval(function(){e.emit("playbackheartbeat")},this.playbackHeartbeatTime))},a.prototype._stopPlaybackHeartbeatInterval=function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(i.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)},t.default=a},function(e,t,r){"use strict";function n(){var e=this;this.on("viewinit",function(){e.viewErrored=!1}),this.on("error",function(){e.viewErrored=!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n),a=function(){this._watchTimeTrackerLastCheckedTime=null,this.on("playbackheartbeat",this._updateWatchTime),this.on("playbackheartbeatend",this._clearWatchTimeState)};a.prototype._updateWatchTime=function(e,t){var r=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=r),(0,i.default)(this.data,"view_watch_time",r-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=r},a.prototype._clearWatchTimeState=function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null},t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n),a=function(){this._playbackTimeTrackerLastPlayheadPosition=-1,this.on("playbackheartbeat",this._updatePlaybackTime),this.on("playbackheartbeatend",this._clearPlaybackTimeState),this.on("seeking",this._clearPlaybackTimeState)};a.prototype._updatePlaybackTime=function(){var e=this.data.player_playhead_time;if(this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition){var t=e-this._playbackTimeTrackerLastPlayheadPosition;t<=1e3&&(0,i.default)(this.data,"view_content_playback_time",t)}this._playbackTimeTrackerLastPlayheadPosition=e},a.prototype._clearPlaybackTimeState=function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1},t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.on("playbackheartbeat",this._updatePlayheadTime),this.on("playbackheartbeatend",this._updatePlayheadTime),this.on("timeupdate",this._updatePlayheadTime),this.on("destroy",function(){this.off("timeupdate",this._updatePlayheadTime)})};n.prototype._updatePlayheadTime=function(e,t){if(t.player_playhead_time)this.data.player_playhead_time=t.player_playhead_time;else if(this.getPlayheadTime){var r=this.getPlayheadTime();void 0!==r&&(this.data.player_playhead_time=r)}},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n),a=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,this.on("playbackheartbeat",this._checkIfRebuffering),this.on("playbackheartbeatend",this._cleanupRebufferTracker),this.on("seeking",function(){this._cleanupRebufferTracker(null,{viewer_time:Date.now()})})};a.prototype._checkIfRebuffering=function(e,t){if(this.isSeeking||this.isAdBreak||!this._playheadShouldBeProgressing)return void this._cleanupRebufferTracker(e,t);if(null===this._lastCheckedTime)return this._prepareRebufferTrackerState(t.viewer_time),void this._updateRebufferMetrics();if(this._lastPlayheadTime!==this.data.player_playhead_time)return void this._cleanupRebufferTracker(e,t,!0);var r=t.viewer_time-this._lastPlayheadTimeUpdatedTime;r>=this.sustainedRebufferThreshold&&(this._rebuffering?this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime):(this._rebuffering=!0,(0,i.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(r),this.emit("rebufferstart"))),this._lastCheckedTime=t.viewer_time},a.prototype._clearRebufferTrackerState=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null},a.prototype._prepareRebufferTrackerState=function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e},a.prototype._cleanupRebufferTracker=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime),this.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return void this._updateRebufferMetrics();var n=this.data.player_playhead_time-this._lastPlayheadTime,a=t.viewer_time-this._lastPlayheadTimeUpdatedTime;n>0&&a-n>this.minimumRebufferDuration?((0,i.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(a-n),this.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+a-n})):this._updateRebufferMetrics()}r?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()},a.prototype._updateRebufferMetrics=function(e){e>0&&(0,i.default)(this.data,"view_rebuffer_duration",e),this.data.view_watch_time>=0&&this.data.view_rebuffer_count>0&&(this.data.view_rebuffer_frequency=this.data.view_rebuffer_count/this.data.view_watch_time,this.data.view_rebuffer_percentage=this.data.view_rebuffer_duration/this.data.view_watch_time)},t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.on("viewinit",function(){var e=this.data,t=e.view_id,r=function(e,r){var n=r.viewer_time;"playing"===e.type&&void 0===this.data.view_time_to_first_frame?this.calculateTimeToFirstFrame(n||Date.now(),t):"adplaying"!==e.type||void 0!==this.data.view_time_to_first_frame&&!this.inPrerollPosition()||this.calculateTimeToFirstFrame(n||Date.now(),t)};this.one("playing",r),this.one("adplaying",r),this.one("viewend",function(){this.off("playing",r),this.off("adplaying",r)})})};n.prototype.calculateTimeToFirstFrame=function(e,t){t===this.data.view_id&&(this._updateWatchTime(null,{viewer_time:e}),this.data.view_time_to_first_frame=this.data.view_watch_time,(this.data.player_autoplay_on||this.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.data.view_aggregate_startup_time=this.data.view_start+this.data.view_watch_time-this.NAVIGATION_START))},t.default=n},function(e,t,r){"use strict";function n(){var e=this;this.on("viewinit",function(){this._lastPlayheadPosition=-1});var t=["pause","rebufferstart","seeking","error","adbreakstart","hb"],r=["playing","hb"];t.forEach(function(t){e.on(t,function(){if(this._lastPlayheadPosition>=0&&this.data.player_playhead_time>=0&&this._lastPlayerWidth>=0&&this._lastSourceWidth>0&&this._lastPlayerHeight>=0&&this._lastSourceHeight>0){var e=this.data.player_playhead_time-this._lastPlayheadPosition;if(e<0)return void(this._lastPlayheadPosition=-1);var t=Math.min(this._lastPlayerWidth/this._lastSourceWidth,this._lastPlayerHeight/this._lastSourceHeight),r=Math.max(0,t-1),n=Math.max(0,1-t);this.data.view_max_upscale_percentage=Math.max(this.data.view_max_upscale_percentage||0,r),this.data.view_max_downscale_percentage=Math.max(this.data.view_max_downscale_percentage||0,n),(0,a.default)(this.data,"view_total_content_playback_time",e),(0,a.default)(this.data,"view_total_upscaling",r*e),(0,a.default)(this.data,"view_total_downscaling",n*e)}this._lastPlayheadPosition=-1})}),r.forEach(function(t){e.on(t,function(){this._lastPlayheadPosition=this.data.player_playhead_time,this._lastPlayerWidth=this.data.player_width,this._lastPlayerHeight=this.data.player_height,this._lastSourceWidth=this.data.video_source_width,this._lastSourceHeight=this.data.video_source_height})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(1),a=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){this.isSeeking=!1,this.on("seeking",function(e,t){(0,u.default)(this.data,t),this._lastSeekingTime=Date.now(),!1===this.isSeeking&&(this.isSeeking=!0,this.send("seeking"))}),this.on("seeked",function(){this.isSeeking=!1;var e=this._lastSeekingTime||Date.now(),t=Date.now()-e;(0,o.default)(this.data,"view_seek_count",1),(0,o.default)(this.data,"view_seek_duration",t);var r=this.data.view_max_seek_time||0;this.data.view_max_seek_time=Math.max(r,t)}),this.on("viewend",function(){this.isSeeking=!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(1),o=n(a),s=r(0),u=n(s)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=r(1),o=n(a),s=r(4),u=r(0),l=n(u),c=function(e,t){e.push(t),e.sort(function(e,t){return e.viewer_time-t.viewer_time})},f=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],d=function(){var e=this;this.on("viewinit",function(){this.isAdBreak=!1,this._currentAdRequestNumber=0,this._currentAdResponseNumber=0,this._adRequests=[],this._adResponses=[],this._adHasPlayed=!1,this._wouldBeNewAdPlay=!0,this._prerollPlayTime=void 0}),f.forEach(function(t){return e.on(t,e._updateAdData)});var t=function(){e.isAdBreak=!1};this.on("adbreakstart",function(){this.isAdBreak=!0}),this.on("play",t),this.on("playing",t),this.on("viewend",t),this.on("adrequest",function(e,t){t=(0,l.default)({ad_request_id:"generatedAdRequestId"+this._currentAdRequestNumber++},t),c(this._adRequests,t),(0,o.default)(this.data,"view_ad_request_count"),this.inPrerollPosition()&&(this.data.view_preroll_requested=!0,this._adHasPlayed||(0,o.default)(this.data,"view_preroll_request_count"))}),this.on("adresponse",function(e,t){t=(0,l.default)({ad_request_id:"generatedAdRequestId"+this._currentAdResponseNumber++},t),c(this._adResponses,t);var r=this.findAdRequest(t.ad_request_id);r&&(0,o.default)(this.data,"view_ad_request_time",Math.max(0,t.viewer_time-r.viewer_time))}),this.on("adplay",function(e,t){this._adHasPlayed=!0,this._wouldBeNewAdPlay&&(this._wouldBeNewAdPlay=!1,(0,o.default)(this.data,"view_ad_played_count")),this.inPrerollPosition()&&!this.data.view_preroll_played&&(this.data.view_preroll_played=!0,this._adRequests.length>0&&(this.data.view_preroll_request_time=Math.max(0,t.viewer_time-this._adRequests[0].viewer_time)),this.data.view_start&&(this.data.view_startup_preroll_request_time=Math.max(0,t.viewer_time-this.data.view_start)),this._prerollPlayTime=t.viewer_time)}),this.on("adplaying",function(e,t){this.inPrerollPosition()&&void 0===this.data.view_preroll_load_time&&void 0!==this._prerollPlayTime&&(this.data.view_preroll_load_time=t.viewer_time-this._prerollPlayTime,this.data.view_startup_preroll_load_time=t.viewer_time-this._prerollPlayTime)}),this.on("adended",function(){this._wouldBeNewAdPlay=!0}),this.on("aderror",function(){this._wouldBeNewAdPlay=!0})};d.prototype.inPrerollPosition=function(){return void 0===this.data.view_content_playback_time||this.data.view_content_playback_time<=1e3},d.prototype.findAdRequest=function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]},d.prototype._updateAdData=function(e,t){if(this.inPrerollPosition()){if(!this.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var r=(0,s.extractHostnameAndDomain)(t.ad_tag_url),n=i(r,2),a=n[0],o=n[1];this.data.view_preroll_ad_tag_domain=o,this.data.view_preroll_ad_tag_hostname=a}if(!this.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var u=(0,s.extractHostnameAndDomain)(t.ad_asset_url),l=i(u,2),c=l[0],f=l[1];this.data.view_preroll_ad_asset_domain=f,this.data.view_preroll_ad_asset_hostname=c}}},t.default=d},function(t,r,n){"use strict";function i(){var t=this,r=void 0,n=void 0,i=function(){(0,o.default)(t.data,"view_waiting_rebuffer_count",1),r=Date.now(),n=e.setInterval(function(){if(r){var e=Date.now();(0,o.default)(t.data,"view_waiting_rebuffer_duration",e-r),r=e}},250)},a=function(){r&&((0,o.default)(t.data,"view_waiting_rebuffer_duration",Date.now()-r),r=!1,e.clearInterval(n))},s=!1,u=function(){s=!0},l=function(){s=!1,a()};this.on("waiting",function(){s&&i()}),this.on("playing",function(){a(),u()}),this.on("pause",l),this.on("seeking",l)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var a=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,r){"use strict";function n(){var e=this;this.one("playbackheartbeat",o),this.on("playbackheartbeatend",function(){e.off("before*",s),e.one("playbackheartbeat",o)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=function(){this.lastWallClockTime=Date.now(),this.on("before*",s)},s=function(e){var t=Date.now(),r=this.lastWallClockTime;this.lastWallClockTime=t,t-r>3e4&&(this.emit("devicesleep",{viewer_time:r}),(0,a.default)(this.data,{viewer_time:r}),this.send("devicesleep"),this.emit("devicewake",{viewer_time:t}),(0,a.default)(this.data,{viewer_time:t}),this.send("devicewake"))}},function(t,r,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(39),s=n(3),u=i(s),l=n(43),c=i(l),f=n(10),d=i(f),p=n(15),h=i(p),v=n(44),y=i(v),m=n(46),g=i(m),_=n(0),b=i(_),T=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id"],S=["viewstart","error","ended","viewend"],w=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.mux=t,this.envKey=r,this.eventQueue=new y.default((0,c.default)(r,n.beaconDomain)),this.previousBeaconData=null,this.lastEventTime=null,this.sampleRate=n.sampleRate,this.disableCookies=n.disableCookies,this.respectDoNotTrack=n.respectDoNotTrack,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed_version:this.mux.VERSION,page_url:e.location.href,viewer_application_name:g.default.name,viewer_application_version:g.default.version,viewer_application_engine:g.default.layout,viewer_device_name:g.default.product,viewer_device_category:"",viewer_device_manufacturer:g.default.manufacturer,viewer_os_family:g.default.os&&g.default.os.family,viewer_os_architecture:g.default.os&&g.default.os.architecture,viewer_os_version:g.default.os&&g.default.os.version},this.viewerData=this.disableCookies?{}:(0,o.getAndUpdateViewerData)()};w.prototype.send=function(e,t){if(e){if(this.respectDoNotTrack&&(0,d.default)())return u.default.info("Not sending `"+e+"` because Do Not Track is enabled in your browser");if(!t||"object"!==(void 0===t?"undefined":a(t)))return u.default.error("A data object was expected in send() but was not provided");var r=this.disableCookies?{}:(0,o.getAndUpdateSessionData)(),n={};(0,b.default)(n,this.pageLevelData),(0,b.default)(n,t),(0,b.default)(n,r),(0,b.default)(n,this.viewerData),n.event=e,n.env_key=this.envKey,n.user_id&&(n.viewer_user_id=n.user_id,delete n.user_id);var i=n.mux_sample_number>=this.sampleRate,s=this._deduplicateBeaconData(e,n),l=(0,h.default)(s);if(this.lastEventTime=Date.now(),i)return u.default.info("Not sending event due to sample rate restriction",e,n,l);if(!this.envKey)return u.default.info("Not sending event due to missing environment key",e,n,l);if(!this.rateLimited)if(u.default.info("Sending event",e,n,l),this.rateLimited=!this.eventQueue.queueEvent(e,l),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if(S.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return n.event="eventrateexceeded",l=(0,h.default)(n),this.eventQueue.queueEvent(n.event,l),u.default.error("Beaconing disabled due to rate limit.")}},w.prototype.destroy=function(){this.eventQueue.destroy(!1)};var E=function(e,t,r,n){return!(!e||0!==t.indexOf("request_")||"request_response_headers"!==t&&"object"===(void 0===r?"undefined":a(r))&&"object"===(void 0===n?"undefined":a(n))&&Object.keys(r||{}).length===Object.keys(n||{}).length)};w.prototype._deduplicateBeaconData=function(e,t){var r=this,n={},i=t.view_id;if(!i||"viewstart"===e||"viewend"===e||!this.previousBeaconData||Date.now()-this.lastEventTime>=6e5)n=(0,b.default)({},t),i&&(this.previousBeaconData=n),i&&"viewend"===e&&(this.previousBeaconData=null);else{var a=0===e.indexOf("request");Object.keys(t).forEach(function(e){var i=t[e];(i!==r.previousBeaconData[e]||T.indexOf(e)>-1||E(a,e,i,r.previousBeaconData[e]))&&(n[e]=i,r.previousBeaconData[e]=i)})}return n},r.default=w},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAndUpdateSessionData=t.getAndUpdateViewerData=void 0;var i=r(12),a=n(i),o=r(42),s=n(o),u=r(6),l=function(){var e=void 0;try{e=a.default.parse(s.default.get("muxData")||"")}catch(t){e={}}return e},c=function(e){s.default.set("muxData",a.default.stringify(e),{expires:7300})},f=function(){var e=l();return e.mux_viewer_id=e.mux_viewer_id||(0,u.generateUUID)(),e.msn=e.msn||Math.random(),c(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}},d=function(){var e=l(),t=Date.now();return e.session_start&&(e.sst=e.session_start,delete e.session_start),e.session_id&&(e.sid=e.session_id,delete e.session_id),e.session_expires&&(e.sex=e.session_expires,delete e.session_expires),(!e.sex||e.sex<t)&&(e.sid=(0,u.generateUUID)(),e.sst=t),e.sex=t+15e5,c(e),{session_id:e.sid,session_start:e.sst,session_expires:e.sex}};t.getAndUpdateViewerData=f,t.getAndUpdateSessionData=d},function(e,t,r){"use strict";var n=r(13),i=r(14),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(e){return o.call(e)},skipNulls:!1,strictNullHandling:!1},u=function e(t,r,i,a,o,u,l,c,f,d,p,h){var v=t;if("function"==typeof l)v=l(r,v);else if(v instanceof Date)v=d(v);else if(null===v){if(a)return u&&!h?u(r,s.encoder):r;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||n.isBuffer(v))return u?[p(h?r:u(r,s.encoder))+"="+p(u(v,s.encoder))]:[p(r)+"="+p(String(v))];var y=[];if(void 0===v)return y;var m;if(Array.isArray(l))m=l;else{var g=Object.keys(v);m=c?g.sort(c):g}for(var _=0;_<m.length;++_){var b=m[_];o&&null===v[b]||(y=Array.isArray(v)?y.concat(e(v[b],i(r,b),i,a,o,u,l,c,f,d,p,h)):y.concat(e(v[b],r+(f?"."+b:"["+b+"]"),i,a,o,u,l,c,f,d,p,h)))}return y};e.exports=function(e,t){var r=e,o=t?n.assign({},t):{};if(null!==o.encoder&&void 0!==o.encoder&&"function"!=typeof o.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===o.delimiter?s.delimiter:o.delimiter,c="boolean"==typeof o.strictNullHandling?o.strictNullHandling:s.strictNullHandling,f="boolean"==typeof o.skipNulls?o.skipNulls:s.skipNulls,d="boolean"==typeof o.encode?o.encode:s.encode,p="function"==typeof o.encoder?o.encoder:s.encoder,h="function"==typeof o.sort?o.sort:null,v=void 0!==o.allowDots&&o.allowDots,y="function"==typeof o.serializeDate?o.serializeDate:s.serializeDate,m="boolean"==typeof o.encodeValuesOnly?o.encodeValuesOnly:s.encodeValuesOnly;if(void 0===o.format)o.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,o.format))throw new TypeError("Unknown format option provided.");var g,_,b=i.formatters[o.format];"function"==typeof o.filter?(_=o.filter,r=_("",r)):Array.isArray(o.filter)&&(_=o.filter,g=_);var T=[];if("object"!=typeof r||null===r)return"";var S;S=o.arrayFormat in a?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var w=a[S];g||(g=Object.keys(r)),h&&g.sort(h);for(var E=0;E<g.length;++E){var k=g[E];f&&null===r[k]||(T=T.concat(u(r[k],k,w,c,f,d?p:null,_,h,v,y,b,m)))}var P=T.join(l),O=!0===o.addQueryPrefix?"?":"";return P.length>0?O+P:""}},function(e,t,r){"use strict";var n=r(13),i=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=n.split(t.delimiter,o),u=0;u<s.length;++u){var l,c,f=s[u],d=f.indexOf("]="),p=-1===d?f.indexOf("="):d+1;-1===p?(l=t.decoder(f,a.decoder),c=t.strictNullHandling?null:""):(l=t.decoder(f.slice(0,p),a.decoder),c=t.decoder(f.slice(p+1),a.decoder)),i.call(r,l)?r[l]=[].concat(r[l]).concat(c):r[l]=c}return r},s=function(e,t,r){for(var n=t,i=e.length-1;i>=0;--i){var a,o=e[i];if("[]"===o)a=[],a=a.concat(n);else{a=r.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,u=parseInt(s,10);!isNaN(u)&&o!==s&&String(u)===s&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[],a[u]=n):a[s]=n}n=a}return n},u=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,u=a.exec(n),l=u?n.slice(0,u.index):n,c=[];if(l){if(!r.plainObjects&&i.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}for(var f=0;null!==(u=o.exec(n))&&f<r.depth;){if(f+=1,!r.plainObjects&&i.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+n.slice(u.index)+"]"),s(c,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:a.delimiter,r.depth="number"==typeof r.depth?r.depth:a.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:a.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:a.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:a.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:a.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:a.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:a.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:a.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var i="string"==typeof e?o(e,r):e,s=r.plainObjects?Object.create(null):{},l=Object.keys(i),c=0;c<l.length;++c){var f=l[c],d=u(f,i[f],r);s=n.merge(s,d,r)}return n.compact(s)}},function(r,n,i){"use strict";var a,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t){var u=!1;if(a=t,void 0!==(o="function"==typeof a?a.call(n,i,n,r):a)&&(r.exports=o),u=!0,"object"===s(n)&&(r.exports=t(),u=!0),!u){var l=e.Cookies,c=e.Cookies=t();c.noConflict=function(){return e.Cookies=l,c}}}(function(){function e(n){function i(e,a,o){var s;if("undefined"!=typeof t){if(arguments.length>1){if(o=r({path:"/"},i.defaults,o),"number"==typeof o.expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*o.expires),o.expires=u}try{s=JSON.stringify(a),/^[\{\[]/.test(s)&&(a=s)}catch(e){}return a=n.write?n.write(a,e):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),t.cookie=[e,"=",a,o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}e||(s={});for(var l=t.cookie?t.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var d=l[f].split("="),p=d.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var h=d[0].replace(c,decodeURIComponent);if(p=n.read?n.read(p,h):n(p,h)||p.replace(c,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(e===h){s=p;break}e||(s[h]=p)}catch(e){}}return s}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,t){i(e,"",r(t,{expires:-1}))},i.withConverter=e,i}var r=function(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t};return e(function(){})})},function(e,t,r){"use strict";function n(e,t){return e=e||"",t=t||"litix.io",e.match(/^[a-z0-9]+$/)?"https://"+e+"."+t:"https://img.litix.io/a.gif"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(2),a=n(i),o=r(3),s=n(o),u=r(45),l=n(u),c=r(0),f=n(c),d=r(15),p=n(d),h=!!a.default.XMLHttpRequest&&"withCredentials"in new a.default.XMLHttpRequest,v={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:5e3},y=function(e,t){this._beaconUrl=e||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=(0,f.default)({},v,t)};y.prototype.queueEvent=function(e,t){var r=(0,f.default)({},t);return h?(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(r),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):(l.default.send(this._beaconUrl,r),!0)},y.prototype.flushEvents=function(){h&&(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},y.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),a.default.clearTimeout(this._sendTimeout)},y.prototype._clearBeaconQueue=function(){var e=a.default.navigator,t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,r=this._eventQueue.slice(t);if(t>0&&(0,f.default)(r[r.length-1],(0,p.default)({mux_view_message:"event queue truncated"})),e.sendBeacon)e.sendBeacon(this._beaconUrl,JSON.stringify({events:r}));else if(a.default.XMLHttpRequest){var n=new a.default.XMLHttpRequest;n.open("POST",this._beaconUrl),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify({events:r}))}else l.default.send(this._beaconUrl,r[r.length-1])},y.prototype._sendBeaconQueue=function(){var e=this;if(a.default.XMLHttpRequest&&!this._postInFlight){var t=new a.default.XMLHttpRequest,r=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0,t.onreadystatechange=function(){4===t.readyState&&(200!==t.status?(e._eventQueue=r.concat(e._eventQueue),e._failureCount+=1,s.default.info("Error sending beacon: "+t.status),s.default.info(t.responseText)):e._failureCount=0,e._postInFlight=!1)},t.open("POST",this._beaconUrl),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify({events:r}))}},y.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},y.prototype._startBeaconSending=function(){var e=this;a.default.clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=a.default.setTimeout(function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()},this._getNextBeaconTime()))},t.default=y},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),a=n(i),o=r(2),s=n(o),u={};u.send=function(e,t){function r(){n.src=o+(i?"&rc="+i:"")}var n=new Image,i=0,o=e+"?"+a.default.stringify(t);return n.addEventListener("error",function(){i>3||s.default.setTimeout(function(){i++,r()},5e3*i)}),r(),n},t.default=u},function(t,r,n){(function(t,i){var a;(function(){"use strict";function o(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t,r){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&r&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&r&&(e=e.replace(RegExp(t,"i"),r)),e=l(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function u(e,t){var r=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=w)for(;++r<n;)t(e[r],r,e);else c(e,t)}function l(e){return e=v(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:o(e)}function c(e,t){for(var r in e)O.call(e,r)&&t(e[r],r,e)}function f(e){return null==e?o(e):C.call(e).slice(8,-1)}function d(e,t){var r=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(r)||"object"==r&&!e[t])}function p(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function h(e,t){var r=null;return u(e,function(n,i){r=t(r,n,i,e)}),r}function v(e){return String(e).replace(/^ +| +$/g,"")}function y(e){function t(t){return h(t,function(t,r){var n=r.pattern||p(r);return!t&&(t=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(r.label&&!RegExp(n,"i").test(r.label)?r.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),r=r.label||r,t=l(t[0].replace(RegExp(n,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function r(){return this.description||""}var n=g,i=e&&"object"==typeof e&&"String"!=f(e);i&&(n=e,e=null);var a=n.navigator||{},o=a.userAgent||"";e||(e=o);var u,m,b=i||k==_,T=i?!!a.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(C.toString()),S=i?"Object":"ScriptBridgingProxyObject",w=i?"Object":"Environment",P=i&&n.java?"JavaPackage":f(n.java),O=i?"Object":"RuntimeObject",A=/\bJava/.test(P)&&n.java,x=A&&f(n.environment)==w,I=A?"a":"\u03b1",L=A?"b":"\u03b2",D=n.document||{},R=n.operamini||n.opera,j=E.test(j=i&&R?R["[[Class]]"]:f(R))?j:R=null,M=e,N=[],U=null,B=e==o,F=B&&R&&"function"==typeof R.version&&R.version(),q=function(t){return h(t,function(t,r){return t||RegExp("\\b"+(r.pattern||p(r))+"\\b","i").exec(e)&&(r.label||r)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),H=function(t){return h(t,function(t,r){return t||RegExp("\\b"+(r.pattern||p(r))+"\\b","i").exec(e)&&(r.label||r)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),V=t([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),W=function(t){return h(t,function(t,r,n){return t||(r[V]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(V)]||RegExp("\\b"+p(n)+"(?:\\b|\\w*\\d)","i").exec(e))&&n})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),G=function(t){return h(t,function(t,r){var n=r.pattern||p(r);return!t&&(t=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=s(t,n,r.label||r)),t})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(q&&(q=[q]),W&&!V&&(V=t([W])),(u=/\bGoogle TV\b/.exec(V))&&(V=u[0]),/\bSimulator\b/i.test(e)&&(V=(V?V+" ":"")+"Simulator"),"Opera Mini"==H&&/\bOPiOS\b/.test(e)&&N.push("running in Turbo/Uncompressed mode"),"IE"==H&&/\blike iPhone OS\b/.test(e)?(u=y(e.replace(/like iPhone OS/,"")),W=u.manufacturer,V=u.product):/^iP/.test(V)?(H||(H="Safari"),G="iOS"+((u=/ OS ([\d_]+)/i.exec(e))?" "+u[1].replace(/_/g,"."):"")):"Konqueror"!=H||/buntu/i.test(G)?W&&"Google"!=W&&(/Chrome/.test(H)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(V))||/\bAndroid\b/.test(G)&&/^Chrome/.test(H)&&/\bVersion\//i.test(e)?(H="Android Browser",G=/\bAndroid\b/.test(G)?G:"Android"):"Silk"==H?(/\bMobi/i.test(e)||(G="Android",N.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&N.unshift("accelerated")):"PaleMoon"==H&&(u=/\bFirefox\/([\d.]+)\b/.exec(e))?N.push("identifying as Firefox "+u[1]):"Firefox"==H&&(u=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(G||(G="Firefox OS"),V||(V=u[1])):!H||(u=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(H))?(H&&!V&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(u+"/")+8))&&(H=null),(u=V||W||G)&&(V||W||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(G))&&(H=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(G)?G:u)+" Browser")):"Electron"==H&&(u=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&N.push("Chromium "+u):G="Kubuntu",F||(F=function(t){return h(t,function(t,r){return t||(RegExp(r+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",p(H),"(?:Firefox|Minefield|NetFront)"])),(u="iCab"==q&&parseFloat(F)>3&&"WebKit"||/\bOpera\b/.test(H)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(q)&&"WebKit"||!q&&/\bMSIE\b/i.test(e)&&("Mac OS"==G?"Tasman":"Trident")||"WebKit"==q&&/\bPlayStation\b(?! Vita\b)/i.test(H)&&"NetFront")&&(q=[u]),"IE"==H&&(u=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(H+=" Mobile",G="Windows Phone "+(/\+$/.test(u)?u:u+".x"),N.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(H="IE Mobile",G="Windows Phone 8.x",N.unshift("desktop mode"),F||(F=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=H&&"Trident"==q&&(u=/\brv:([\d.]+)/.exec(e))&&(H&&N.push("identifying as "+H+(F?" "+F:"")),H="IE",F=u[1]),B){if(d(n,"global"))if(A&&(u=A.lang.System,M=u.getProperty("os.arch"),G=G||u.getProperty("os.name")+" "+u.getProperty("os.version")),b&&d(n,"system")&&(u=[n.system])[0]){G||(G=u[0].os||null);try{u[1]=n.require("ringo/engine").version,F=u[1].join("."),H="RingoJS"}catch(e){u[0].global.system==n.system&&(H="Narwhal")}}else"object"==typeof n.process&&!n.process.browser&&(u=n.process)?"object"==typeof u.versions?"string"==typeof u.versions.electron?(N.push("Node "+u.versions.node),H="Electron",F=u.versions.electron):"string"==typeof u.versions.nw&&(N.push("Chromium "+F,"Node "+u.versions.node),H="NW.js",F=u.versions.nw):(H="Node.js",M=u.arch,G=u.platform,F=/[\d.]+/.exec(u.version),F=F?F[0]:"unknown"):x&&(H="Rhino");else f(u=n.runtime)==S?(H="Adobe AIR",G=u.flash.system.Capabilities.os):f(u=n.phantom)==O?(H="PhantomJS",F=(u=u.version||null)&&u.major+"."+u.minor+"."+u.patch):"number"==typeof D.documentMode&&(u=/\bTrident\/(\d+)/i.exec(e))?(F=[F,D.documentMode],(u=+u[1]+4)!=F[1]&&(N.push("IE "+F[1]+" mode"),q&&(q[1]=""),F[1]=u),F="IE"==H?String(F[1].toFixed(1)):F[0]):"number"==typeof D.documentMode&&/^(?:Chrome|Firefox)\b/.test(H)&&(N.push("masking as "+H+" "+F),H="IE",F="11.0",q=["Trident"],G="Windows");G=G&&l(G)}if(F&&(u=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(F)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(B&&a.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(U=/b/i.test(u)?"beta":"alpha",F=F.replace(RegExp(u+"\\+?$"),"")+("beta"==U?L:I)+(/\d+\+?/.exec(u)||"")),"Fennec"==H||"Firefox"==H&&/\b(?:Android|Firefox OS)\b/.test(G))H="Firefox Mobile";else if("Maxthon"==H&&F)F=F.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(V))"Xbox 360"==V&&(G=null),"Xbox 360"==V&&/\bIEMobile\b/.test(e)&&N.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(H)&&(!H||V||/Browser|Mobi/.test(H))||"Windows CE"!=G&&!/Mobi/i.test(e))if("IE"==H&&B)try{null===n.external&&N.unshift("platform preview")}catch(e){N.unshift("embedded")}else(/\bBlackBerry\b/.test(V)||/\bBB10\b/.test(e))&&(u=(RegExp(V.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||F)?(u=[u,/BB10/.test(e)],G=(u[1]?(V=null,W="BlackBerry"):"Device Software")+" "+u[0],F=null):this!=c&&"Wii"!=V&&(B&&R||/Opera/.test(H)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==H&&/\bOS X (?:\d+\.){2,}/.test(G)||"IE"==H&&(G&&!/^Win/.test(G)&&F>5.5||/\bWindows XP\b/.test(G)&&F>8||8==F&&!/\bTrident\b/.test(e)))&&!E.test(u=y.call(c,e.replace(E,"")+";"))&&u.name&&(u="ing as "+u.name+((u=u.version)?" "+u:""),E.test(H)?(/\bIE\b/.test(u)&&"Mac OS"==G&&(G=null),u="identify"+u):(u="mask"+u,H=j?l(j.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(u)&&(G=null),B||(F=null)),q=["Presto"],N.push(u));else H+=" Mobile";(u=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(u=[parseFloat(u.replace(/\.(\d)$/,".0$1")),u],"Safari"==H&&"+"==u[1].slice(-1)?(H="WebKit Nightly",U="alpha",F=u[1].slice(0,-1)):F!=u[1]&&F!=(u[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(F=null),u[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==u[0]&&537.36==u[2]&&parseFloat(u[1])>=28&&"WebKit"==q&&(q=["Blink"]),B&&(T||u[1])?(q&&(q[1]="like Chrome"),u=u[1]||(u=u[0],u<530?1:u<532?2:u<532.05?3:u<533?4:u<534.03?5:u<534.07?6:u<534.1?7:u<534.13?8:u<534.16?9:u<534.24?10:u<534.3?11:u<535.01?12:u<535.02?"13+":u<535.07?15:u<535.11?16:u<535.19?17:u<536.05?18:u<536.1?19:u<537.01?20:u<537.11?"21+":u<537.13?23:u<537.18?24:u<537.24?25:u<537.36?26:"Blink"!=q?"27":"28")):(q&&(q[1]="like Safari"),u=u[0],u=u<400?1:u<500?2:u<526?3:u<533?4:u<534?"4+":u<535?5:u<537?6:u<538?7:u<601?8:"8"),q&&(q[1]+=" "+(u+="number"==typeof u?".x":/[.+]/.test(u)?"":"+")),"Safari"==H&&(!F||parseInt(F)>45)&&(F=u)),"Opera"==H&&(u=/\bzbov|zvav$/.exec(G))?(H+=" ",N.unshift("desktop mode"),"zvav"==u?(H+="Mini",F=null):H+="Mobile",G=G.replace(RegExp(" *"+u+"$"),"")):"Safari"==H&&/\bChrome\b/.exec(q&&q[1])&&(N.unshift("desktop mode"),H="Chrome Mobile",F=null,/\bOS X\b/.test(G)?(W="Apple",G="iOS 4.3+"):G=null),F&&0==F.indexOf(u=/[\d.]+$/.exec(G))&&e.indexOf("/"+u+"-")>-1&&(G=v(G.replace(u,""))),q&&!/\b(?:Avant|Nook)\b/.test(H)&&(/Browser|Lunascape|Maxthon/.test(H)||"Safari"!=H&&/^iOS/.test(G)&&/\bSafari\b/.test(q[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(H)&&q[1])&&(u=q[q.length-1])&&N.push(u),N.length&&(N=["("+N.join("; ")+")"]),W&&V&&V.indexOf(W)<0&&N.push("on "+W),V&&N.push((/^on /.test(N[N.length-1])?"":"on ")+V),G&&(u=/ ([\d.+]+)$/.exec(G),m=u&&"/"==G.charAt(G.length-u[0].length-1),G={architecture:32,family:u&&!m?G.replace(u[0],""):G,version:u?u[1]:null,toString:function(){var e=this.version;return this.family+(e&&!m?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(u=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(M))&&!/\bi686\b/i.test(M)?(G&&(G.architecture=64,G.family=G.family.replace(RegExp(" *"+u),"")),H&&(/\bWOW64\b/i.test(e)||B&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(e))&&N.unshift("32-bit")):G&&/^OS X/.test(G.family)&&"Chrome"==H&&parseFloat(F)>=39&&(G.architecture=64),e||(e=null);var z={};return z.description=e,z.layout=q&&q[0],z.manufacturer=W,z.name=H,z.prerelease=U,z.product=V,z.ua=e,z.version=H&&F,z.os=G||{architecture:null,family:null,version:null,toString:function(){return"null"}},z.parse=y,z.toString=r,z.version&&N.unshift(F),z.name&&N.unshift(H),G&&H&&(G!=String(G).split(" ")[0]||G!=H.split(" ")[0]&&!V)&&N.push(V?"("+G+")":"on "+G),N.length&&(z.description=N.join(" ")),z}var m={function:!0,object:!0},g=m[typeof e]&&e||this,_=g,b=m[typeof r]&&r,T=m[typeof t]&&t&&!t.nodeType&&t,S=b&&T&&"object"==typeof i&&i;!S||S.global!==S&&S.window!==S&&S.self!==S||(g=S);var w=Math.pow(2,53)-1,E=/\bOpera/,k=this,P=Object.prototype,O=P.hasOwnProperty,C=P.toString,A=y();g.platform=A,void 0!==(a=function(){return A}.call(r,n,r,t))&&(t.exports=a)}).call(this)}).call(r,n(11)(t),n(5))},function(e,t,r){"use strict";function n(){function e(e,t){o++;var r=t.request_start,u=t.request_response_start,l=t.request_response_end,c=t.request_bytes_loaded,f=u-r,d=l-u;if(f>0&&d>0&&c>0){var p=c/d*8e3;s++,n+=f,i+=c,a+=d,this.data.view_min_request_throughput=Math.min(this.data.view_min_request_throughput||1/0,p),this.data.view_average_request_throughput=i/a*8e3,this.data.view_max_request_latency=Math.max(this.data.view_max_request_latency||0,f),this.data.view_average_request_latency=n/s}}function t(e,t){o++,u++}function r(e,t){o++,l++}var n=0,i=0,a=0,o=0,s=0,u=0,l=0;this.on("requestcompleted",e),this.on("requestfailed",t),this.on("requestcanceled",r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,r){"use strict";function n(e,t,r){var n=(0,s.findMediaElement)(t),a=i(n,3),c=a[0],f=a[1],d=a[2],p=e.log,h=e.utils.getComputedStyle,v=e.utils.secondsToMs;return c?"video"!==d&&"audio"!==d?p.error("The element of `"+f+"` was not a media element."):(r=r||{},r.data=(0,o.default)({player_software:"HTML5 Video Element",player_software_version:"No Versions",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:"2.5.0"},r.data),r.getPlayheadTime=function(){return v(c.currentTime)},r.getStateData=function(){return{player_is_paused:c.paused,player_playhead_time:v(c.currentTime),player_width:parseInt(h(c,"width")),player_height:parseInt(h(c,"height")),player_autoplay_on:c.autoplay,player_preload_on:c.preload,video_poster_url:c.poster,video_source_url:c.currentSrc,video_source_duration:v(c.duration),video_source_height:c.videoHeight,video_source_width:c.videoWidth}},c.mux=c.mux||{},c.mux.destroy=function(){Object.keys(c.mux.listeners).forEach(function(e){c.removeEventListener(e,c.mux.listeners[e],!1)}),delete c.mux.listeners,e.emit(f,"destroy")},c.mux.swapElement=function(t){var r=(0,s.findMediaElement)(t),n=i(r,3),a=n[0],u=n[1],l=n[2];return a?"video"!==l&&"audio"!==l?e.log.error("The element of `"+u+"` was not a media element."):(a.muxId=c.muxId,delete c.muxId,a.mux=a.mux||{},a.mux.listeners=(0,o.default)({},c.mux.listeners),delete c.mux.listeners,Object.keys(a.mux.listeners).forEach(function(e){c.removeEventListener(e,a.mux.listeners[e],!1),a.addEventListener(e,a.mux.listeners[e],!1)}),a.mux.swapElement=c.mux.swapElement,a.mux.destroy=c.mux.destroy,delete c.mux,void(c=a)):e.log.error("No element was found with the `"+u+"` query selector.")},c.mux.addHLSJS=function(t){e.addHLSJS(f,t)},c.mux.addDashJS=function(t){e.addDashJS(f,t)},c.mux.removeHLSJS=function(){e.removeHLSJS(f)},c.mux.removeDashJS=function(){e.removeDashJS(f)},e.init(f,r),e.emit(f,"playerready"),c.paused||(e.emit(f,"play"),c.readyState>2&&e.emit(f,"playing")),c.mux.listeners={},void u.forEach(function(t){c.mux.listeners[t]=function(){var r={};"error"===t&&(r.player_error_code=c.error&&c.error.code,r.player_error_message=c.error&&l[c.error.code]),e.emit(f,t,r)},c.addEventListener(t,c.mux.listeners[t],!1)})):p.error("No element was found with the `"+f+"` query selector.")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=n;var a=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=r(9),u=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],l={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(50),a=n(i),o=r(1),s=n(o),u=r(51),l=n(u),c=r(52),f=n(c),d=r(0),p=n(d),h=r(8),v=n(h),y=r(4),m={};m.safeCall=a.default,m.safeIncrement=s.default,m.getComputedStyle=l.default,m.secondsToMs=f.default,m.assign=p.default,m.headersStringToObject=v.default,m.extractHostnameAndDomain=y.extractHostnameAndDomain,t.default=m},function(e,t,r){"use strict";function n(e,t,r,n){var i=n;if(e&&"function"==typeof e[t])try{i=e[t].apply(e,r)}catch(e){a.default.info("safeCall error",e)}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(3),a=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,r){"use strict";function n(e,t){if(a.default.defaultView&&a.default.defaultView.getComputedStyle)return a.default.defaultView.getComputedStyle(e,null).getPropertyValue(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(7),a=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,r){"use strict";function n(e){return Math.floor(1e3*e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}])})}()},function(e,t,r){"use strict";function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return{}},a=!1;e.on("adstart",function(){a=!0}),e.on("adend",function(){a=!1}),e.on("adserror",function(){a=!1});var s=function(){var n=o(t.currentTime()),s=function r(){var s=Date.now(),u=o(t.currentTime());if(a){if(u>n){var l=i();l.viewer_time=s-Math.max(0,u-n),t.off("timeupdate",r),e.mux.emit("adplaying",l)}}else t.off("timeupdate",r)};t.on("timeupdate",s);var u=function e(){t.off("timeupdate",s),r.forEach(function(r){t.off(r,e)})};r.forEach(function(e){t.on(e,u)})};n.forEach(function(e){t.on(e,s)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=a.default.utils.secondsToMs},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(o.default.IS_IE8)return!1;var t=this,r=t.id();e=e||{},e.data=S({player_software_name:"Video.js",player_software_version:o.default.VERSION||"< 4.11",player_mux_plugin_name:"videojs-mux",player_mux_plugin_version:"2.4.2"},e.data),e.getPlayheadTime=function(){return k(t.currentTime())},e.getStateData=function(){var e=w(t,"videoHeight"),r=w(t,"videoWidth");if(void 0===r||void 0===e){var n=t.el().firstChild;n&&"VIDEO"===n.nodeName.toUpperCase()&&(e=n.videoHeight,r=n.videoWidth)}return{player_is_paused:w(t,"paused"),player_is_fullscreen:w(t,"isFullscreen"),player_autoplay_on:!!w(t,"autoplay"),player_preload_on:w(t,"preload"),player_width:E(t.el(),"width"),player_height:E(t.el(),"height"),player_language_code:w(t,"language"),video_poster_url:w(t,"poster"),video_source_url:w(t,"currentSrc"),video_source_mime_type:w(t,"currentType"),video_source_duration:k(w(t,"duration")||0),video_source_height:e,video_source_width:r}},t.mux=function(){T.error("[videojs-mux] The plugin was initialized more than once.")},t.mux.emit=function(e,t){u.default.emit(r,e,t)},t.mux.log=T,t.mux.utils=u.default.utils,u.default.init(r,e);var n=!1,i=function(){n||t.mux.emit("playerready"),n=!0};t.ready(function(){t.addClass("vjs-mux"),c.default.setTimeout(i,0)});var a=!1;t.one("play",i),P.forEach(function(e){t.on(e,function(){if(!a){var r={};if("error"===e){var n=w(t,"error");r.player_error_code=n&&n.code,r.player_error_message=n&&n.message}t.mux.emit(e,r)}})});var s=!1;t.on("play",function(){s=!0}),t.on("pause",function(){s=!1}),t.on("adstart",function(){a=!0,s&&t.mux.emit("pause"),t.mux.emit("adbreakstart")}),t.on("adend",function(){t.mux.emit("adbreakend"),a=!1,w(t,"paused")||(t.mux.emit("play"),s=!0,t.onceux&&t.mux.emit("playing"))}),t.ima&&(0,d.default)(t),t.onceux&&(0,g.default)(t),t.ima3&&"function"==typeof t.ima3.ready&&(0,h.default)(t),t.FreeWheelPlugin&&t.FreeWheelPlugin.VERSION&&(0,y.default)(t),t.on("dispose",function(){t.mux.emit("destroy")})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(3),o=n(a),s=r(0),u=n(s),l=r(4),c=n(l),f=r(6),d=n(f),p=r(7),h=n(p),v=r(8),y=n(v),m=r(9),g=n(m),_=r(10),b=n(_),T=u.default.log,S=u.default.utils.assign,w=u.default.utils.safeCall,E=u.default.utils.getComputedStyle,k=u.default.utils.secondsToMs,P=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"];(o.default.registerPlugin||o.default.plugin||function(){u.default.log.error("No valid method to register videojs plugin available.")})("mux",i),(0,b.default)(o.default),t.default={}},function(e,t){e.exports=r},function(t,r,n){(function(r){var n;n="undefined"!=typeof e?e:void 0!==r?r:"undefined"!=typeof self?self:{},t.exports=n}).call(r,n(5))},function(t,r){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof e&&(n=e)}t.exports=n},function(t,r,n){"use strict";function i(t){var r=function(e){e=e||{};var r="function"==typeof e.getAdData?e.getAdData():{},n="function"==typeof e.getAd?e.getAd():{},i="function"==typeof n.getMediaUrl?n.getMediaUrl():r.mediaUrl,a=t.ima.settings||{},o={};return i&&(o.ad_asset_url=i),a.adTagUrl&&(o.ad_tag_url=a.adTagUrl),o},n=void 0,i=void 0,a=void 0,o=void 0,s=void 0,u=void 0;try{var l=e.google.ima.AdEvent.Type;n=l.LOADED,i=l.STARTED,a=l.COMPLETE,o=l.PAUSED,s=l.RESUMED,u=l.SKIPPED}catch(t){n="loaded",i="start",a="complete",o="pause",s="resume",u="skip"}var c=0;t.mux.triggerAdRequest=function(){c++,t.mux.emit("adrequest",r())},t.on("adsready",function(){var e=t.ima.addEventListener||function(){};e(n,function(e){var n=r(e);c>0&&(c--,t.mux.emit("adresponse",n)),t.mux.emit("adplay",n)}),e(i,function(e){var n=r(e);t.mux.emit("adplaying",n)}),e(s,function(e){var n=r(e);t.mux.emit("adplay",n),t.mux.emit("adplaying",n)}),e(o,function(e){var n=r(e);t.mux.emit("adpause",n)}),e(a,function(e){var n=r(e);t.mux.emit("adended",n)}),e(u,function(e){var n=r(e);t.mux.emit("adended",n)}),t.on("adserror",function(){c>0&&(c--,t.mux.emit("adresponse")),t.mux.emit("aderror")})})}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i},function(e,t,r){"use strict";function n(e){if("string"!=typeof e)return!1;var t=e.split(".").map(function(e){return parseInt(e)}),r=t[0],n=t[1];return r>2||2===r&&n>=3}function i(e){var t=function(){var t=e.ima3.currentAd,r=e.ima3.settings,n={};return t&&(n.ad_asset_url=t.mediaUrl),r&&(n.ad_tag_url=r.serverUrl),n};if(n(e.ima3.version)){var r=0,i=function(){r>0&&(r--,e.mux.emit("adresponse",t()))};e.on("ads-request",function(){r++,e.mux.emit("adrequest",t())}),e.on("ads-load",function(){i(),e.mux.emit("adplay",t())}),e.on("adserror",function(){i(),e.mux.emit("aderror")}),e.on("ads-play",function(){e.mux.emit("adplay",t())}),e.on("ads-pause",function(){e.mux.emit("adpause",t())}),e.on("ads-ad-ended",function(){e.mux.emit("adended",t())})}e.ima3.ready(function(){if(e.ima3.adPlayer){n(e.ima3.version)||(e.ima3.adPlayer.on("play",function(){e.mux.emit("adplay")}),e.ima3.adPlayer.on("pause",function(){e.mux.emit("adpause")}),e.ima3.adPlayer.on("ended",function(){e.mux.emit("adended")}));var r=["pause","ended","adserror"],i=["play"];(0,o.default)(e,e.ima3.adPlayer,r,i,t)}else e.mux.log("Legacy IMA3 plugin found, ad events may not track correctly."),e.on("ads-ad-started",function(){e.mux.emit("adplaying",t())}),e.on("ads-play",function(){e.mux.emit("adplaying",t())})})}Object.defineProperty(t,"__esModule",{value:!0}),t.brightcoveImaAdsEventsSupported=n,t.default=i;var a=r(1),o=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,r){"use strict";function n(e){var t=function(t){var r=e.FreeWheelPlugin,n={};switch(t){case"adplay":case"adplaying":case"adpause":n.ad_asset_url=e.currentSrc()}return r&&(n.ad_tag_url="html5"===r.tech.toLowerCase()?r.settings.Html5.serverUrl:r.settings.Flash.serverUrl),n};e.on("ads-request",function(){e.mux.emit("adrequest",t("adrequest"))}),e.on("ads-load",function(){e.mux.emit("adresponse",t("adresponse"))}),e.on("adserror",function(){e.mux.emit("aderror")}),e.on("ads-ad-started",function(){e.mux.emit("adplay",t("adplay")),e.mux.emit("adplaying",t("adplaying"))}),e.on("ads-play",function(){e.mux.emit("adplay",t("adplay")),e.mux.emit("adplaying",t("adplaying"))}),e.on("ads-pause",function(){e.mux.emit("adpause",t("adpause"))}),e.on("ads-ad-ended",function(){e.mux.emit("adended",t("adended"))}),e.on("adend",function(){e.mux.emit("play")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,r){"use strict";function n(e){var t=["onceux-linearad-pause","onceux-linearad-skipped","onceux-linearad-complete","adserror"],r=["adstart","onceux-linearad-resume"];(0,a.default)(e,e,t,r),e.on("adstart",function(){e.mux.emit("adplay")}),e.on("onceux-linearad-start",function(t){t.linearAd&&t.linearAd.index>0&&(e.mux.emit("adplay"),e.mux.emit("adplaying"))}),e.on("onceux-linearad-resume",function(){e.mux.emit("adplay")}),e.on("onceux-linearad-pause",function(){e.mux.emit("adpause")}),e.on("onceux-linearad-complete",function(){e.mux.emit("adended")}),e.on("onceux-linearad-skipped",function(){e.mux.emit("adended")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(1),a=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,r){"use strict";function n(e){if(!o&&"function"==typeof e.getTech){for(var t=e.getTech("Html5")||{},r=t.sourceHandlers,n=0;n<r.length;n++)!function(t){var n=r[t],i=n.handleSource;n.handleSource=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i(t,r,n);if(o&&"function"==typeof o.xhr)try{(0,a.default)(e(o.player_.el_.parentNode.id),o.xhr)}catch(e){}return o}}(n);o=!0}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(11),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=!1},function(e,t,r){"use strict";function n(e,t){var r=function(t,r,n){var i=(0,a.default)(e,t,r);return function(){try{i()}catch(e){}try{n()}catch(e){}}},n=function(e){return function(t){var n=Date.now();try{e(t)}catch(e){}try{t.onreadystatechange=r(t,n,t.onreadystatechange||function(){})}catch(e){}}};t.beforeRequest=function(e){return function(t){var r=e(t);return r.beforeSend=n(r.beforeSend||function(){}),r}}(t.beforeRequest||function(e){return e})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=r(12),a=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,r){"use strict";function n(e,t,r){var n=e.mux.utils.extractHostnameAndDomain,a=e.mux.utils.headersStringToObject,o=function(e){var t=e["content-type"];return t?t.match(/^audio\/mpegurl/i)?"manifest":t.match(/^audio.*/i)?"audio":t.match(/^video.*/)?"video":t.match(/^application\/x-mpegurl/i)?"manifest":t.match(/^application\/vnd.apple.mpegurl/i)?"manifest":t.match(/^application\/dash+xml/i)?"manifest":"unknown":"unknown"},s=0;return function(){var u=t.readyState;if(u>=2){if(s=s||Date.now(),4!==u)return;if(t.status>=200&&t.status<300){var l=Date.now(),c="arraybuffer"===t.responseType?t.response.byteLength:t.responseText.length,f=n(t.responseURL),d=i(f,1),p=d[0],h=a(t.getAllResponseHeaders?t.getAllResponseHeaders():""),v=o(h),y={request_start:r,request_response_start:s,request_response_end:l,request_bytes_loaded:c,request_hostname:p,request_response_headers:h,request_type:v};e.mux.emit("requestcompleted",y)}else e.mux.emit("requestfailed")}}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=n}])})})()},function(e,t){e.exports=v},function(e,t){var r=e.exports={};var n;var i;function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=a}}catch(e){n=a}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=o}}catch(e){i=o}})();function s(e){if(n===setTimeout){return setTimeout(e,0)}if((n===a||!n)&&setTimeout){n=setTimeout;return setTimeout(e,0)}try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function u(e){if(i===clearTimeout){return clearTimeout(e)}if((i===o||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var l=[];var c=false;var f;var d=-1;function p(){if(!c||!f){return}c=false;if(f.length){l=f.concat(l)}else{d=-1}if(l.length){h()}}function h(){if(c){return}var e=s(p);c=true;var t=l.length;while(t){f=l;l=[];while(++d<t){if(f){f[d].run()}}d=-1;t=l.length}f=null;c=false;u(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}l.push(new v(e,t));if(l.length===1&&!c){s(h)}};function v(e,t){this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function y(){}r.on=y;r.addListener=y;r.once=y;r.off=y;r.removeListener=y;r.removeAllListeners=y;r.emit=y;r.prependListener=y;r.prependOnceListener=y;r.listeners=function(e){return[]};r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},function(e,t){t.endianness=function(){return"LE"};t.hostname=function(){if(typeof location!=="undefined"){return location.hostname}else return""};t.loadavg=function(){return[]};t.uptime=function(){return 0};t.freemem=function(){return Number.MAX_VALUE};t.totalmem=function(){return Number.MAX_VALUE};t.cpus=function(){return[]};t.type=function(){return"Browser"};t.release=function(){if(typeof navigator!=="undefined"){return navigator.appVersion}return""};t.networkInterfaces=t.getNetworkInterfaces=function(){return{}};t.arch=function(){return"javascript"};t.platform=function(){return"browser"};t.tmpdir=t.tmpDir=function(){return"/tmp"};t.EOL="\n";t.homedir=function(){return"/"}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(r,n,i){"use strict";i.r(n);var a=i(32);var o=i(39);var s=i(40);var u=i(47);var l=i(88);var c=i(31);var f=i.n(c);var d=i(50);var p=i.n(d);var h=i(91);var y=i(0);function m(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){m=function e(t){return typeof t}}else{m=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return m(e)}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function b(e,t,r){if(t)_(e.prototype,t);if(r)_(e,r);return e}function T(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable});r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};if(t%2){S(r,true).forEach(function(t){T(e,t,r[t])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))}else{S(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}}return e}function E(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)P(e,t)}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return k(e)}function P(e,t){P=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return P(e,t)}function O(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function C(e,t){if(t&&(m(t)==="object"||typeof t==="function")){return t}return O(e)}var A="0.7.0";var x=function(e){E(t,e);function t(){var e;var r;g(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++){i[a]=arguments[a]}r=C(this,(e=k(t)).call.apply(e,[this].concat(i)));T(O(r),"pluginName","mux");return r}b(t,[{key:"beforeVideo",value:function e(t,r){return this.setupMux(t,r)}},{key:"setupMux",value:function e(t,r){var n=this;var i=t.bcAnalytics;t.one("loadstart",function(){var e=n._config.MUX_PLAYER_NAME||i&&i.settings.playerName||"Undefined Player";var a=n._config.MUX_PLAYER_VERSION||i&&i.settings.platformVersion||"0.0.1";t.mux({debug:!!n._config.MUX_DEBUG_MODE,data:w({property_key:n._config.MUX_PROPERTY_KEY,page_type:"watchpage",viewer_user_id:r.userId||r.advertisingId||"",experiment_name:"SWMPlayer",sub_property_id:t.el().getAttribute("data-application-id"),player_name:e,player_version:a,player_init_time:Date.now()},n.generateVideoMetadata(t))})});t.on(y["events"].player.contentupdate,function(){t.mux.emit("videochange",n.generateVideoMetadata(t))})}},{key:"generateVideoMetadata",value:function e(t){var r=t.mediainfo;return{video_id:r.referenceId||r.id,video_title:r.name,video_series:r.customFields.content_showname,video_content_type:r.customFields.content_type,video_language_code:"en",video_duration:r.duration,video_stream_type:r.stream_type_qos||"vod"}}}]);return t}(y["PlayerPlugin"]);T(x,"VERSION",A);var I=x;function L(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){L=function e(t){return typeof t}}else{L=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return L(e)}function D(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function j(e,t,r){if(t)R(e.prototype,t);if(r)R(e,r);return e}function M(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function N(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)B(e,t)}function U(e){U=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return U(e)}function B(e,t){B=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return B(e,t)}function F(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function q(e,t){if(t&&(L(t)==="object"||typeof t==="function")){return t}return F(e)}var H=function r(n){var i={now:function e(){return(new Date).getTime()},sendMonitoringPixel:function e(t){try{this.sendUrlRequest(["//pixel.adsafeprotected.com/mon?anId=10173&campId=",encodeURIComponent(l.getPartnerId()),"&pubId=",encodeURIComponent("vans-js_"+t)].join(""))}catch(e){a.report("smp",e)}},sendUrlRequest:function e(t,r){var n,i;if(t){n=this.getWindow();try{i=new n.XMLHttpRequest,r&&(i.onreadystatechange=r),i.open("GET",t),i.send()}catch(e){}}},getWindow:function t(){return e},getDocument:function e(){return t},generateUID:function e(){var t,r="";try{for(t=0;8>t;t++){r=[r,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}}catch(e){}return r},noop:function e(){}},a=function(){var e={};return{report:function t(r,n){if(!e[r])try{e[r]=!0,i.sendUrlRequest(["//fw.adsafeprotected.com/jsdiagnostic?code:vans-js_",encodeURIComponent(l.getPartnerId()),"_",r,"&err:",encodeURIComponent(n.message)].join(""))}catch(e){}}}}(),o=function(){var e,t=!1,r=function e(r){r==n()&&(t=!0,u.flushUnsentEvents());return t?"jv3":null},n=function t(){e||(e=i.generateUID());return e};return{getVideoId:n,setNodeInterface:function e(t){var o,s,u=n();try{o="IASid"+u,s="blockAd"+u,t.className+=" integral-vid-"+u,t[s]=i.noop,t[o]=r,t.getVersion=function(){return"3.2.1"}}catch(e){a.report("sni",e)}},isEstablished:function e(){return t},resetHandshake:function e(){t=!1}}}(),s=function(){var t,r=function t(){var r=function e(t){return"undefined"!==typeof t},n=function(){var t="u";try{r(e.opera)&&r(e.opera.buildNumber)?t="o":r(e.mozInnerScreenY)?t="g":r(e.chrome)&&r(e.chrome.csi)?t="c":r(e.msWriteProfilerMark)&&r(e.crypto)?t="e":r(e.attachEvent)||r(e.msCrypto)?t="i":r(e.WebKitPoint)&&(t="w")}catch(e){}return t}(),i=function(){var t=function e(t){for(var n in t){if(t.hasOwnProperty(n)){var i=t[n];""!==i&&"null"!==i&&"undefined"!==i&&null!==i&&r(i)||delete t[n]}}return t},n=function e(t){var e={},n,i;for(i in t){t.hasOwnProperty(i)&&(n=t[i],r(e[n])?e[n]+=i:e[n]=i)}t={};for(i in e){e.hasOwnProperty(i)&&(n=e[i],t[n]=i)}return t};return function(){var i=function t(){var n={g:"",q:""};try{n.q=e.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(o){var t=o.message,t=t.substring(t.lastIndexOf("<")+1,t.lastIndexOf(">")),i;if(i=r(t))if(i=!1,r(e.navigator)&&r(e.navigator.userAgent)){var a=e.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==a&&2==a.length&&(a=a[1].split("."),3==parseInt(a[0],10)&&6>=parseInt(a[1],10)&&(3==a.length?13>=parseInt(a[2],10)&&(i=!0):i=!0))}i&&(n.g=t)}return n},a={};try{a.a=encodeURIComponent(top.location.href)}catch(e){}try{a.b=encodeURIComponent(parent.location.href)}catch(e){}if(e!=top){try{a.c=encodeURIComponent(parent.document.referrer)}catch(e){}try{a.e=encodeURIComponent(e.document.referrer)}catch(e){}}try{a.d=encodeURIComponent(e.location.href)}catch(e){}try{var o=i();a.g=encodeURIComponent(o.g);a.q=encodeURIComponent(o.q)}catch(e){}var a=t(a),a=n(a),i=[],s;for(s in a){a.hasOwnProperty(s)&&i.push({key:s,val:a[s]})}i.sort(function(e,t){return e.val.length>t.val.length?1:e.val.length<t.val.length?-1:0});return i}()}();return{br:n,urls:i}},n=function e(t,r,n){var i=["//fw.adsafeprotected.com/db2/video/",r,"/",n,"/skeleton.js?videoId=",o.getVideoId()].join("");r=function e(t){i=[i,"&adsafe_url=",t.val,"&adsafe_type=",t.key].join("")};try{t.urls.forEach(r),i=[i,"&adsafe_jsinfo=br:",t.br].join("")}catch(e){a.report("bvu",e)}return i},s=function e(){if(4==this.readyState)if(u.sendPerfSample(40),200==this.status)try{t("failed"===JSON.parse(this.responseText).action?"block":"safe")}catch(e){a.report("ba",e)}else a.report("blk_url_req_err",{message:this.status})};return{init:function e(a,o,l){var c=r();u.sendPerfSample(30);a=n(c,a,o);t=l;i.sendUrlRequest(a,s)}}}(),u=function(){var e=[],t=function t(r){if(o.isEstablished())try{i.getWindow().postMessage(JSON.stringify(r),"*")}catch(t){a.report("dm",t)}else try{e.push(r)}catch(t){a.report("cm",t)}},r=function e(r,n){try{t({messageType:r,id:o.getVideoId(),time:i.now(),partner:l.getPartnerId(),eventData:n})}catch(e){a.report("se",e)}};return{sendEvent:r,flushUnsentEvents:function r(){try{e.forEach(t)}catch(e){a.report("fue",e)}},sendPerfSample:function e(t){r("PerfCheckpoint",{type:"vans",code:t,timestamp:i.now()})}}}(),l=function(){var e,t=function e(t,r){var i,s=n||"fw.adsafeprotected.com",u=function e(t){var r="";Object.keys(t).forEach(function(e){"advEntityId"!=e&&"pubEntityId"!=e&&"partner"!=e&&(r+="&"+e+"="+t[e])});return r};try{i=["//",s,t,"?videoId=",o.getVideoId(),u(r)].join("")}catch(e){a.report("bsurl",e)}return i},r=function e(r,n){var a,o=i.getDocument();try{if(a=o.createElement("script"),a.src=t(r,n),o.body)o.body.insertBefore(a,o.body.firstChild);else if(o.head)o.head.appendChild(a);else if(o.documentElement)o.documentElement.appendChild(a);else throw Error()}catch(e){i.sendMonitoringPixel("inj_err")}};return{initCM:function t(n,s){if(!n.partner)throw Error("missing partnerId");u.sendPerfSample(20);e=n.partner;try{if(!n.anId)throw Error("missing anId");i.sendMonitoringPixel("cminit");o.setNodeInterface(s);r("/jsvid",n)}catch(e){a.report("icm",e)}},initFW:function t(n,l,c){var f;if(!n.partner)throw Error("missing partnerId");u.sendPerfSample(20);e=n.partner;try{if(!n.advEntityId||!n.pubEntityId)throw Error("missing client id: advEntityId: "+n.advEntityId+" ,pubEntityId: "+n.pubEntityId);i.sendMonitoringPixel("fwinit");c&&s.init(n.advEntityId,n.pubEntityId,c);f="/fwjsvid/st/"+n.advEntityId+"/"+n.pubEntityId+"/skeleton.js";o.setNodeInterface(l);r(f,n)}catch(e){a.report("ifw",e)}},getPartnerId:function t(){return e}}}();u.sendPerfSample(10);return{initFW:l.initFW,initCM:l.initCM,sendEvent:u.sendEvent}};v.registerPlugin("integral",function(e){if("undefined"!=typeof e&&e.anId){var r=this;r.integral={options:e};var n={},i=r.width()+"x"+r.height();e={"ad-loaded":{generic:"ads-load"},"ad-started":{generic:"ads-ad-started"},"first-quartile":{generic:"ads-first-quartile"},midpoint:{generic:"ads-midpoint"},"third-quartile":{generic:"ads-third-quartile"},"ad-ended":{generic:"ads-ad-ended"},pause:{generic:"ads-pause"},resume:{generic:"ads-play"},click:{generic:"ads-click"},volume:{generic:"ads-volumechange"},skip:{generic:"ads-skip"}};r.on(e["ad-started"].generic,function(e){r.ads.ad&&(r.integral.duration=r.ads.ad.duration,r.integral.adId=r.ads.ad.id);e={partner:"Brightcove",chanId:r.integral.adId};r.integral.vans=new H;r.integral.vans.initCM(r.integral.merge_options(e,r.integral.options),r.el());n={ad_duration:r.integral.duration,volume:r.volume(),ad_dimensions:i,player_dimensions:i,ad_offset_top:0,ad_offset_left:0};r.integral.vans.sendEvent("AdLoaded",n);r.integral.vans.sendEvent("AdRemainingTimeChange",r.integral.merge_options(n,{adRemainingTime:r.integral.duration}));r.on("fullscreenchange",r.integral.FullscreenChangeListener);r.on("volumechange",r.integral.VolumeChangeListener);r.integral.vans.sendEvent("AdImpression",n);r.integral.vans.sendEvent("AdVideoStart",n)});r.on(e["first-quartile"].generic,function(){r.integral.vans.sendEvent("AdVideoFirstQuartile",n)});r.on(e.midpoint.generic,function(){r.integral.vans.sendEvent("AdVideoMidpoint",n)});r.on(e["third-quartile"].generic,function(){r.integral.vans.sendEvent("AdVideoThirdQuartile",n)});r.on(e.pause.generic,function(){r.integral.vans.sendEvent("AdPaused",n)});r.on(e.resume.generic,function(){r.integral.vans.sendEvent("AdPlaying",n)});r.on(e.click.generic,function(){r.integral.vans.sendEvent("AdClickThru",r.integral.merge_options(n,{id:r.integral.adId,playerHandles:!0}))});r.on(e["ad-ended"].generic,function(){r.integral.vans.sendEvent("AdVideoComplete",n);r.off("volumechange",r.integral.VolumeChangeListener);r.off("fullscreenchange",r.integral.FullscreenChangeListener)});r.on(e.skip.generic,function(){r.integral.vans.sendEvent("AdVideoComplete",n);r.off("volumechange",r.integral.VolumeChangeListener);r.off("fullscreenchange",r.integral.FullscreenChangeListener)});r.integral.VolumeChangeListener=function(){var e={volume:r.volume()};r.integral.vans.sendEvent("AdVolumeChange",r.integral.merge_options(n,e))};r.integral.FullscreenChangeListener=function(){i=r.width()+"x"+r.height();var e="normal";if(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)e="fullscreen";r.integral.vans.sendEvent("resizeAd",r.integral.merge_options(n,{viewMode:e}))};r.integral.merge_options=function(e,t){var r={},n;for(n in e){r[n]=e[n]}for(n in t){r[n]=t[n]}return r}}});var V="0.3.2";var W=function(e){N(t,e);function t(){var e;var r;D(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++){i[a]=arguments[a]}r=q(this,(e=U(t)).call.apply(e,[this].concat(i)));M(F(r),"pluginName","integral");return r}j(t,[{key:"afterVideo",value:function e(t,r){if(r.adBlock)return;var n=r.videoType==="live"?this._config.INTEGRAL_PLACEMENT_LIVE_ID:this._config.INTEGRAL_PLACEMENT_VOD_ID;if(typeof t.integral!=="function")return;t.integral({placementId:r.placementId||n,campId:r.adSize||this._config.INTEGRAL_PLACEMENT_CAMP_ID,anId:r.integralId||this._config.INTEGRAL_AN_ID,chanId:r.chanId||this._config.INTEGRAL_CHAN_ID})}}]);return t}(y["PlayerPlugin"]);M(W,"VERSION",V);var G=W;function z(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){z=function e(t){return typeof t}}else{z=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return z(e)}function X(e){if(typeof Symbol==="function"&&z(Symbol.iterator)==="symbol"){X=function e(t){return z(t)}}else{X=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":z(t)}}return X(e)}function Y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function $(e,t,r){if(t)K(e.prototype,t);if(r)K(e,r);return e}function J(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function Q(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)ee(e,t)}function Z(e){Z=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Z(e)}function ee(e,t){ee=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return ee(e,t)}function te(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function re(e,t){if(t&&(z(t)==="object"||typeof t==="function")){return t}return te(e)}v.registerPlugin("moat",function(r){if(r.hasOwnProperty("partnerCode")===false){return false}var n=this,i={"ads-ad-started":"AdImpression","ads-first-quartile":"AdVideoFirstQuartile","ads-midpoint":"AdVideoMidpoint","ads-third-quartile":"AdVideoThirdQuartile","ads-ad-ended":"AdVideoComplete","ads-pause":"AdPaused","ads-play":"AdPlaying","ads-volumechange":"AdVolumeChange","ima3-skipped":"AdSkipped"},a=r["partnerCode"],o;n.on("ads-ad-started",function(e){var t=n.el();var r=f();if(!r){return}var i=d();var u=p();o=h(t,i,r,u,a);s();o.dispatchEvent({type:"AdImpression",adVolume:l()})});function s(){for(var e in i){n.one(e,c)}}function u(){for(var e in i){n.off(e,c)}}function l(){var e=n.ima3&&n.ima3.adPlayer&&X(n.ima3.adPlayer)==="object";if(e){if(typeof n.ima3.adPlayer.muted==="function"&&n.ima3.adPlayer.muted()){return 0}else if(typeof n.ima3.adPlayer.volume==="function"){return n.ima3.adPlayer.volume()}}else if(typeof n.muted==="function"&&n.muted()){return 0}else if(typeof n.volume==="function"){return n.volume()}return 0}function c(e){var t=i[e["type"]];o.dispatchEvent({type:t,adVolume:l()});if(t==="AdVideoComplete"){o=false;u()}}function f(){if(n.ima3&&X(n.ima3.currentAd)==="object"){return n.ima3.currentAd}else if(n.ads&&X(n.ads.ad)==="object"){return n.ads.ad}return false}function d(){if(X(n.ima3)==="object"){var e=n.ima3.currentAd;if(e&&e.adSystem==="GDFP"&&e.id){return e.id}if(typeof e.getAdId==="function"){return e.getAdId()}}else if(n.ads&&X(n.ads.ad)==="object"){return n.ads.ad.id}return false}function p(){var e;if(n.ima3&&n.ima3.currentAd){e=n.ima3.currentAd.duration;if(!e&&typeof n.ima3.currentAd.getDuration==="function"){e=n.ima3.currentAd.getDuration()}}else if(n.ads&&X(n.ads.ad)==="object"){e=n.ads.ad.duration}var t=typeof e==="number"&&!isNaN(e);if(!t){return 0}return e}function h(r,n,i,a,o){var s=t.createElement("script"),u=[],l={},c="_moatApi"+Math.floor(Math.random()*1e8),f,d;l["adData"]={ids:{level3:n},duration:a};l["imaAd"]=i;l["imaSDK-Plugin"]=true;l["plugin"]=1;l["version"]=3;l["dispatchEvent"]=function(e){if(this.sendEvent){if(u){u.push(e);e=u;u=false}this.sendEvent(e)}else{u.push(e)}};try{f=r.ownerDocument;d=f.defaultView||f.parentWindow}catch(r){f=t;d=e}d[c]=l;s.type="text/javascript";r&&r.insertBefore(s,r.childNodes[0]||null);s.src="https://z.moatads.com/"+o+"/moatvideo.js#"+c;return l}});var ne="0.3.2";var ie=function(e){Q(t,e);function t(){var e;var r;Y(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++){i[a]=arguments[a]}r=re(this,(e=Z(t)).call.apply(e,[this].concat(i)));J(te(r),"pluginName","moat");return r}$(t,[{key:"afterVideo",value:function e(t,r){if(r.adBlock||typeof t.moat!=="function")return;t.moat({partnerCode:r.moatId||this._config.MOAT_PARTNER_CODE})}}]);return t}(y["PlayerPlugin"]);J(ie,"VERSION",ne);var ae=ie;class oe{constructor(e,t){this.analyticsVersion="2.1.0";this.trackerName="swm-post-tracker";this.sender=e;this.baseSeedMethod=t;this.sessionId=oe.generateUUID();this.vidSessionId=oe.generateUUID()}static generateUUID(){let e=(new Date).getTime();const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(e+Math.random()*16)%16|0;e=Math.floor(e/16);return(t==="x"?r:r&7|8).toString(16)});return t}static getUnstructEventStringified(e){return JSON.stringify({schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:[{schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:"iglu:com.infernosp/player/jsonschema/1-0-0",data:e}}]})}sendEvent(e){const t=this.baseSeedMethod(e);if(!t){throw new Error("baseSeedMethod must return event object!")}const r=new Date;t.device_timestamp=Number(r);let n=r.getTimezoneOffset();if(n<0){n=Math.abs(n)}else if(n>0){n=0-n}t.device_timezone_offset=n;t.analytics_version=this.analyticsVersion;if(!t.app_session_id){t.app_session_id=this.sessionId}if(!t.player_video_session_id){t.player_video_session_id=this.vidSessionId}const i=this.getPayload(t);this.sender.sendPayload(JSON.stringify(i));return i}getPayload(e){try{const t=oe.getUnstructEventStringified(e);const r=oe.generateUUID();const n=new Date;const i=n.getTime();const a=n.getTime();return{schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4",data:[{e:"se",se_ca:e.event_group.toLowerCase(),se_ac:e.event_name,se_pr:e.analytics_version,se_va:e.event_id.toString(),tv:this.trackerName,tna:e.app_name,aid:e.app_id,p:e.device_platform,eid:r,dtm:i.toString(),co:t,sid:this.sessionId,duid:e.duid,stm:a.toString(),url:e.page_url}]}}catch(e){console.error("Inferno Snowplow getPayload err:",e)}return null}}class se{constructor(){this.app_access="";this.app_id="";this.device_id="";this.advertising_id="";this.user_id="";this.app_session_id="";this.app_name="";this.app_version="";this.device_browser="";this.device_browser_lang="";this.device_browser_version="";this.device_model="";this.device_os="";this.device_os_version="";this.device_type="";this.device_platform="";this.device_postcode=0;this.device_carrier_type="";this.device_connection_type="";this.device_location="";this.device_location_precision=0;this.device_streaming_type="";this.device_screen_width=0;this.device_screen_height=0;this.page_url="";this.event_group="";this.event_id=0;this.event_name="";this.device_timestamp=0;this.device_timezone_offset=0;this.analytics_version=""}toPayload(){return JSON.stringify(this)}}const ue={"application.install":1,"application.upgrade":2,"application.launch":3,"application.exit":4,"application.suspend":5,"application.resume":6};class le extends se{constructor(e){super();this.application_account_numer=0;this.application_install_date=0;this.application_plugin="swm-snowplow-post";this.application_upgrade_date=0;if(ue[e]===undefined){throw new Error(`${e} event is not supported by this library.`)}this.event_group="Application";this.event_id=ue[e];this.event_name=e}}const ce={"player.start.live":201,"player.play.live":202,"player.stop":203,"player.complete.vod":204,"player.progress.live":206,"player.chromecast.on":207,"player.chromecast.off":208,"player.fullscreen.enabled":209,"player.fullscreen.disabled":210,"player.volume.set":211,"player.volume.mute":212,"player.adbegin.live":213,"player.adcomplete.live":215,"player.load.live":216,"player.play.vod":217,"player.progress.vod":218,"player.load.vod":219,"player.adbegin.vod":220,"player.adcomplete.vod":221,"player.pause":225,"player.resume":226,"player.start.vod":227};class fe extends se{constructor(e){super();this.player_media_id="";this.player_media_type="";this.player_video_session_id="";this.stream_url="";this.player_screen_width=0;this.player_screen_height=0;this.player_stream_quality="";this.player_channel_name="";this.player_from_position=0;this.player_to_position=0;this.metadata_content_length=0;if(ce[e]===undefined){throw new Error(`${e} event is not supported by this library.`)}this.event_group="Player";this.event_id=ce[e];this.event_name=e}progressEvent(e,t){this.player_from_position=Number(e)>=0?Number(e):0;this.player_to_position=Number(t)>=0?Number(t):0}}const de={"ux.screen.enter":701,"ux.interaction":702};class pe extends se{constructor(e){super();this.adblocker_used=false;this.screen_width=0;this.screen_height=0;this.screen_name="";this.screen_path="";this.deeplink="";if(de[e]===undefined){throw new Error(`${e} event is not supported by this library.`)}this.event_group="UX";this.event_id=de[e];this.event_name=e}}class he{constructor(e,t){this.url=e;if((t===null||t===undefined)&&typeof navigator!=="undefined"){this.userAgent=navigator.userAgent}}sendPayload(e){const t=new XMLHttpRequest;t.open("POST",this.url);t.setRequestHeader("Content-Type","application/json; charset=UTF-8");if(typeof navigator==="undefined"&&this.userAgent){t.setRequestHeader("User-Agent",this.userAgent)}t.onload=(()=>{});t.onerror=(()=>{});t.send(e)}}var ve=i(49);var ye=i.n(ve);var me=i(11);var ge=i.n(me);function _e(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_e=function e(t){return typeof t}}else{_e=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return _e(e)}function be(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function Te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function Se(e,t,r){if(t)Te(e.prototype,t);if(r)Te(e,r);return e}function we(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function Ee(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)Pe(e,t)}function ke(e){ke=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return ke(e)}function Pe(e,t){Pe=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return Pe(e,t)}function Oe(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function Ce(e,t){if(t&&(_e(t)==="object"||typeof t==="function")){return t}return Oe(e)}function Ae(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=ke(e);if(e===null)break}return e}function xe(e,t,r){if(typeof Reflect!=="undefined"&&Reflect.get){xe=Reflect.get}else{xe=function e(t,r,n){var i=Ae(t,r);if(!i)return;var a=Object.getOwnPropertyDescriptor(i,r);if(a.get){return a.get.call(n)}return a.value}}return xe(e,t,r||e)}var Ie=function e(r,n,i){if(t.createEvent){var a=t.createEvent("CustomEvent");a.initCustomEvent(n,true,true,i);t.dispatchEvent(a)}else{var o=new CustomEvent(n,{detail:i});t.dispatchEvent(o)}};var Le=function e(t){if(t.length)return false;return Object.keys(t).length===0&&t.constructor===Object};var De=function e(t){var r="";var n=0;var i=t.length;var a;var o;var s;while(n<i){a=t[n++];switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r+=String.fromCharCode(a);break;case 12:case 13:o=t[n++];r+=String.fromCharCode((a&31)<<6|o&63);break;case 14:o=t[n++];s=t[n++];r+=String.fromCharCode((a&15)<<12|(o&63)<<6|(s&63)<<0);break;default:break}}return r};var Re=function e(t){var r=this;be(this,e);we(this,"emit",function(e){var t;r.eventHistory.push(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++){i[a-1]=arguments[a]}(t=r.player).trigger.apply(t,[e].concat(i));Ie(r.player.el(),e)});we(this,"once",function(e){if(r.eventHistory.indexOf(e)===-1){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}r.emit.apply(r,[e].concat(n))}});we(this,"getEventHistory",function(){return r.eventHistory});this.eventHistory=[];this.player=t};var je=v.getPlugin("plugin");var Me=true;var Ne=false;var Ue=.98;var Be=function(t){Ee(r,t);function r(t,n){var i;be(this,r);i=Ce(this,ke(r).call(this,t,n));we(Oe(i),"registerPlayerEventHandlers",function(e){i.initCommonEventHandlers();if(e==="live"){i.initLiveEventHandlers();i.registerLivePlayerEventHandlers()}else{i.initVodEventHandlers();i.initSsaiEventHandlers();i.registerVodPlayerEventHandlers()}});we(Oe(i),"initCommonEventHandlers",function(){i.commonEventHandlers={ready:i.getEmitOnceHandler(y["events"].player.ready,Me),loadstart:i.getEmitOnceHandler(y["events"].player.ready,Me),click:i.onClickOrTouch,touchend:i.onClickOrTouch,playing:function e(){i.setState({started:true});i.emitter.once(y["events"].player.firstplay);i.emitter.emit(y["events"].player.playing);return Me},durationchange:i.getEmitOnceHandler(y["events"].player.loaded,Me),loadedmetadata:function e(t){i.emitter.once(y["events"].player.loadedmetadata,t);i.emitter.once(y["events"].player.loaded,t);return Me},loadeddata:function e(t){i.emitter.once(y["events"].player.loadeddata,t);i.emitter.once(y["events"].player.loaded,t);return Me},play:function e(){if(!i.state.playClicked){i.setState({paused:false,playClicked:true});i.emitter.emit(y["events"].player.play)}return Me},pause:i.onPause,adsready:function e(){i.setState({adsQueueComplete:false});i.emitter.emit(y["events"].player.adsready);return Me},adserror:function e(){i.setState({adsQueueComplete:true});i.emitter.emit(y["events"].player.adserror);return Me},"ads-pod-started":i.onAdsPodStarted,"ads-pod-ended":i.onAdsPodEnded,"ads-ad-started":i.getEmitHandler(y["events"].player.adstart,Me),"ads-ad-ended":i.getEmitHandler(y["events"].player.adend,Me),"ads-load":function e(){i.setState({adsLoading:true});return Ne},"ima3-hard-timeout":function e(){i.setState({adsQueueComplete:true,adsLoading:false});i.emitter.emit(y["events"].player.ima3hardtimeout);return Me},fullscreenchange:function e(){i.emitter.emit(y["events"].player.fullscreen,i.player.isFullscreen());return Me},volumechange:i.onVolumeChange,exit:i.getEmitHandler(y["events"].player.exit,Me),"player-refresh-stream":i.getEmitHandler(y["events"].player.refreshstream,Me),error:i.getEmitHandler(y["events"].player.error,Me),"player-toggleplay":i.getEmitHandler(y["events"].player.togglePlay,Ne),"ads-pause":i.getEmitHandler(y["events"].player.adspause,Me),"ads-play":i.getEmitHandler(y["events"].player.adsplay,Me),swmTimerFired:i.getEmitHandler(y["events"].player.timerFired,Me)}});we(Oe(i),"initLiveEventHandlers",function(){i.liveEventHandlers={cuechange:function e(t){if(i.hasFirstPlayFired()){i.emitter.emit(y["events"].player.id3,t);return Me}return Ne},timeupdate:i.onLiveTimeUpdate,"yospace-advertstart":i.getEmitHandler(y["events"].yospace.adstart,Me),"yospace-advertend":i.getEmitHandler(y["events"].yospace.adend,Me),"yospace-adbreakstart":function e(){i.emitter.emit(y["events"].yospace.adbreakstart,{type:"midroll"});return Me},"yospace-adbreakcomplete":function e(){i.emitter.emit(y["events"].yospace.adbreakcomplete,{type:"midroll"});return Me}}});we(Oe(i),"initVodEventHandlers",function(){i.vodEventHandlers={seeking:function e(){if(i.state.seeking||!i.hasLoadedFired())return;i.setState({seeking:true});i.emitter.emit(y["events"].player.seek);return Me},seeked:function e(){if(!i.hasLoadedFired())return;i.setState({seeking:false});i.emitter.emit(y["events"].player.seeked);return Me},timeupdate:i.onVodTimeUpdate,pause:function e(){var t=i.player.currentTime();var r=i.player.duration()-1;if(!t||t<=r)return;i.emitter.once(y["events"].player.finished);return Me},ended:function e(){i.emitter.once(y["events"].player.finished);return Me},contentupdate:function e(){i.eventHistory.length=0;i.emitter.once(y["events"].player.contentupdate);return Me}}});we(Oe(i),"initSsaiEventHandlers",function(){i.ssaiEventHandlers={timeupdate:function e(){return i.state.adsQueueComplete?Ne:Me}}});we(Oe(i),"registerLivePlayerEventHandlers",function(){i.player.on(y["events"]["native"].concat(y["events"].custom),function(e,t){if(!i.handleLiveEvent(e.type,t)){i.handleCommonEvent(e.type,t)}});i.player.on(y["events"].player.ready,function(){i.player.textTracks().addEventListener("addtrack",function(e){var t=e.track;if(!t)return;t.mode="hidden";t.addEventListener("cuechange",function(e){return i.onCueChange(e,t)})})});e.addEventListener("beforeunload",function(){i.handleLiveEvent("exit")})});we(Oe(i),"registerVodPlayerEventHandlers",function(){i.player.on(y["events"]["native"].concat(y["events"].custom),function(e){var t=false;if(i.player.onceux&&i.player.onceux.currentTime){t=i.handleSSAIEvent(e.type)}if(!t&&!i.handleVodEvent(e.type)){i.handleCommonEvent(e.type)}})});we(Oe(i),"getEmitOnceHandler",function(e,t){return function(r){i.emitter.once(e,r);return t||Ne}});we(Oe(i),"getEmitHandler",function(e,t){return function(r){i.emitter.emit(e,r);return t||Ne}});we(Oe(i),"getEventHandler",function(e,t){return e[t]||function(){}});we(Oe(i),"handleEvent",function(e,t,r){return i.getEventHandler(e,t)(r)});we(Oe(i),"handleCommonEvent",function(e,t){return i.handleEvent(i.commonEventHandlers,e,t)});we(Oe(i),"handleLiveEvent",function(e,t){return i.handleEvent(i.liveEventHandlers,e,t)});we(Oe(i),"handleVodEvent",function(e,t){return i.handleEvent(i.vodEventHandlers,e,t)});we(Oe(i),"handleSSAIEvent",function(e,t){return i.handleEvent(i.ssaiEventHandlers,e,t)});we(Oe(i),"hasEventFired",function(e){return i.eventHistory.indexOf(e)>-1});we(Oe(i),"hasFirstPlayFired",function(){return i.eventHistory.indexOf(y["events"].player.firstplay)>-1});we(Oe(i),"hasPrerollCompleted",function(){return i.eventHistory.indexOf(y["events"].player.adbreakcomplete)>-1});we(Oe(i),"hasLoadedFired",function(){return i.eventHistory.indexOf(y["events"].player.loaded)>-1});we(Oe(i),"hasReadyFired",function(){return i.eventHistory.indexOf(y["events"].player.ready)>-1});we(Oe(i),"onClickOrTouch",function(){if(i.state.adBreakInProgress){i.emitter.emit(y["events"].player.adsclick)}i.emitter.emit(y["events"].player.click)});we(Oe(i),"onPause",function(){if(i.state.seeking||i.player.hasClass("vjs-ima3-not-playing-yet")||i.player.hasClass("vjs-ad-playing")||i.player.hasClass("vjs-ad-loading"))return;var e=false;if(i.state.adsQueueComplete){e=true;i.setState({paused:true,playClicked:false})}i.emitter.emit(y["events"].player.pause,{stopProgressTimer:e});return Me});we(Oe(i),"onVolumeChange",function(){if(!i.hasFirstPlayFired())return;var e=i.player.muted();var t=e?0:i.player.volume();if(i.state.volume!==t){i.emitter.emit(y["events"].player.volume,{volume:t});if(e){i.emitter.emit(y["events"].player.mute,true)}else if(i.state.muted){i.emitter.emit(y["events"].player.mute,false)}}i.setState({volume:t,muted:e});return Me});we(Oe(i),"onAdsPodStarted",function(){var e=false;var t=i.state.adBreakInProgress;var r=Ne;if(!t){t=true;r=Me;i.emitter.emit(y["events"].player.adbreakstart,{type:i.hasPrerollCompleted()?"midroll":"preroll"})}i.setState({adsQueueComplete:e,adBreakInProgress:t});return r});we(Oe(i),"onAdsPodEnded",function(){var e=true;var t=false;var r=i.state.adBreakInProgress;var n=Ne;var a=false;if(r){r=false;n=Me;a=true}i.setState({adsQueueComplete:e,adsLoading:t,adBreakInProgress:r});if(a){i.emitter.emit(y["events"].player.adbreakcomplete,{type:i.hasPrerollCompleted()?"midroll":"preroll"})}return n});we(Oe(i),"onLiveTimeUpdate",function(){if(!i.hasFirstPlayFired())return;var e=i.player.currentTime();var t=Math.round(e);var r=i.state.progressPrevious;if(t>i.state.progressPrevious){r=t;i.emitter.emit(y["events"].player.progress,t)}i.setState({progressPrevious:r,progressCurrent:t});i.emitter.emit(y["events"].player.timeupdate,e);return Me});we(Oe(i),"onVodTimeUpdate",function(){if(!i.hasLoadedFired()||i.state.adBreakInProgress){return v.log.warn("Preventing timeupdate method, no loaded event has been fired yet.")}var e=i.player.usingPlugin("ssai")&&i.player.ssai().state.enabled?i.player.ssai().currentTimelineState().relativeTime:i.player.currentTime();var t=i.player.duration();var r=Math.round(e);var n=i.state.progressPrevious;if(r!==n&&!i.state.seeking&&!i.state.paused){n=r;i.emitter.emit(y["events"].player.progress,{previous:i.state.progressPrevious,current:r})}i.setState({progressPrevious:n,progressCurrent:r});if(r&&r/t>Ue){i.emitter.once(y["events"].player.complete)}i.emitter.emit(y["events"].player.timeupdate,e);return Me});we(Oe(i),"onCueChange",function(e,t){var r={};Array.from(t.cues).map(function(e){var n=e.startTime,i=e.value;if(!t.activeCues[0]||!i||!i.data)return;if(n===t.activeCues[0].startTime){r[i.key]=De(i.data);if(i.owner)r.owner=i.owner}});if(r.PRIV&&r.PRIV.length>1){i.player.last_position=r.PRIV;i.handleLiveEvent("cuechange",r)}else if(!Le(r)){i.handleLiveEvent("cuechange",r)}});i.emitter=new Re(t);i.eventHistory=i.emitter.getEventHistory();i.state={adsLoading:false,muted:false,volume:1,adBreakInProgress:false,adsQueueComplete:n.adBlocker,started:false,seeking:false,paused:false,playClicked:false,progressPrevious:0,progressCurrent:0};i.registerPlayerEventHandlers(n.videoType);return i}return r}(je);var Fe=v.getPlugin("plugin");var qe=y["events"].timer.fired;var He=function(e){Ee(t,e);function t(e,r){var n;be(this,t);n=Ce(this,ke(t).call(this,e,r));n.setState({intervalMs:null,timerRef:null,isActive:false});return n}Se(t,[{key:"start",value:function e(t){var r=this;clearInterval(this.state.timerRef);this.setState({intervalMs:t,timerRef:setInterval(function(){return r.player.trigger(qe)},t),isActive:true})}},{key:"stop",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;clearInterval(this.state.timerRef);if(this.state.isActive&&t){this.player.trigger(qe)}this.setState({isActive:false})}},{key:"isActive",value:function e(){return this.state.isActive}},{key:"dispose",value:function e(){if(this.state.isActive){this.stop(false)}xe(ke(t.prototype),"dispose",this).call(this)}}]);return t}(Fe);var Ve={ux:{screenEnter:"ux.screen.enter",interaction:"ux.interaction"},player:{startLive:"player.start.live",playLive:"player.play.live",stop:"player.stop",completeVod:"player.complete.vod",progressLive:"player.progress.live",chromecastOn:"player.chromecast.on",chromecastOff:"player.chromecast.off",fullscreenEnabled:"player.fullscreen.enabled",fullscreenDisabled:"player.fullscreen.disabled",volumeSet:"player.volume.set",volumeMute:"player.volume.mute",adBeginLive:"player.adbegin.live",adCompleteLive:"player.adcomplete.live",loadLive:"player.load.live",playVod:"player.play.vod",progressVod:"player.progress.vod",loadVod:"player.load.vod",adBeginVod:"player.adbegin.vod",adCompleteVod:"player.adcomplete.vod",pause:"player.pause",resume:"player.resume",startVod:"player.start.vod"}};var We="snowplowDeviceId";var Ge=function e(){var t="test";try{localStorage.setItem(t,t);localStorage.removeItem(t);return true}catch(e){return false}};var ze=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=new fe(r);t.sendEvent(Object.assign(i,n))};var Xe="ad-playback";var Ye=function e(t,r){t.on(y["events"].player.volume,function(e,t){var n=Math.round(t.volume*100);if(n===0){ze(r,Ve.player.volumeMute,{})}else{ze(r,Ve.player.volumeSet,{player_volume:n})}});t.on(y["events"].player.fullscreen,function(e,t){var n=t?Ve.player.fullscreenEnabled:Ve.player.fullscreenDisabled;ze(r,n,{})});t.on(y["events"].player.unmount,function(){if(t.timer&&t.timer.isActive){t.timer.stop(true)}})};var Ke=function e(){if(!Ge()){return oe.generateUUID()}var t=localStorage.getItem(We);if(!t){t=oe.generateUUID();localStorage.setItem(We,t)}return t};var $e="https://snowplow.swm.digital/com.snowplowanalytics.snowplow/tp2";var Je="https://snowplow.inferno.digital/com.snowplowanalytics.snowplow/tp2";var Qe=function t(r,n){var i=n.appId||"test_app_0.0.1";var a=n.appName||"7plus";var o=n.appVersion||"1.0.0";var s=n.postcode||2015;var u=Je;if(n.snowplowUrl){u=n.snowplowUrl}else if(n.production){u=$e}else if(n.snowplowEndpoint){u="https://".concat(n.snowplowEndpoint,"/com.snowplowanalytics.snowplow/tp2")}var l=new he(u);var c=n.deviceId;if(!c)c=Ke();var f=n.advertisingId;if(!f&&e.Lotame&&e.Lotame.Profile){f=e.Lotame.Profile.pid}var d=ge.a.osname;var p=ge.a.osversion;var h=ye.a.detect();var v="desktop";if(ge.a.tablet){v="tablet"}else if(ge.a.mobile){v="phone"}return new oe(l,function(t){t.advertising_id=f||null;t.app_access="web";t.app_id=i;t.app_name=a;t.app_version=o;t.device_id=c;t.device_location=null;t.device_location_precision=2;t.device_browser=h.name||null;t.device_browser_lang=e.navigator.language||null;t.device_browser_version=h.version||null;t.device_os=d||null;t.device_os_version=p||null;t.device_platform="web";t.device_postcode=Number(s)||null;t.page_url=e.location.href;t.device_screen_width=e.innerWidth;t.device_screen_height=e.innerHeight;t.device_streaming_type=null;t.device_type=v;t.player_screen_width=r.currentWidth();t.player_screen_height=r.currentHeight();t.player_stream_quality="auto";t.user_id=n.userId||null;t.app_session_id=n.appSessionId||null;t.player_video_session_id=n.playerVideoSessionId||null;return t})};var Ze=v.getPlugin("plugin");var et="Snowplow VOD Plugin";var tt="VOD";var rt=58e3;var nt=3e3;var it=1e3;var at=function e(t){var r=t.split(":");var n=0,i=1;while(r.length>0){n+=i*parseInt(r.pop(),10);i*=60}return n};var ot=function e(t){var r=t.ssai().currentLinearAd().absoluteStartTime();var n=t.ssai().absoluteTimelineState(r).linearAdRoll.timeOffset();if(n==="start")return 0;return at(n)};var st=function e(t){try{if(t.ssai().seekAfterAd_!=null){return Math.floor(t.ssai().seekAfterAd_.relativeTime)}return Math.floor(ot(t))}catch(e){v.log.error("Unable to determine SSAI ad start time.",e);return 0}};var ut=function(t){Ee(r,t);function r(t,n){var i;be(this,r);i=Ce(this,ke(r).call(this,t,n));i.src=n.src||e.location.href;i.lastFromPosition=0;i.lastPreviousPosition=0;i.playEventSent=false;i.playerPaused=false;i.playbackCompleted=false;i.blockResetAfterComplete=false;i.progress={current:n.contentInfo.startAt||t.currentTime()};i.adBlocker=n.adBlocker;i.tracker=Qe(t,n);Ye(t,i.tracker);if(!t.timer){v.log.debug(et,"No timer plugin found, registering it");v.registerPlugin("timer",He)}i.on(t,y["events"].player.timerFired,i._onTimerFired);i.on(t,y["events"].player.ready,i._onPlayerReady);i.on(t,y["events"].player.adbreakstart,i._onPlayerAdPodStart);i.on(t,y["events"].player.adstart,i._onPlayerAdStart);i.on(t,y["events"].player.adend,i._onPlayerAdEnd);i.on(t,y["events"].player.adbreakcomplete,i._onPlayerAdPodEnd);i.on(t,y["events"].player.playing,i._onPlayerPlaying);i.on(t,y["events"].player.finished,i._onPlayerFinished);i.on(t,y["events"].player.pause,i._onPlayerPause);i.on(t,y["events"].player.adspause,i._onPlayerAdsPause);i.on(t,y["events"].player.seeked,i._onPlayerSeeked);i.on(t,y["events"].player.seek,i._onPlayerSeek);i.on(t,y["events"].player.play,i._onPlayerPlay);i.on(t,y["events"].player.adsplay,i._onPlayerAdsPlay);i.on(t,y["events"].player.contentupdate,i._onPlayerContentUpdate);i.on(t,y["events"].player.loadedmetadata,i._onPlayerLoadedMetadata);i.on(t,y["events"].player.timeupdate,i._onTimeupdate);i.one(t,y["events"].player.play,i._onPlayerStart);if(t.events().hasReadyFired()){i._onPlayerReady()}return i}Se(r,[{key:"dispose",value:function e(){if(!this.playerPaused&&this.playEventSent&&this.player.ads.state!==Xe){this._sendProgressEvent(this.lastFromPosition,this.progress.current)}this.off(this.player,y["events"].player.timerFired,this._onTimerFired);this.off(this.player,y["events"].player.ready,this._onPlayerReady);this.off(this.player,y["events"].player.adbreakstart,this._onPlayerAdPodStart);this.off(this.player,y["events"].player.adstart,this._onPlayerAdStart);this.off(this.player,y["events"].player.adend,this._onPlayerAdEnd);this.off(this.player,y["events"].player.adbreakcomplete,this._onPlayerAdPodEnd);this.off(this.player,y["events"].player.playing,this._onPlayerPlaying);this.off(this.player,y["events"].player.finished,this._onPlayerFinished);this.off(this.player,y["events"].player.pause,this._onPlayerPause);this.off(this.player,y["events"].player.adspause,this._onPlayerAdsPause);this.off(this.player,y["events"].player.seeked,this._onPlayerSeeked);this.off(this.player,y["events"].player.seek,this._onPlayerSeek);this.off(this.player,y["events"].player.play,this._onPlayerPlay);this.off(this.player,y["events"].player.adsplay,this._onPlayerAdsPlay);this.off(this.player,y["events"].player.play,this._onPlayerStart);this.off(this.player,y["events"].player.timeupdate,this._onTimeupdate);xe(ke(r.prototype),"dispose",this).call(this)}},{key:"_onTimeupdate",value:function e(t,r){var n=Math.floor(r);if(n-this.progress.current>1){this.lastPreviousPosition=this.progress.current}if(!n&&this._isUsingSSAI()&&this.progress.current&&this.player.ssai().seekAfterAd_){return}this.progress.current=n}},{key:"_onPlayerLoadedMetadata",value:function e(){this.duration=this.adBlocker&&this.player.ssai?Math.floor(this.player.ssai().contentDuration()):Math.floor(this.player.duration())}},{key:"_getPlayerDuration",value:function e(){return Math.floor(this.duration)}},{key:"_getPlayerCurrentTime",value:function e(){return Math.floor(this.progress.current)}},{key:"_onPlayerStart",value:function e(){ze(this.tracker,Ve.player.startVod,{player_media_id:this.player.mediainfo.referenceId,player_media_type:tt,metadata_content_length:this._getPlayerDuration(),stream_url:this.src,player_from_position:0,player_to_position:0,player_alt_media_id:this.player.mediainfo?this.player.mediainfo.id:null})}},{key:"_handlePlayEvent",value:function e(){var t=this;if(!this.playEventSent){this.playEventSent=true;var r=function e(){ze(t.tracker,Ve.player.playVod,{player_media_id:t.player.mediainfo.referenceId,player_media_type:tt,metadata_content_length:t._getPlayerDuration(),stream_url:t.src,player_alt_media_id:t.player.mediainfo?t.player.mediainfo.id:null})};if(this.player.events().state.adsQueueComplete||this.player.usingPlugin("ssai")&&this.player.ads.state!==Xe){r()}else{this.player.one(y["events"].player.adbreakcomplete,function(){r()})}}}},{key:"_handleResumeEvent",value:function e(){if(this.playerPaused){this.playerPaused=false;ze(this.tracker,Ve.player.resume,{})}}},{key:"_sendProgressEvent",value:function e(t,r){if(t<r){ze(this.tracker,Ve.player.progressVod,{player_media_id:this.player.mediainfo.referenceId,player_media_type:tt,metadata_content_length:this._getPlayerDuration(),stream_url:this.src,player_from_position:t,player_to_position:r})}else{if(t===r){v.log.warn(et,"Discarding invalid progress event, the duration of the video hasn't progressed since the last progress event. from_position ".concat(t," = to_position ").concat(r))}else{v.log.warn(et,"Discarding invalid progress event, from_position ".concat(t," >= to_position ").concat(r))}}}},{key:"_playerProgressed",value:function e(){return this.lastFromPosition!==this.progress.current}},{key:"_handleProgressEvent",value:function e(){var t=this;if(!this.progressCooldownTimer&&this.playEventSent&&this.player.ads.state!==Xe&&this._playerProgressed()){if(this.lastPreviousPosition){this._sendProgressEvent(this.lastFromPosition,this.lastPreviousPosition);this.lastPreviousPosition=null}else{this._sendProgressEvent(this.lastFromPosition,this.progress.current)}this.progressCooldownTimer=setTimeout(function(){if(t)t.progressCooldownTimer=null},nt)}if(this.progress.current>0){this.lastFromPosition=this.progress.current}}},{key:"_onPlayerReady",value:function e(){ze(this.tracker,Ve.player.loadVod,{player_media_id:this.player.mediainfo.referenceId,player_media_type:tt,metadata_content_length:this._getPlayerDuration(),stream_url:this.src,player_from_position:0,player_to_position:0})}},{key:"_onPlayerAdPodStart",value:function e(){if(!this.player.timer().isActive())return;this.player.timer().stop(true)}},{key:"_onPlayerAdStart",value:function e(){var t=this.playEventSent?this._getPlayerCurrentTime():0;if(this._isSsaiAdPlaying()){t=st(this.player)}ze(this.tracker,Ve.player.adBeginVod,{player_media_id:this.player.mediainfo.referenceId,player_media_type:tt,metadata_content_length:this._getPlayerDuration(),stream_url:this.src,player_from_position:t,player_to_position:t})}},{key:"_onPlayerAdEnd",value:function e(){var t=this.playEventSent?this._getPlayerCurrentTime():0;if(this._isSsaiAdPlaying()){t=st(this.player)}ze(this.tracker,Ve.player.adCompleteVod,{player_media_id:this.player.mediainfo.referenceId,player_media_type:tt,metadata_content_length:this._getPlayerDuration(),stream_url:this.src,player_from_position:t,player_to_position:t})}},{key:"_onPlayerAdPodEnd",value:function e(){if(!this._isUsingSSAI())return;var t=this.player.ssai().seekAfterAd_;var r=t!=null?Math.floor(t.relativeTime):this.player.ssai().currentTimelineState().relativeTime;if(Math.floor(r)){this.progress.current=Math.floor(r)}}},{key:"_onPlayerAdsPlay",value:function e(){this._handleResumeEvent()}},{key:"_onPlayerPlay",value:function e(){this._handleResumeEvent()}},{key:"_onPlayerPlaying",value:function e(){if(!this._isSsaiAdPlaying()&&!this.playbackCompleted){this.player.timer().start(rt)}this._handlePlayEvent();var t=this._getPlayerCurrentTime();this.lastFromPosition=t<1?0:t}},{key:"_onTimerFired",value:function e(){this._handleProgressEvent()}},{key:"_onPlayerSeek",value:function e(){if(this.playEventSent&&!this.playerPaused&&!this.playbackCompleted){this._handleProgressEvent()}if(this.playbackCompleted&&!this.blockResetAfterComplete){this.playbackCompleted=false}}},{key:"_onPlayerSeeked",value:function e(){this._handleProgressEvent()}},{key:"shouldIgnoreAdsPauseEvent",value:function e(){var t=this.player.events(),r=t.eventHistory;var n=r.lastIndexOf(y["events"].player.click);return r.slice(n).some(function(e){return e===y["events"].player.play})}},{key:"shouldIgnorePauseEvent",value:function e(){return this.player.seeking()}},{key:"_onPlayerAdsPause",value:function e(){if(!this.shouldIgnoreAdsPauseEvent()){this.playerPaused=true;ze(this.tracker,Ve.player.pause,{})}}},{key:"_onPlayerPause",value:function e(){if(!this.shouldIgnorePauseEvent()){this.playerPaused=true;ze(this.tracker,Ve.player.pause,{});this.player.timer().stop(true)}}},{key:"_onPlayerFinished",value:function e(){this.playbackCompleted=true;this.player.timer().stop(true);var t=this._getPlayerDuration();this._setupResetCooldownTimer();ze(this.tracker,Ve.player.completeVod,{player_media_id:this.player.mediainfo.referenceId,player_media_type:tt,metadata_content_length:t,stream_url:this.src,player_from_position:t,player_to_position:t})}},{key:"_onPlayerContentUpdate",value:function e(){this.lastFromPosition=0;this.playEventSent=false;this.playbackCompleted=false}},{key:"_setupResetCooldownTimer",value:function e(){var t=this;this.blockResetAfterComplete=true;setTimeout(function(){t.blockResetAfterComplete=false},it)}},{key:"_isUsingSSAI",value:function e(){return this.player.usingPlugin("ssai")&&this.player.ssai().state.enabled}},{key:"_isSsaiAdPlaying",value:function e(){return this.player.usingPlugin("ssai")&&this.player.ssai().currentLinearAd()!==null&&this.player.ssai().currentLinearAd()!==undefined}}]);return r}(Ze);var lt=v.getPlugin("plugin");var ct="Snowplow LIVE Plugin";var ft="LIVE";var dt=58e3;var pt="com.elementaltechnologies.timestamp.utc";var ht={difference:0,adjustDate:function e(t){return t-ht.difference}};var vt=Date.now;var yt=function e(t){return ht.adjustDate(t)};var mt=function(t){Ee(r,t);function r(t,n){var i;be(this,r);i=Ce(this,ke(r).call(this,t,n));we(Oe(i),"baseEventPayload",function(){return{player_media_id:i.showInfo.mediaId,player_media_type:ft,stream_url:i.src,player_from_position:0,player_to_position:0}});we(Oe(i),"handleTimeFired",function(){var e=vt();var t=i.baseEventPayload();var r=Object.assign(t,{player_from_position:yt(i.lastFromTimestamp),player_to_position:yt(e)});if(r.player_to_position>r.player_from_position){ze(i.tracker,Ve.player.progressLive,r);i.lastFromTimestamp=e}else{v.log.warn(ct,"Discarding invalid progress event, from_position >= to_position")}});we(Oe(i),"handlePlayerPaused",function(e){var t=e.stopTimer;if(!i.playerPaused){i.playerPaused=true;ze(i.tracker,Ve.player.pause,{})}if(t){i.player.timer().stop(true)}});we(Oe(i),"handlePlayerPlay",function(e){var t=e.checkForStartEvent;var r=i.playerPaused;if(i.playerPaused){r=false;ze(i.tracker,Ve.player.resume,{})}if(t&&(!i.firstStartSent||i.playerPaused)){i.firstStartSent=true;i.handleStartEvent()}i.playerPaused=r});we(Oe(i),"handleStartEvent",function(){var e=i.baseEventPayload();var t=Object.assign(e,{player_channel_name:i.showInfo.channelName});ze(i.tracker,Ve.player.startLive,t)});we(Oe(i),"handlePlayEvent",function(){if(!i.loadEventSent){i._onPlayerLoaded()}if(i.playEventSent)return true;var e=i.baseEventPayload();var t=Object.assign(e,{player_channel_name:i.showInfo.channelName});if(!i.player.events().state.adsQueueComplete&&i.player.usingPlugin("ima3")){i.player.one(y["events"].player.adbreakcomplete,function(){ze(i.tracker,Ve.player.playLive,t);i.player.play();i.playerPaused=false})}else{ze(i.tracker,Ve.player.playLive,t);i.playerPaused=false}return true});i.src=n.src||e.location.href;i.showInfo=n.contentInfo||{};i.lastFromTimestamp=vt();i.loadEventSent=false;i.playEventSent=false;i.firstStartSent=false;i.playerPaused=false;i.playerStarted=false;i.tracker=Qe(t,n);Ye(t,i.tracker);if(!t.timer){v.log.debug(ct,"No timer plugin found, registering it");v.registerPlugin("timer",He)}i.on(t,y["events"].player.timerFired,i._onTimerFired);i.on(t,y["events"].player.loaded,i._onPlayerLoaded);i.on(t,y["events"].player.adstart,i._onPlayerAdStart);i.on(t,y["events"].player.adend,i._onPlayerAdEnd);i.on(t,y["events"].player.adsplay,i._onPlayerAdsPlay);i.on(t,y["events"].player.play,i._onPlayerPlay);i.on(t,y["events"].player.playing,i._onPlayerPlaying);i.on(t,y["events"].player.adspause,i._onPlayerAdsPause);i.on(t,y["events"].player.pause,i._onPlayerPause);i.on(t,y["events"].player.id3,i._onPlayerId3);return i}Se(r,[{key:"dispose",value:function e(){if(!this.playerPaused&&this.playEventSent&&this.player.ads.state!==Xe){this.handleTimeFired()}this.off(this.player,y["events"].player.timerFired,this._onTimerFired);this.off(this.player,y["events"].player.loaded,this._onPlayerLoaded);this.off(this.player,y["events"].player.adstart,this._onPlayerAdStart);this.off(this.player,y["events"].player.adend,this._onPlayerAdEnd);this.off(this.player,y["events"].player.adsplay,this._onPlayerAdsPlay);this.off(this.player,y["events"].player.play,this._onPlayerPlay);this.off(this.player,y["events"].player.playing,this._onPlayerPlaying);this.off(this.player,y["events"].player.adspause,this._onPlayerAdsPause);this.off(this.player,y["events"].player.pause,this._onPlayerPause);this.off(this.player,y["events"].player.id3,this._onPlayerId3);xe(ke(r.prototype),"dispose",this).call(this)}},{key:"_onPlayerLoaded",value:function e(){if(this.loadEventSent)return;ze(this.tracker,Ve.player.loadLive,{player_media_id:this.showInfo.mediaId,player_media_type:ft,stream_url:this.src,player_from_position:0,player_to_position:0});this.loadEventSent=true}},{key:"_onPlayerAdStart",value:function e(){if(!this.loadEventSent){this._onPlayerLoaded()}ze(this.tracker,Ve.player.adBeginLive,{player_media_id:this.showInfo.mediaId,player_media_type:ft,stream_url:this.src,player_from_position:0,player_to_position:0})}},{key:"_onPlayerAdEnd",value:function e(){ze(this.tracker,Ve.player.adCompleteLive,{player_media_id:this.showInfo.mediaId,stream_url:this.src,player_media_type:ft,player_from_position:0,player_to_position:0})}},{key:"_onPlayerPlay",value:function e(){this.handlePlayerPlay({checkForStartEvent:true})}},{key:"_onPlayerPlaying",value:function e(){this.playEventSent=this.handlePlayEvent();if(!this.player.timer().isActive()&&this.player.ads.state!==Xe){this.player.timer().start(dt);this.lastFromTimestamp=vt()}}},{key:"_onPlayerAdsPlay",value:function e(){this.handlePlayerPlay({checkForStartEvent:false})}},{key:"_onTimerFired",value:function e(){this.handleTimeFired()}},{key:"_onPlayerAdsPause",value:function e(){this.handlePlayerPaused({stopTimer:false})}},{key:"_onPlayerPause",value:function e(){this.handlePlayerPaused({stopTimer:true})}},{key:"_onPlayerId3",value:function e(t,r){if(r.owner===pt&&r.PRIV){var n=Date.parse(r.PRIV);if(n){ht.difference=Date.now()-n}}else if(r.TDRL){var i=r.TDRL.substring(1,r.TDRL.length-1);var a=Date.parse(i);if(a){ht.difference=Date.now()-a}}else{v.log.debug(ct,"Ignoring ID3 update, unknown owner - ",r)}}}]);return r}(lt);var gt="0.14.5";var _t=function(e){Ee(t,e);function t(e){var r;be(this,t);r=Ce(this,ke(t).call(this,e));we(Oe(r),"pluginName","snowplow");v.registerPlugin("events",Be);v.registerPlugin("snowplowLive",mt);v.registerPlugin("snowplowVod",ut);return r}Se(t,[{key:"afterVideo",value:function e(t,r){return this.setupSnowplow(t,r)}},{key:"setupSnowplow",value:function e(t,r){var n=this;if(!r.video||!r.videoType)return;t.events({videoType:r.videoType});if(this._config.DISABLE_SNOWPLOW)return;if(!r.chromecast||!r.chromecast.STATE.isConnected){this.activateSnowplow(t,r)}t.on("reload-video",function(){n.activateSnowplow(t,r)})}},{key:"activateSnowplow",value:function e(t,r){var n=t.el().getAttribute("data-postcode");var i={appId:this._config.SNOWPLOW_APP_ID,appName:this._config.SNOWPLOW_APP_NAME,appVersion:this._config.SNOWPLOW_APP_VERSION||gt,production:!!this._config.SNOWPLOW_PRODUCTION_MODE,snowplowUrl:this._config.SNOWPLOW_URL,snowplowEndpoint:this._config.SNOWPLOW_ENDPOINT,adChoice:r.adChoice,adBlocker:r.adBlock,postcode:n||r.postcode,advertisingId:r.advertisingId,appSessionId:r.appSessionId,playerVideoSessionId:r.playerVideoSessionId,deviceId:r.deviceId,userId:r.userId,contentInfo:{mediaId:r.liveMediaId||r.video.id,channelName:r.channelName||r.video.name,startAt:r.startAt}};if(r.videoType==="live"&&!t.usingPlugin("snowplowLive")){t.snowplowLive(i)}else if(!t.usingPlugin("snowplowVod")){t.snowplowVod(i)}}}]);return t}(y["PlayerPlugin"]);we(_t,"VERSION",gt);var bt=_t;function Tt(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){Tt=function e(t){return typeof t}}else{Tt=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return Tt(e)}function St(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function Et(e,t,r){if(t)wt(e.prototype,t);if(r)wt(e,r);return e}function kt(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable});r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};if(t%2){Pt(r,true).forEach(function(t){kt(e,t,r[t])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))}else{Pt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}}return e}function Ct(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)xt(e,t)}function At(e){At=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return At(e)}function xt(e,t){xt=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return xt(e,t)}function It(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function Lt(e,t){if(t&&(Tt(t)==="object"||typeof t==="function")){return t}return It(e)}var Dt="2";var Rt="1";var jt="y";var Mt="n";var Nt="content";var Ut="cms";var Bt="86400";var Ft="Website";var qt={adloadtype:Dt,dataSrc:Ut,hasAds:Rt,type:Nt,segC:Ft};var Ht={isfullepisode:jt,length:Bt};var Vt=function e(t){var r=t.channelName,n=t.mediaId;return Ot({},qt,{},Ht,{program:"".concat(r," - Live"),title:"".concat(r," - Live"),assetid:n,segB:r})};var Wt=function e(t){var r=t.duration,n=t.episodePlayerId,i=t.isShortForm,a=i===void 0?false:i,o=t.seriesTitle,s=t.title;return Ot({},qt,{assetid:n,isfullepisode:a?Mt:jt,length:r,program:o,title:s,segB:"VOD - ".concat(a?"Short":"Long"," Form")})};var Gt=function e(t){var r=t.id,n=t.type;return{assetid:r,type:n}};var zt=v.getPlugin("plugin");var Xt="vod";var Yt="live";var Kt="end";var $t="loadMetadata";var Jt="setPlayheadPosition";var Qt="stop";var Zt=-1;var er=1;var tr=1e3;var rr=1;var nr=rr*tr;var ir=function t(r){return e.setTimeout(r,er)};var ar=e.clearTimeout;var or=e.requestIdleCallback||ir;var sr=e.cancelIdleCallback||ar;var ur=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Date.now();return t/tr};var lr=function e(t,r){return Math.abs(t-r)};var cr=function(t){Ct(r,t);function r(t,n){var i;St(this,r);i=Lt(this,At(r).call(this,t,n));kt(It(i),"generateContentMetadata",function(e){var t=e.mediainfo;if(i.videoType===Yt){return Vt({channelName:t.name,mediaId:t.id})}var r=t.duration,n=t.referenceId,a=t.name;var o=t.customFields&&t.customFields.content_showname||i.defaultProgramName;return Wt({duration:Math.floor(r),episodePlayerId:n,seriesTitle:o,title:a,isShortForm:i.handleShortForm(t)})});kt(It(i),"getVideoType",function(e){var t=e.mediainfo;if(!t.customFields||!t.customFields.video_type)return Xt;return t.customFields.video_type});kt(It(i),"init",function(){i.one(i.player,y["events"].player.play,i.handleFirstPlay);i.one(i.player,y["events"].player.loadedmetadata,i.handleLoadedMetadata);i.on(i.player,y["events"].player.contentupdate,i.handleContentUpdate);i.on(i.player,y["events"].ads.ADS_AD_STARTED,i.handleAdsAdStarted);i.on(i.player,y["events"].ads.ADS_AD_ENDED,i.handleAdsAdEnded);i.on(i.player,y["events"].media.ENDED,i.handleEnded)});kt(It(i),"handleEnded",function(){i.triggerEndEvent(i.player.duration());i.one(i.player,y["events"].media.PLAY,function(){i.triggerLoadMetadata()})});kt(It(i),"handlePause",function(){if(i.player.scrubbing()||i.player.ended()){return}i.triggerStopEvent(i.previousTime)});kt(It(i),"handleAdsPause",function(){i.triggerStopEvent(i.adPreviousTime)});kt(It(i),"handleAdsAdEnded",function(){i.adPreviousTime=0;if(i.player.usingPlugin("ima3")){i.off(i.player.ima3.adPlayer,y["events"].media.TIMEUPDATE,i.handleIma3TimeUpdate);i.off(i.player,y["events"].ads.ADS_PAUSE,i.handleAdsPause)}else{i.off(i.player,y["events"].ads.ADTIMEUPDATE,i.handleSSAITimeUpdate)}sr(i.idleCallbackId);var e=Math.floor(i.player.ads.ad.duration);i.triggerStopEvent(e)});kt(It(i),"handleAdsAdStarted",function(){i.triggerLoadAdMetadata();i.adPreviousTime=Zt;if(i.player.usingPlugin("ima3")){i.on(i.player.ima3.adPlayer,y["events"].media.TIMEUPDATE,i.handleIma3TimeUpdate);i.on(i.player,y["events"].ads.ADS_PAUSE,i.handleAdsPause)}else{i.on(i.player,y["events"].ads.ADTIMEUPDATE,i.handleSSAITimeUpdate)}i.off(i.player,y["events"].ads.CONTENTPLAYBACK,i.handleContentPlayback);i.one(i.player,y["events"].ads.CONTENTPLAYBACK,i.handleContentPlayback)});kt(It(i),"handleContentUpdate",function(){i.videoType=i.getVideoType(i.player);i.contentMetadata=i.generateContentMetadata(i.player)});kt(It(i),"handleContentPlayback",function(){i.triggerLoadMetadata();i.one(i.player,y["events"].ads.ADS_POD_STARTED,function(){i.triggerStopEvent(i.previousTime)})});kt(It(i),"handleFirstPlay",function(){i.triggerLoadMetadata()});kt(It(i),"handleLoadedMetadata",function(){i.on(i.player,y["events"].media.PAUSE,i.handlePause);i.one(i.player,y["events"].ads.ADPLAY,function(){i.on(i.player,y["events"].ads.ADS_PAUSE,i.handleAdsPause)});if(i.videoType===Xt){i.on(i.player,y["events"].media.TIMEUPDATE,i.handleVODTimeUpdate)}else if(i.videoType===Yt){i.on(i.player,y["events"].media.TIMEUPDATE,i.handleLiveTimeUpdate)}});kt(It(i),"handleTimeUpdate",function(e,t){var r=Math.floor(e);var n=lr(r,t);if(n>=rr){i.triggerSetPlayheadPosition(r);return r}return t});kt(It(i),"handleAdTimeUpdate",function(e){i.adPreviousTime=i.handleTimeUpdate(e,i.adPreviousTime)});kt(It(i),"handleContentTimeUpdate",function(e){i.previousTime=i.handleTimeUpdate(e,i.previousTime)});kt(It(i),"handleLiveTimeUpdate",function(){var e=ur();i.handleContentTimeUpdate(e)});kt(It(i),"handleVODTimeUpdate",function(){if(i.player.scrubbing()){return}var e=i.player.currentTime();i.handleContentTimeUpdate(e)});kt(It(i),"handleSSAITimeUpdate",function(){var e=i.player.currentTime();i.handleAdTimeUpdate(e)});kt(It(i),"handleIma3TimeUpdate",function(){var e=i.player.ima3.adPlayer.currentTime();i.handleAdTimeUpdate(e)});kt(It(i),"triggerLoadAdMetadata",function(){var e=i.player.ads,t=e.adType,r=e.ad.id;var n=Gt({type:t,id:r});i.triggerLoadMetadata(n)});kt(It(i),"triggerNielsenEvent",function(t,r){i.idleCallbackId=or(function(){return e.NOLBUNDLE[i.instanceName].ggPM(t,r)},{timeout:nr})});kt(It(i),"triggerStopEvent",function(e){i.triggerNielsenEvent(Qt,e)});kt(It(i),"triggerEndEvent",function(e){i.triggerNielsenEvent(Kt,Math.floor(e))});kt(It(i),"triggerLoadMetadata",function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:i.contentMetadata;i.triggerNielsenEvent($t,e)});kt(It(i),"triggerSetPlayheadPosition",function(e){i.triggerNielsenEvent(Jt,e)});i.instanceName=n.instanceName;i.defaultProgramName=n.programName;i.videoType=i.getVideoType(t);i.contentMetadata=i.generateContentMetadata(t);i.previousTime=Zt;i.adPreviousTime=Zt;if(e.NOLBUNDLE&&e.NOLBUNDLE[i.instanceName]){i.init()}else{v.log.warn("Nielsen SDK or instance not found, no events will be tracked.")}return i}Et(r,[{key:"handleShortForm",value:function e(t){if(!t.customFields||typeof t.customFields.content_type!=="string")return true;var r=t.customFields.content_type.toLowerCase();return r!=="episode"&&r!=="movie"}}]);return r}(zt);var fr="0.7.1";var dr=function(r){Ct(n,r);function n(t){var r;St(this,n);r=Lt(this,At(n).call(this,t));kt(It(r),"pluginName","nielsen");if(!r._config.NIELSEN_API_KEY||r._config.DISABLE_NIELSEN)return Lt(r);if(!e.NOLBUNDLE&&!r._config.NIELSEN_DISABLE_SDK_LOAD){r.loadNielsenSDK()}v.registerPlugin("nielsen",cr);return r}Et(n,[{key:"afterVideo",value:function e(t,r){return this.nielsen(t,r)}},{key:"nielsen",value:function t(r,n){if(typeof r.nielsen!=="function"||this._config.DISABLE_NIELSEN||!this._config.NIELSEN_API_KEY||n.disableNielsen||!r.mediainfo)return;var i=n.nielsenInstanceName||this._config.NIELSEN_INSTANCE_NAME||this._config.NIELSEN_API_KEY;var a={programName:this._config.NIELSEN_PROGRAM_NAME,instanceName:i};var o={};if(this._config.NIELSEN_SDK_DEBUG){o.nol_sdkDebug=this._config.NIELSEN_SDK_DEBUG}else if(n.nielsenSdkDebug){o.nol_sdkDebug=n.nielsenSdkDebug}e.NOLBUNDLE.nlsQ(this._config.NIELSEN_API_KEY,i,o);r.nielsen(a)}},{key:"loadNielsenSDK",value:function r(){var n=function r(n,i,a){var o=t.createElement("script");o.async=1;o.src="//cdn-gl.imrworldwide.com/conf/".concat(n,".js#name=").concat(i,"&ns=NOLBUNDLE");var s=t.getElementsByTagName("script")[0];s.parentNode.insertBefore(o,s);e.NOLBUNDLE[i]=e.NOLBUNDLE[i]||{g:a||{},ggPM:function t(r,n,a,o,s){(e.NOLBUNDLE[i].q=e.NOLBUNDLE[i].q||[]).push([r,n,a,o,s])}};return e.NOLBUNDLE[i]};e.NOLBUNDLE=e.NOLBUNDLE||{nlsQ:n}}}]);return n}(y["PlayerPlugin"]);kt(dr,"VERSION",fr);var pr=dr;function hr(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){hr=function e(t){return typeof t}}else{hr=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return hr(e)}function vr(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function yr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function mr(e,t,r){if(t)yr(e.prototype,t);if(r)yr(e,r);return e}function gr(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable});r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};if(t%2){_r(r,true).forEach(function(t){gr(e,t,r[t])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))}else{_r(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}}return e}function Tr(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)wr(e,t)}function Sr(e){Sr=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return Sr(e)}function wr(e,t){wr=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return wr(e,t)}function Er(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function kr(e,t){if(t&&(hr(t)==="object"||typeof t==="function")){return t}return Er(e)}var Pr="0.1.0";var Or="https://cdn.parsely.com/videoplugins/brightcove/videojs-parsely-loader-v1-latest.min.js";var Cr=function(t){Tr(r,t);function r(e){var t;vr(this,r);t=kr(this,Sr(r).call(this,e));gr(Er(t),"pluginName","parsely");t._src=Or;t.parselyApikey=e.PARSELY_API_KEY;t._autoLoad=!!t.parselyApikey;return t}mr(r,[{key:"afterVideo",value:function t(r){var n=this;if(!this.parselyApikey){return}this._addToQueue(function(){if(typeof r.parselyLoader!=="function")return;var t=e.PARSELY;if(t&&t.video){t.video.onPlay=function(e,n,i){t&&t.video.trackPlay(n,br({},i,{title:r.mediainfo.name}))}}r.parselyLoader({apikey:n.parselyApikey})})}}]);return r}(y["VendorPlugin"]);gr(Cr,"VERSION",Pr);var Ar=Cr;function xr(e){return Dr(e)||Lr(e)||Ir()}function Ir(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Lr(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function Dr(e){if(Array.isArray(e))return e}var Rr=f.a.parse(e.location.search,{ignoreQueryPrefix:true});var jr={};try{jr=JSON.parse(atob(Rr.swmPlayerConfig))}catch(e){console.warn("SWM Player AMP: Problem with parsing SWM player config")}var Mr=new p.a(jr);Mr.plugins([I,y["PlaySwapPlugin"],y["RefreshStreamPlugin"],G,ae,bt,pr,Ar]);v.registerPlugin("ampSwmPlayer",function(){if(!Rr.videoIdAmp)return;var e=Rr.appId;if(!e&&Rr.iu){var t=Rr.iu.split("/");var r=xr(t),n=r.slice(2);if(n.length)e=n.join("/")}Mr.initPlayer(this.id(),{videoId:Rr.videoIdAmp,appId:e||"7plus",custParams:Rr.custParams}).then(function(e){if(jr.POSTER_IMAGE){e.poster(jr.POSTER_IMAGE)}})})}]);var g=i?y.qs().search:{};if(i){(function(t){var r=function(t,r){if(t in e){return v.log.warn("setting window."+t+" would overwrite an existing global, skipping")}e[t]=r};r("custParams",t["custParams"]);r("correlator",t["correlator"]);r("scor",t["scor"]);r("iu",t["iu"]);r("cmsid",t["cmsid"]);r("vid",t["vid"])})(v.mergeOptions(g))}var _=function(e){return e.hasAttribute("autoplay")||g.hasOwnProperty("autoplay")};var b=function(e,r,n){if(!r&&!n&&r!==0&&n!==0){return}var i=t.querySelector(".bc-style-P5PBiNMA1-default")||t.querySelector(".bc-style-vjs");var a="bc-player-P5PBiNMA1_default";var o=a+"-index-"+e;var s=o+"-video-dimensions";var u=t.querySelector("."+s);var l=/width: (\d+)px;/g;var c=/height: (\d+)px;/g;var f;var d;if(!u){u=t.createElement("style");u.className=s;if(i){i.parentNode.insertBefore(u,i.nextSibling)}else{t.head.appendChild(u)}}else if(u.innerText){if(!r&&r!==0){f=l.exec(u.innerText);if(f&&f[1]){r=parseInt(f[1])}}else if(!n&&n!==0){f=c.exec(u.innerText);if(f&&f[1]){n=parseInt(f[1])}}}d="."+o+"{";if(r||r===0){d+="width: "+parseInt(r)+"px;"}if(n||n===0){d+="height: "+parseInt(n)+"px;"}d+="}";u.innerText=d};var T=function(r){var n=v.getPlayer(r);if(n){n.trigger({type:"usage",name:"bc-used-as-getter"});return n}a++;var d;var h;var T;var S;var w;var E;var k;var P;y.perf.mark("bcInitStart");var O;var C=function(e,t){d=e;t=t||{};if(!v.browser.IS_ANY_SAFARI){t.html5=t.html5||{};t.html5.nativeCaptions=false}l=i&&g.applicationId||e.getAttribute("data-application-id")||"";var r=g.adConfigId;var n=e.getAttribute("data-ad-config-id");if(i&&y.isNonEmptyStr(r)){O=r}else if(y.isNonEmptyStr(n)){O=n}if(typeof O==="string"){O=O.trim()}w=!!e.querySelector("source");S=!!e.querySelector("track");E=e.hasAttribute("poster");t.inactivityTimeout=5e3;if(v.browser.TOUCH_ENABLED){t.inactivityTimeout=0}h=e.getAttribute("height")||undefined;T=e.getAttribute("width")||undefined;if(!i&&e&&T||h){b(a,T,h)}t=v.mergeOptions(t,{width:T,height:h,nativeControlsForTouch:p(),controls:i?true:e.hasAttribute("controls"),persistTextTrackSettings:true,autoplay:_(e)||false||"autoplay"in t&&Boolean(t.autoplay),preload:"metadata","vtt.js":"https://vjs.zencdn.net/vttjs/0.12.5/vtt.global.min.js",sourceOrder:true,controlBar:{}});if(i){if(g.language){t.language=g.language}if(g.autoplay!==undefined){t.autoplay=true}if(g.preload){t.preload=g.preload}if(g.playsinline!==undefined){e.setAttribute("playsinline","playsinline")}if(g.muted!==undefined){e.setAttribute("muted","muted");e.muted=true;t.muted=true}if(g.crossorigin!==undefined){e.setAttribute("crossorigin","anonymous")}}if(!t.flash){t.flash={}}if(!t.flash.swf){t.flash.swf="https://players.brightcove.net/videojs-flashls-source-handler/1.4.1/video-js.swf"}if(typeof v.options.hls!=="object"){v.options.hls={}}if(v.browser.IS_ANDROID&&v.options.hls.enableLowInitialPlaylist===undefined){v.options.hls.enableLowInitialPlaylist=true}if(v.options.hls.overrideNative===undefined&&!v.browser.IS_ANY_SAFARI){v.options.hls.overrideNative=true}if(v.options.hls.overrideNative===true){t.html5=t.html5||{};t.html5.nativeAudioTracks=false;t.html5.nativeVideoTracks=false}return t};var A=function(r){var n=r.options_;var p=r.dimension;r.bcinfo={accountId:u,applicationId:l,css:{controlBarColor:"rgba(0, 0, 0, 0.45)",controlColor:"#fff",progressColor:"rgb(4, 61, 226)"},embedId:c,playerId:f,scriptUrl:o,scriptBaseUrl:s};Object.defineProperty(r,"usingAdBlocker",{enumerable:true,value:m});r.dimension=function(e,t){var n=new RegExp("bc-player-"+f+"_"+c+"-index-(\\d+)");var i=n.exec(r.el().getAttribute("class"));if(i){var a=i[1];if(e==="width"){b(a,t,null)}else if(e==="height"){b(a,null,t)}}return p.call(r,e,t)};r.addClass("bc-player-"+f+"_"+c);r.addClass("bc-player-"+f+"_"+c+"-index-"+a);if(!v.browser.TOUCH_ENABLED){r.addClass("vjs-mouse");if(i){v.dom.addClass(i,"vjs-mouse")}}else if(v.browser.IS_IPHONE){r.addClass("vjs-native")}r.on("dispose",function(){d=r=h=T=n=S=w=E=k=P=l=playerName=null});if(v.browser.IS_IPHONE){r.on("fullscreenchange",function(){var e=r.$(".vjs-tech");if(e.hasAttribute("controls")){e.removeAttribute("controls")}});if(d.hasAttribute("playsinline")&&d.hasAttribute("muted")){r.addClass("vjs-iphone")}}if(v.browser.IS_IOS&&d.hasAttribute("muted")){r.addClass("vjs-ios");r.on("loadstart",function(){var e=r.controlBar.volumePanel;if(e){e.show();if(e.muteToggle){e.muteToggle.show()}}})}var _=function(){return(new Date).toISOString().split("T")[0]+":"+r.bcAnalytics.client.getSession()};r.ready(function(){y.perf.mark("bcInitEnd");y.perf.measure("bcInit","bcInitStart","bcInitEnd")});var C={bcAnalytics:{applicationId:l,mr:Boolean(e.bc_isManagedRelease),usage:g.usage},contextmenuUI:{content:[{label:r.localize("Player Information"),listener:function(){r.playerInfo.modal.open()}},{href:"https://www.brightcove.com/en/why-brightcove?utm_type=player",label:"About Brightcove"}]},fullscreenOpen:{applicationId:l},resizeTextTracks:{iframe:i},viewport:{width:n.vwunit,height:n.vhunit,iframe:i,el:t.body}};function A(e,t){var n=C[e]||{};if(r.usingPlugin(e)){return}r[e](v.mergeOptions(n,t))}A("proxyTracks");A("perSourceBehaviors");A("seekEvents");A("viewport");A("posterStretch");A("fullscreenOpen",{accountId:"4761797480001",embedId:"default",playerId:"P5PBiNMA1"});A("urlparams");A("resizeTextTracks");A("bcAnalytics",{accountId:"4761797480001",embedId:"default",platformVersion:"6.18.3",playerId:"P5PBiNMA1",playerName:"7NEWS, TheWest & Perthnow - AMP - SWM Player"});A("errors",{});A("catalog",{accountId:"4761797480001",policyKey:"BCpkADawqM0DDw19NyXW8HYv6ywzHzuh20lUOLa8A7-afTvOp0AjT901bCj8pvGQAlbuUPUKrbSRxKJXV7yHBQ2ebGC159vvEAJlBJ4G2VmmEeK-ZuB08VsKKe6ph9narO80eFChm0JXfj1p"});A("touchActive");A("ampSupport");A("ampSwmPlayer");r.errorDisplay.on("modalfill",function(){var e=_();var t=r.errorDisplay.$(".vjs-errors-content-container");if(!e||!t){return}t.appendChild(v.dom.createEl("div",{className:"vjs-errors-ref-id",innerHTML:"<b>"+r.localize("Session ID:")+"</b> "+e+" "+"<b>"+r.localize("Player Element ID:")+"</b>"+r.id()}))});r.catalog.autoFindAndLoadMedia({adConfigId:O,embedHasPoster:!!E,embedHasSources:w,embedHasTracks:S,playlistId:"",videoId:""});(function(){var e,t=parseInt("0",10),n=false;r.playlist();if(t===t&&isFinite(t)&&t>=0){r.playlist.autoadvance(t)}})();r.requestAnimationFrame(function(){var e=t.querySelector(".bc-wrap");r.addClass("vjs-plugins-ready");if(e){e.style.opacity=0}});r.on(["mouseenter","ended","touchend"],function(){r.removeClass("not-hover")});r.on("mouseleave",function(){r.addClass("not-hover")})};v.hookOnce("beforesetup",C);v.hookOnce("setup",A);return v.apply(null,arguments)};T.SKIN="luna";T.VERSION="6.18.3";if(i){e.bc=T}T.videojs=v;Object.defineProperty(T,"usingAdBlocker",{enumerable:true,value:m});if(h){e.videojs=h}return T})(window,document);;</script>
    <script>(function(p){p.mark&&p.mark('bcParseEnd');p.measure&&p.measure('bcParse','bcParseStart','bcParseEnd')})(window.performance||{})</script>
      <script>bc(document.querySelector('video-js'));</script>
  </body></html>
