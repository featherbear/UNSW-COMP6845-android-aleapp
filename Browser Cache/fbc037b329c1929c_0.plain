!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],i):e.parsely=i(e.videojs)}(this,function(n){"use strict";n=n&&n.hasOwnProperty("default")?n["default"]:n;var o={apikey:null,apikeyMappings:null,autodetectApikey:!1,iframeOnly:!0,trackerSrc:undefined},e=n.registerPlugin||n.plugin,t=function t(e){for(var i in e){var n=e[i];e[i]="true"===n||"false"!==n&&n}return e},c=function c(e,i){var n=void 0,o={},t=function t(e){return e.replace(/[\.-]/g,"")},r=function r(e){return i.autodetectApikey?e.replace("www.",""):undefined};if(e){var d=document.createElement("a");d.href=document.referrer,n=d.hostname}else n=window.location.hostname;if(Array.isArray(i.apikeyMappings)){var a=t(n);o=i.apikeyMappings.find(function(e){return a.includes(t(e.domain))})||{}}return o.apikey||i.apikey||r(n)},a=function a(e,i){window.PARSELY=window.PARSELY||{};var n,o,t,r,d=window.top!==window;!0===i.iframeOnly&&!1==d||(Array.isArray(i.apikeyMappings)&&i.apikeyMappings.forEach(function(e){e.hasOwnProperty("tld")&&(e.domain=e.tld)}),(n=c(d,i))!==undefined&&(window.PARSELY.autotrack=!1,window.PARSELY.config={heartbeat_should_honor_autotrack:!0},window.PARSELY.onload=function(){var e=window.PARSELY.video._strategies.find(function(e){return"brightcove"===e.platform});window.PARSELY.video._strategies=[],window.PARSELY.video._subscribedElements=[],window.PARSELY.video.detectVideos?(window.PARSELY.video.addStrategy(e),window.PARSELY.video.detectVideos(),window.setInterval(window.PARSELY.video.detectVideos,2e3)):(window.PARSELY.video.autotrack=!0,window.PARSELY.video.addStrategy(e))},window.PARSELY.video={autotrack:!1,onPlay:function(e,i,n){var o=d?document.referrer:window.location.href;window.PARSELY.video.trackPlay(i,n,o)}},o=document,t=o.body,(r=o.createElement("script")).src=i.trackerSrc||"//cdn.parsely.com/keys/"+n+"/p.js",r.id="parsely-cfg",t.appendChild(r)))},r=function r(e){var i=this;this.addClass("vjs-parsely"),this.ready(function(){a(i,t(n.mergeOptions(o,e)))})};return e("parsely",r),r.VERSION="1.2.3",r});